!function(){"use strict";angular.module("org.bonitasoft.common.i18n",["ngCookies","gettext","org.bonitasoft.common.resources"])}(),function(){"use strict";angular.module("org.bonitasoft.common.moment",["org.bonitasoft.common.i18n","gettext"])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.applications",["org.bonitasoft.common.resources","org.bonitasoft.features.admin.applications.list","org.bonitasoft.features.admin.applications.details","angularFileUpload","ui.bootstrap"])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.bdm",["ui.bootstrap","angularFileUpload","org.bonitasoft.common.resources","ui.router","gettext","org.bonitasoft.common.directives.tenantResourceStatus"])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.organisation",["org.bonitasoft.features.admin.organisation.users"])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.organisation.users",["ui.router","gettext","angular-growl","angularFileUpload","ui.bootstrap","org.bonitasoft.common.moment","org.bonitasoft.common.resources"])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.processes.details",["ngAnimate","ui.router","ui.bootstrap","gettext","org.bonitasoft.service.token","angular-growl","org.bonitasoft.services.topurl","org.bonitasoft.common.directives.bonitaHref","org.bonitasoft.common.directives.toggleButton","org.bonitasoft.common.resources","org.bonitasoft.features.admin.processes.details.actorMapping","org.bonitasoft.features.admin.processes.editActorMembers","org.bonitasoft.services.topurl","org.bonitasoft.features.admin.processes.details.information","org.bonitasoft.features.admin.processes.details.processConnectors","org.bonitasoft.features.admin.processes.details.params","org.bonitasoft.service.process.resolution","org.bonitasoft.common.filters.stringTemplater"])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks",["org.bonitasoft.features.user.tasks.list","gettext"])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.list",["org.bonitasoft.features.user.tasks.app","org.bonitasoft.features.user.tasks.filters","org.bonitasoft.features.user.tasks.list.table","org.bonitasoft.features.user.tasks.details","org.bonitasoft.features.user.tasks.app.config","org.bonitasoft.features.user.tasks.list.comments","org.bonitasoft.features.user.tasks.app.store","org.bonitasoft.templates","org.bonitasoft.portalTemplates","common.security","ui.bootstrap.tpls","as.sortable"])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.list.comments",["org.bonitasoft.common.resources","org.bonitasoft.common.moment","org.bonitasoft.features.user.tasks.app.store","ngToast"])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.details",["org.bonitasoft.features.user.tasks.app.store","org.bonitasoft.features.user.tasks.app.pref","org.bonitasoft.common.resources","common.filters","common.iframe","org.bonitasoft.features.user.tasks.ui.iframe","ui.bootstrap.tabs","ui.bootstrap.modal","ngToast","gettext","ui.router"])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.filters",["ui.bootstrap.buttons","gettext"])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.list.table",["ui.router","org.bonitasoft.common.moment","org.bonitasoft.features.user.tasks.app.config","org.bonitasoft.features.user.tasks.app.pref","org.bonitasoft.features.user.tasks.app.store","org.bonitasoft.features.user.tasks.app.priorities","org.bonitasoft.bonitable","org.bonitasoft.bonitable.selectable","org.bonitasoft.bonitable.sortable","org.bonitasoft.bonitable.repeatable","org.bonitasoft.bonitable.settings","ui.focus","common.filters","ui.bootstrap.pagination","ui.bootstrap.dropdown","keymaster","ngToast","gettext"])}(),function(){"use strict";angular.module("org.bonitasoft.common.directives.bonitaHref",["org.bonitasoft.services.topurl"]).directive("bonitaHref",["manageTopUrl",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(){a.goTo(b.$eval(d.bonitaHref)||d.bonitaHref)})}}}])}(),function(){"use strict";angular.module("org.bonitasoft.common.directives.bonitags",[]).directive("bonitags",["$timeout",function(a){return{scope:{tagsSuggestion:"=",tagsSelection:"="},restrict:"E",template:'<div class="bootstrap-tags"></div>',replace:!0,link:function(b,c,d){function e(){f&&f.readOnly&&f.renderReadOnly()}var f;a(function(){f=c.tags({readOnly:""===d.readOnly||"true"===d.readOnly,tagData:b.tagsSelection,suggestions:b.tagsSuggestion,tagClass:d.tagClass||"label-default",promptText:" ",readOnlyEmptyMessage:" "}),b.$watch("tagsSelection",e,!0)},0)}}}])}(),function(){"use strict";function a(a,b,c){a.error=c&&a.form[b.field].$dirty,a.errorMessage=a.errors[b.name]}function b(a,b,c){a.$parent.$watch(b.fullName,function(d){c(a,b,d)})}angular.module("org.bonitasoft.common.directives.bootstrap-form-control",[]).directive("bootstrapFormControl",["$log",function(c){return{restrict:"AE",transclude:!0,scope:{label:"@",form:"=",errors:"="},template:'<div class="form-group has-feedback"><label for="{{ id }}" class="control-label">{{ label }}<span ng-if="required" style="color:red"> *</span></label><span ng-show="error" class="glyphicon glyphicon-warning-sign form-control-feedback"></span><ng-transclude></ng-transclude><span class="help-block" ng-show="error">{{ errorMessage }}</span></div>',link:function(d,e){var f=e.find("input, textarea, select");d.id=f.attr("id"),d.required=f.attr("required");var g=f.attr("name");if(f.addClass("form-control"),d.$watch("error",function(){e.toggleClass("error has-error",!!d.error)}),angular.isUndefined(g))c.error(d.id+" doesn't specify a name attribute");else for(var h in d.errors)d.errors.hasOwnProperty(h)&&b(d,{field:g,name:h,fullName:d.form.$name+"."+g+"."+h},a)}}}])}(),function(){"use strict";angular.module("org.bonitasoft.common.directives",[])}(),function(){"use strict";angular.module("org.bonitasoft.common.table.resizable",[]).directive("resizableColumn",["$timeout",function(a){return{restrict:"A",scope:{resizableColumn:"=",resizeSelector:"@"},link:function(b,c){var d=function(){a(function(){var a=c.data("resizableColumns");a&&a.destroy(),c.resizableColumns({selector:b.resizeSelector||"tr th"})},0)};b.$watch("resizableColumn",d,!0)}}}])}(),function(){"use strict";function a(a,b,c,d){function e(){if(!h.data)return void(h.displayState="N/A");h.data.state===i?h.displayState=d("Installed"):h.data.state===j?h.displayState=d("Installing"):h.displayState=d("Not installed")}function f(){h.isInstalled()?h.lastUpdateDate=h.data.lastUpdateDate:h.lastUpdateDate="-"}function g(){h.isInstalled()?"-1"===h.data.lastUpdatedBy?h.updatedBy=d("Technical User"):c.get({id:h.data.lastUpdatedBy}).$promise.then(function(a){h.updatedBy=a.lastname||a.firstname?a.firstname+" "+a.lastname:a.userName}):h.updatedBy="-"}var h=this,i="INSTALLED",j="INSTALLING";h.isInstalled=function(){return h.data&&h.data.state===i},h.isInstalling=function(){return h.data&&h.data.state===j},a.update=function(a){h.data=a,e(),f(),g()}}angular.module("org.bonitasoft.common.directives.tenantResourceStatus",["org.bonitasoft.common.resources","org.bonitasoft.common.moment","gettext"]).directive("boTenantResourceStatus",function(){return{scope:{data:"="},controllerAs:"vm",controller:a,templateUrl:"common/directives/tenant-resource-status/tenant-resource-status.html",link:function(a){a.$watch("data",function(){a.update(a.data)})}}}),a.$inject=["$scope","sessionAPI","userAPI","gettext"]}(),function(){"use strict";angular.module("org.bonitasoft.common.directives.toggleButton",[]).directive("toggleButton",function(){return{restrict:"E",template:'<input type="checkbox">',scope:{enableToggle:"="},replace:!0,link:function(a,b,c){b.prop("checked","true"===c.initialState),b.bootstrapToggle({on:c.on||"on",off:c.off||"off",style:c.style||"bonita-toggle",height:c.height||"25px"}),a.enableToggle?b.bootstrapToggle("enable"):b.bootstrapToggle("disable"),b.change(a.$apply),a.$watch("enableToggle",function(a,c){a!==c&&(a?b.bootstrapToggle("enable"):b.bootstrapToggle("disable"))}),a.$watch(function(){return b.prop("checked")},function(c,d){d!==c&&a.$emit("button.toggle",{value:b.prop("checked")})})}}})}(),function(){"use strict";angular.module("org.bonitasoft.common.directives.urlified",["org.bonitasoft.common.filters.urlify"]).directive("urlified",["$filter",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){b.doGetTextCursorPosition=function(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else a.selectionStart||"0"===a.selectionStart||0===a.selectionStart?b=a.selectionStart:a.setSelectionRange&&(b=a.selectionStart);return b},b.doSetTextCursorPosition=function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}},b.$watch(d.ngModel,function(){e.$setViewValue(a("urlify")(b.$eval(d.ngModel)));var f=b.doGetTextCursorPosition(c[0]);e.$render(),b.doSetTextCursorPosition(c[0],f)})}}}])}(),function(){"use strict";angular.module("org.bonitasoft.common.filters.date.parser",["gettext"]).service("dateParser",["gettextCatalog","$filter",function(a,b){var c={},d=a.getString("MM/dd/yyyy h:mm a");return c.parseAndFormat=function(a){return a&&b("date")(a.replace(/ /,"T"),d)},c}])}(),function(){"use strict";angular.module("org.bonitasoft.common.filters.stringTemplater",[]).filter("stringTemplater",function(){return function(a,b){var c=/\{\}/;return a&&b&&"string"==typeof a?b instanceof Array?b.reduce(function(a,b){return a.replace(c,b)},a).replace(/\{\}/g,""):a.replace(c,b).replace(/\{\}/g,""):a}})}(),function(){"use strict";angular.module("org.bonitasoft.common.filters.urlify",[]).filter("urlify",function(){return function(a){return a?a.replace(" ","-").replace(/[^a-zA-Z0-9-_\\.~]/g,""):a}})}(),function(){"use strict";angular.module("org.bonitasoft.common.utils.filters",[]).filter("ucfirst",function(){return function(a){return a=a||"",a.charAt().toUpperCase()+a.slice(1)}})}(),function(){"use strict";angular.module("org.bonitasoft.common.i18n").value("I18N_KEYS",{}).run(["I18N_KEYS","gettext",function(a,b){a["caselist.casesStates.active.title"]=b("Open cases"),a["caselist.casesStates.archived.title"]=b("Archived cases"),a["caselist.delete.single"]=b("1 case has been deleted"),a["caselist.delete.multiple"]=b("{{nbOfDeletedCases}} cases have been deleted"),a["processDetails.informations.category.update.error"]=b("An error occured during categories update"),a["processDetails.actors.update.success"]=b("{{nbSucess}} actor mapping updates succeeded"),a["processDetails.actors.update.error"]=b("{{nbErrors}} errors on mapping updates"),a["multiSelect.selectAll"]=b("Select all"),a["multiSelect.selectNone"]=b("Select none"),a["multiSelect.reset"]=b("Reset"),a["multiSelect.search.helper"]=b("Type here to search..."),a["processDetails.actors.users.label"]=b("Users"),a["processDetails.actors.users.mapping"]=b("Users mapped to {}"),a["processDetails.actors.users.selectHelper"]=b("Select users..."),a["processDetails.actors.groups.label"]=b("Groups"),a["processDetails.actors.groups.mapping"]=b("Groups"),a["processDetails.actors.groups.selectHelper"]=b("Select groups..."),a["processDetails.actors.roles.label"]=b("Roles"),a["processDetails.actors.roles.mapping"]=b("Roles"),a["processDetails.actors.roles.selectHelper"]=b("Select roles..."),a["processDetails.actors.memberships.label"]=b("Memberships"),a["processDetails.actors.memberships.mapping"]=b("Memberships mapped to {}"),a["processDetails.actors.memberships.selectGroupHelper"]=b("Select a group..."),a["processDetails.actors.memberships.selectRoleHelper"]=b("Select a role..."),a["processDetails.actors.memberships.item.label"]=b("{{role}} of {{group}}"),a["processDetails.actors.memberships.create.success"]=b("{{role}} of {{group}} has been created"),a["processDetails.pm.mapping.update.error"]=b("{{nbMapping}} Process manager mappings could not be updated"),a["processDetails.pm.mapping.update.success"]=b("{{nbMapping}} Process manager mappings have been updated"),a["processDetails.params.control.boolean"]=b("Error: value must be a boolean"),a["processDetails.params.control.double"]=b("Error: value must be a double"),a["processDetails.params.control.integer"]=b("Error: value must be an integer"),a["processVisu.tooltip.error"]=b("To use this feature, create a new version of the process in Bonita Studio version 6.4 and above, then create and install the new .bar file in the Portal."),a["processVisu.key.cancelled"]=b("Cancelled, skipped instances"),a["processVisu.key.completed"]=b("Completed instances"),a["processVisu.key.failed"]=b("Failed instances"),a["processVisu.key.ongoing"]=b("Executing, completing, initializing instances"),a["processVisu.key.pending"]=b("Ready, waiting instances"),a["processVisu.case.title"]=b("Case id: {{caseId}} - Process: {{processName}} ({{processVersion}})"),a["processVisu.drawing.error"]=b("Error on drawing process!"),a["processVisu.drawing.inprogress"]=b("Drawing process..."),a["monitoring.processList.empty"]=b("No data"),a["monitoring.processList.error"]=b("Error!"),a["monitoring.processVisu.loading"]=b("Loading..."),a["monitoring.processList.http.error"]=b("Technical error."),a["processDetails.connector.upload.error"]=b("Cannot upload the file"),a["processDetails.startFor.user.helper"]=b("Type here to search for a user..."),a["processDetails.startFor.label"]=b("Enter the user to start the case for..."),a["processDetails.forms.add.error"]=b("Can't import page or form to the process"),a["processDetails.forms.upload.error.filename.length"]=b("Filename too long. The zip filename must be no longer than 50 characters"),a["processDetails.forms.upload.error.file.structure"]=b("Zip file structure error. Check that your .zip contains a well-formed page.properties and either the index.html or the Index.groovy file. For details, see the documentation or the example page readme (available in the custom page list)"),a["processDetails.forms.upload.error.name.already.exists"]=b("A page with this name already exists."),a["processDetails.forms.upload.error.filename.invalid"]=b("The name for the URL must start with custompage_ followed only by alphanumeric characters."),a["processDetails.forms.upload.error.compilation"]=b("Compilation failure. Verify that the Index.groovy class implements the PageController interface."),a["processDetails.problemResolution.message.actor"]=b("Actors must be resolved before enabling the Process."),a["processDetails.problemResolution.message.connector"]=b("Connectors must be resolved before enabling the Process."),a["processDetails.problemResolution.message.parameter"]=b("Parameters must be resolved before enabling the Process."),a["processDetails.problemResolution.message.businessData"]=b("The business data: [ {} ] uses Business Objects which are not defined in the current Business Data model. Deploy a compatible Business Data model before enabling the process."),a["processDetails.problemResolution.message.formMapping"]=b("The form mappings must be resolved before enabling the Process."),a["processDetails.problemResolution.title"]=b("The Process cannot be enabled"),a["processDetails.problemResolution.resource.caseOverview"]=b("Case overview"),a["processDetails.problemResolution.resource.caseStart"]=b("Case start"),a["processDetails.scripts.update.success"]=b("Expression content has been updated"),a["processDetails.scripts.update.error"]=b("Can't update expression content"),a["application.edit.reservedTokenError"]=b("The words 'content', 'API' and 'theme' are reserved for internal use. They must not be used in an application or page URL."),a["processDetails.start.success"]=b("The case {{caseId}} has been started successfully."),a["processDetails.start.error"]=b("Error while trying to start the case. Some required information is missing (contract not fulfilled).")}])}(),function(){"use strict";function a(a,b){return{field:{mandatory:b.getString("This field is mandatory"),duplicateUrl:b.getString("This URL is already in use"),duplicateName:b.getString("This name is already in use"),reservedToken:a.getKey("application.edit.reservedTokenError")}}}angular.module("org.bonitasoft.common.i18n").factory("i18nMsg",a),a.$inject=["i18nService","gettextCatalog"]}(),function(){"use strict";function a(a,b,c,d){function e(b,c){return a.getString(d[b]||b,c)}function f(){return c.query({f:"locale="+b.get()}).$promise.then(g)}function g(c){function d(a){for(var b={},c=0;c<a.length;c++)b[a[c].key]=a[c].value;return b}a.currentLanguage=b.get(),a.baseLanguage=null,a.setStrings(b.get(),d(c))}return a.debug=!1,{getKey:e,translationsLoadPromise:f()}}angular.module("org.bonitasoft.common.i18n").service("i18nService",a),a.$inject=["gettextCatalog","locale","i18nAPI","I18N_KEYS"]}(),function(){"use strict";function a(a){function b(){return a.get("BOS_Locale")||"en"}return{get:b}}angular.module("org.bonitasoft.common.i18n").service("locale",a),a.$inject=["$cookies"]}(),function(){"use strict";function a(a){return function(b){var c=new Date(+b||Date.now());return a(c).fromNow()}}angular.module("org.bonitasoft.common.moment").filter("dateAgo",a),a.$inject=["moment"]}(),function(){"use strict";angular.module("org.bonitasoft.common.moment").filter("dateI18n",["moment",function(a){return function(b,c){if(!b)return"";if(!c)throw new Error("[com.bonitasoft.common.i18n.filters@dateI18nFilter] You cannot use the date filter without a format");return a(+b).format(c)}}])}(),function(){"use strict";function a(a,b){a.locale(b.get())}angular.module("org.bonitasoft.common.moment").run(a),a.$inject=["moment","locale"]}(),function(){"use strict";function a(a){return function(b,c){return!1===a(b).isValid()?"-":a(b).format(c)}}angular.module("org.bonitasoft.common.moment").filter("moment",a),a.$inject=["moment"]}(),function(){"use strict";function a(a){return a.moment}angular.module("org.bonitasoft.common.moment").factory("moment",a),a.$inject=["$window"]}(),function(){"use strict";function a(a){return a.hasOwnProperty("id")&&delete a.id,a}function b(a){if(null===a)return{};var b=a.split("/"),c=b[0].split("-");return{total:parseInt(b[1],10),index:parseInt(c[0],10),currentPage:parseInt(c[0],10)+1,numberPerPage:parseInt(c[1],10)}}var c="../API/",d={response:function(a){return a.resource.pagination=b(a.headers("Content-Range")),a}},e=["$delegate","$http",function(b,c){return function(e,f,g,h){return g=angular.extend({},g,{search:angular.extend({isArray:!0,interceptor:d},g&&g.search),update:angular.extend({method:"PUT",transformRequest:[a].concat(c.defaults.transformRequest)},g&&g.update)}),b(e,f,g,h)}}],f=angular.module("org.bonitasoft.common.resources",["ngResource"]).constant("API_PATH",c).config(["$provide","$httpProvider",function(a,b){b.interceptors.push("unauthorizedResponseHandler"),a.decorator("$resource",e)}]).factory("unauthorizedResponseHandler",["$q","$window",function(a,b){return{responseError:function(c){return 401!==c.status||/\/API\/platform\/license/.test(c.config.url)||b.parent.location.reload(),a.reject(c)}}}]);!function(a){angular.forEach(a,function(a,b){f.factory(b,["$resource",function(b){return b(c+a+"/:id",{id:"@id"})}])})}({actorAPI:"bpm/actor",actorMemberAPI:"bpm/actorMember",archivedCaseAPI:"bpm/archivedCase",applicationAPI:"living/application",applicationMenuAPI:"living/application-menu",applicationPageAPI:"living/application-page",caseAPI:"bpm/case",commentAPI:"bpm/comment",archivedCommentAPI:"bpm/archivedComment",categoryAPI:"bpm/category",customPageAPI:"portal/page",featureAPI:"system/feature",flowNodeAPI:"bpm/flowNode",archivedFlowNodeAPI:"bpm/archivedFlowNode",formMappingAPI:"form/mapping",groupAPI:"identity/group",archivedHumanTaskAPI:"bpm/archivedHumanTask",humanTaskAPI:"bpm/humanTask",i18nAPI:"system/i18ntranslation",personalDataAPI:"identity/personalcontactdata",processAPI:"bpm/process",processSupervisorAPI:"bpm/processSupervisor",processResolutionProblemAPI:"bpm/processResolutionProblem",professionalDataAPI:"identity/professionalcontactdata",profileAPI:"portal/profile",roleAPI:"identity/role",userAPI:"identity/user",sessionAPI:"system/session",tenantAdminAPI:"system/tenant"}),f.factory("userTaskAPI",["$http",function(a){var b={};return b.execute=function(b,d){return a({url:c+"bpm/userTask/"+b+"/execution",method:"POST",data:d})},b}]),f.factory("importApplication",["$resource",function(a){return a("../services/application/import",{importPolicy:"@importPolicy",applicationsDataUpload:"@applicationsDataUpload"})}]),f.factory("processCategoryAPI",["$http",function(a){var b={};return b.save=function(b){return a({url:c+"bpm/processCategory",method:"POST",data:{category_id:""+b.category_id,process_id:""+b.process_id}})},b.delete=function(b){return a({url:c+"bpm/processCategory",method:"DELETE",data:[b.process_id+"/"+b.category_id]})},b}]),f.factory("processConnectorAPI",["$http","$resource",function(a,b){return b(c+"bpm/processConnector/:process_id/:definition_id/:definition_version",{process_id:"@process_id",definition_id:"@definition_id",definition_version:"@definition_version"},{search:{isArray:!0,url:c+"bpm/processConnector/",interceptor:d},update:{transformRequest:function(a){return delete a.process_id,delete a.definition_id,delete a.definition_version,angular.toJson(a)},method:"PUT"}})}]),f.factory("parameterAPI",["$http","$resource",function(a,b){return b(c+"bpm/processParameter/:process_id/:name",{process_id:"@process_id",name:"@name"},{search:{isArray:!0,url:c+"bpm/processParameter/",interceptor:d},update:{transformRequest:function(a){return delete a.process_id,delete a.name,angular.toJson(a)},method:"PUT"}})}]),f.factory("customUserInfoAPI",["$http","$resource",function(a,b){return b(c+"customuserinfo/user/:id",{id:"@id"},{update:{url:c+"customuserinfo/value/:userId/:id",method:"PUT",params:{userId:"@userId",id:"@id"}}})}]),f.factory("membershipAPI",["$http","$resource",function(a,b){return b(c+"identity/membership/:id",{id:"@id"},{delete:{url:c+"identity/membership/:userId/:groupId/:roleId",method:"DELETE",params:{userId:"@userId",groupId:"@groupId",roleId:"@roleId"}}})}]),f.factory("bdmAPI",["$http",function(a){var b={};return b.save=function(b){return a({url:c+"tenant/bdm",method:"POST",data:{fileUpload:""+b.fileUpload}})},b.get=function(){return a({url:c+"tenant/bdm",method:"GET"})},b}])}(),function(){"use strict";function a(a){this.$q=a}a.prototype.load=function(a,b){function c(c){if(0===c.resource.pagination.total)return angular.copy([],e.data),void f.resolve(e.data);e.data=a.search({p:0,c:c.resource.pagination.total,d:b.d,n:b.n,f:b.f,o:b.o},function(a){angular.copy(a.data,e.data),f.resolve(e.data)},function(a){f.reject(a)})}function d(){return a.search({p:0,c:0,f:b.f}).$promise}var e={data:[]},f=this.$q.defer();return this.resource=a,b=b||{},d().then(c),f.promise},angular.module("org.bonitasoft.common.resources.store",["org.bonitasoft.common.resources"]).service("store",["$q",a])}(),function(){"use strict";function a(){this.$get=["$timeout",function(a){function b(b,d){c[b]&&a.cancel(c[b]),c[b]=a(b,d)}var c={};return b}]}angular.module("org.bonitasoft.service.debounce",[]).provider("debounce",a)}(),function(){"use strict";function a(a){b=[],[].push.apply(b,a&&a.map(function(a){return a.name}))}var b=[];angular.module("org.bonitasoft.service.features",["org.bonitasoft.common.resources.store"]).constant("FEATURES",{searchIndexes:"SEARCH_INDEX",monitoring:"PROCESS_MONITORING",accessControl:"BDM_ACCESSCONTROL"}).service("FeatureManagerResolver",["FeatureManager","featureAPI",function(b,c){return function(){return c.query({p:0,c:0}).$promise.then(a)}()}]).service("FeatureManager",["FEATURES",function(a){var c={};return c.isFeatureAvailable=function(a){return b.indexOf(a)>-1},c.isSearchIndexedFeatureActivated=function(){return b.indexOf(a.searchIndexes)>-1},c.isAccessControlFeatureActivated=function(){return b.indexOf(a.accessControl)>-1},c.isMonitoringFeatureActivated=function(){return b.indexOf(a.monitoring)>-1},c}])}(),function(){"use strict";angular.module("org.bonitasoft.service.process.resolution",["org.bonitasoft.common.i18n"]).value("ProcessResolutionProblemItems",{actor:"processDetails.problemResolution.message.actor",connector:"processDetails.problemResolution.message.connector",parameter:"processDetails.problemResolution.message.parameter","business data":"processDetails.problemResolution.message.businessData","form mapping":"processDetails.problemResolution.message.formMapping"}).service("ProcessProblemResolutionService",["i18nService","ProcessResolutionProblemItems",function(a,b){var c={};return c.title=a.getKey("processDetails.problemResolution.title"),c.buildProblemsList=function(c){var d=[];return _.isArray(c)?(angular.forEach(b,function(b,e){function f(b){return"PROCESS_OVERVIEW"===b?a.getKey("processDetails.problemResolution.resource.caseOverview"):"PROCESS_START"===b?a.getKey("processDetails.problemResolution.resource.caseStart"):b}var g=c.filter(function(a){return a.type===e});if(g.length){var h={type:e,message:a.getKey(b)},i=_.chain(g).map("ressource_id").compact().map(f).value();_.isArray(i)&&_.size(i)>0&&(h.args=_.size(i)>2?_.take(i,2).join(", ")+",...":i.join(", ")),d.push(h)}}),d):d},c}])}(),function(){"use strict";angular.module("org.bonitasoft.service.token",[]).service("TokenExtensionService",function(){var a={value:"admin"};return{get tokenExtensionValue(){return a.value},set tokenExtensionValue(b){a.value=b}}})}(),function(){"use strict";function a(a){return{from:function(b){b=b||"";var c=b.match(a);return c&&c[1]||void 0}}}angular.module("org.bonitasoft.services.navigation",[]).factory("topLocation",["$window",function(b){return Object.create({},{_pf:{get:function(){return a(/_pf=([1-9]*)/).from(b.parent.location.hash)}},tenant:{get:function(){return a(/tenant=([1-9]*)/).from(b.parent.location.search)}}})}])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin",["org.bonitasoft.features.admin.cases","org.bonitasoft.features.admin.processes","org.bonitasoft.features.admin.applications","org.bonitasoft.features.admin.organisation","org.bonitasoft.features.admin.bdm","org.bonitasoft.common.utils.filters"])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.applications.list",["ui.bootstrap","angularFileUpload","org.bonitasoft.common.directives.bonitaHref","org.bonitasoft.common.resources","org.bonitasoft.common.resources.store","org.bonitasoft.features.admin.applications.edit","org.bonitasoft.features.admin.applications.delete","org.bonitasoft.common.moment","ui.router","org.bonitasoft.services.topurl","org.bonitasoft.bonitable","org.bonitasoft.templates"]).config(["$stateProvider",function(a){a.state("bonita.applications",{url:"/admin/applications",templateUrl:"features/admin/applications/applications-list.html",controller:"applicationsListCtrl",controllerAs:"applicationsListCtrl",resolve:{templatingAppLoader:["templateAppDetailLoader",function(a){return a.load()}]}})}]).controller("applicationsListCtrl",["$scope","applicationAPI","$modal","store","templateAppDetailLoader","manageTopUrl",function(a,b,c,d,e,f){function g(){d.load(b,{d:["profileId","createdBy","updatedBy","layoutId"]}).then(function(b){a.applications=b,a.noData=!b.length})}var h=this;h.modalCreate=null,h.modalDelete=null,h.modalImport=null,h.modalExport=null,g(),a.sortableOptions={property:"lastUpdateDate",direction:!0},this.create=function(a){h.modalCreate=c.open({templateUrl:"features/admin/applications/edit-application.html",controller:"addApplicationCtrl",controllerAs:"addApplicationCtrl",size:a,resolve:{application:angular.noop}}),h.modalCreate.result.then(g)},this.importApp=function(){h.modalImport=c.open({templateUrl:"features/admin/applications/import-application.html",controller:"importApplicationCtrl",controllerAs:"importApplicationCtrl",backdrop:"static",resolve:{application:angular.noop}}),h.modalImport.result.then(g)},this.exportApplication=function(a){h.modalExport=c.open({templateUrl:"features/admin/applications/export-application.html",controller:"exportApplicationCtrl",controllerAs:"exportApplicationCtrl",size:"md",resolve:{application:function(){return a}}}),h.modalExport.result.then(g)},this.goToDetails=function(a){f.addOrReplaceParam("_id",a)},this.loadTemplatePopover=e.compile,this.deleteApplication=function(a,b){h.modalDelete=c.open({templateUrl:"features/admin/applications/delete-application.html",controller:"deleteApplicationCtrl",controllerAs:"deleteApplicationCtrl",size:b,resolve:{application:function(){return a}}}),h.modalDelete.result.then(g)}}]).controller("exportApplicationCtrl",["$scope","$modalInstance","application",function(a,b,c){a.application=c,this.cancel=function(){b.dismiss("cancel")}}]).service("templateAppDetailLoader",["$interpolate","$templateCache","$http","$q",function(a,b,c,d){var e=this;this.compile=angular.noop,this.load=function(f){return f=f||angular.noop,d.all([c.get("features/admin/applications/details/popverunsafe.html"),c.get("features/admin/applications/details/application-details-app.html")]).then(function(c){b.put("template/popover/popover.html",c[0].data),b.put("features/admin/applications/details/application-details-app.html",c[1].data),e.compile=a(c[1].data),f(c[0].data)})}}]).directive("exportAppButton",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{url:"@",appId:"@",title:"@"},template:'<a class="btn-export" ng-href="{{url || \'../portal/exportApplications?id=\'}}{{appId}}" ng-transclude></a>'}})}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.applications.delete",["ui.bootstrap","org.bonitasoft.common.resources"]).controller("deleteApplicationCtrl",["$scope","applicationAPI","$modalInstance","application",function(a,b,c,d){a.application=d,a.confirmDelete=function(){b.delete({id:a.application.id}).$promise.then(function(){c.close()})},a.cancel=function(){c.dismiss("cancel")}}])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.applications.details",["ui.bootstrap","org.bonitasoft.common.resources","ui.router","org.bonitasoft.common.directives.bootstrap-form-control","org.bonitasoft.features.admin.applications.details.page-list","org.bonitasoft.common.moment","ui.tree","org.bonitasoft.service.features","xeditable"]).config(["$stateProvider",function(a){a.state("bonita.applicationsDetails",{url:"/admin/applications/:id",templateUrl:"features/admin/applications/details/application-details.html",controller:"applicationDetailsCtrl",controllerAs:"applicationDetailsCtrl"})}]).controller("applicationDetailsCtrl",["$rootScope","$scope","$modal","applicationAPI","$stateParams","FeatureManager","store","customPageAPI",function(a,b,c,d,e,f,g,h){var i=this;i.modal=null,i.isEditLayoutAvailable=f.isFeatureAvailable("APPLICATION_LOOK_N_FEEL"),g.load(h,{f:"contentType=layout"}).then(function(a){b.layoutPages=a}),g.load(h,{f:"contentType=theme"}).then(function(a){b.themePages=a}),i.reload=function(){b.app=d.get({id:e.id,d:["createdBy","updatedBy","profileId","layoutId","themeId"]})},i.reload(),i.update=function(a,b){c.open({templateUrl:"features/admin/applications/edit-application.html",controller:"addApplicationCtrl",size:a,resolve:{application:function(){return b}}}).result.then(function(){i.reload()})},i.updateLayout=function(a,b){var c={};return c.id=a.id,c.layoutId=b.id,d.update(c).$promise.then(i.reload,i.handleErrors)},i.updateTheme=function(a,b){var c={};return c.id=a.id,c.themeId=b.id,d.update(c).$promise.then(i.reload,i.handleErrors)},i.handleErrors=function(a){return a.data.message}}]).directive("backButton",function(){return{restrict:"E",template:'<button ng-click="goBack()" class="btn btn-default" translate>back</button>',controller:["$scope","$window","manageTopUrl",function(a,b){a.goBack=function(){b.history.back()}}]}})}(),angular.module("org.bonitasoft.features.admin.applications.details").controller("actionBarCtrl",["$scope","$modal","menuFactory",function(a,b,c){"use strict";var d=this;d.modal=null,this.removeItem=function(a,b){a.$parent.$parent.remove(),console.debug("[actionBarCtrl@removeItem] delete a menuItem "+b.id,b),c.remove(b.id)},this.addItem=function(a,e){d.modal=b.open({templateUrl:"features/admin/applications/details/menubuilder-addCustomMenuModal.html",controller:"addCustomMenuCtrl",controllerAs:"addCustomMenuCtrl",size:"sm",resolve:{AppID:function(){return+e.applicationId},customDataModal:function(){return{isAddition:!0,data:e}}}}),d.modal.result.then(function(a){var b={displayName:a.name,applicationId:+e.applicationId,applicationPageId:"id"in a.page?+a.page.id:"-1",parentMenuId:e.id};c.create(b).then(function(a){console.debug("[actionBarCtrl@addItem] Add a new child",a.item),e.children=e.children||[],e.children.push(a.item.toJSON())})})},this.editItem=function(a,e){d.modal=b.open({templateUrl:"features/admin/applications/details/menubuilder-addCustomMenuModal.html",controller:"addCustomMenuCtrl",controllerAs:"addCustomMenuCtrl",size:"sm",resolve:{AppID:function(){return+e.applicationId},customDataModal:function(){return{isEditionParentMenu:"-1"===e.parentMenuId,isEdition:!0,data:e}}}}),d.modal.result.then(function(a){e.displayName=a.name,e.applicationPageId="id"in a.page?+a.page.id:"-1",c.update(angular.copy(e))})}}]),angular.module("org.bonitasoft.features.admin.applications.details").controller("addCustomMenuCtrl",["$scope","$modalInstance","store","menuUtils","applicationPageAPI","AppID","customDataModal","i18nMsg",function(a,b,c,d,e,f,g,h){"use strict";a.isLabelOnly="inactive",a.i18n=h.field,c.load(e,{d:["pageId"],f:"applicationId="+f}).then(function(b){a.pages=b}),g&&(a.isAddition=!!g.isAddition,a.isEdition=!!g.isEdition,a.isEditionParentMenu=g.isEditionParentMenu,g.data&&g.data.displayName&&(a.menu={model:{name:a.isEdition?g.data.displayName:"",page:a.isEdition?{id:g.data.applicationPageId}:""},parent:a.isEdition?null:g.data},a.isEdition&&"-1"!==g.data.applicationPageId&&g.data.applicationPageId?a.currentSelectedPageId=g.data.applicationPageId:a.currentSelectedPageId=0,!g.isEditionParentMenu||"-1"!==g.data.applicationPageId&&g.data.applicationPageId||(a.isLabelOnly="active"))),this.cancel=function(){b.dismiss("cancel")},this.saveModal=function(c){var e=c.model.page?c.model.page.id||c.model.page:0;b.close({name:c.model.name,page:d.findItemPerId(e,a.pages),raw:c.model})}}]),angular.module("org.bonitasoft.features.admin.applications.details").controller("menuCreatorCtrl",["$rootScope","$scope","$modal","menuFactory",function(a,b,c,d){"use strict";function e(){d.get(+b.application.id).then(function(a){console.debug("[menuCreatorCtrl@successCb] load data from the API",a),b.data.menuItemBuilder=a},function(a){console.error("[menuCreatorCtrl@errorCb] "+a.message)})}var f=this;this.modal=null,b.isLabelOnly=!0,b.data={currentMenu:null,menuItem:[],menuItemBuilder:[]},this.loadMenu=e,a.$on("page-list:update",function(){f.loadMenu()}),e(),a.$on("page-list:pagesexist",function(a,c){b.hasPages=c}),this.add=function(){f.modal=c.open({templateUrl:"features/admin/applications/details/menubuilder-addCustomMenuModal.html",controller:"addCustomMenuCtrl",controllerAs:"addCustomMenuCtrl",size:"sm",resolve:{AppID:function(){return+b.application.id},customDataModal:function(){return{isEditionParentMenu:!0}}}}),f.modal.result.then(function(a){var c={displayName:a.name,applicationId:+b.application.id,applicationPageId:"id"in a.page?+a.page.id:"-1"};"id"in a.page||(c.children=[]),d.create(c).then(function(a){b.data.menuItemBuilder.push(a.formatted)})})}}]),angular.module("org.bonitasoft.features.admin.applications.details").controller("menuListCtrl",["$scope","menuFactory","menuConvertor","menuUtils",function(a,b,c,d){"use strict";a.treeOptions={accept:function(a,b){var c=b.$element;return"-1"!==a.$modelValue.applicationPageId||!c.hasClass("menucontainer-submenu")&&!c.hasClass("menucontainer-submenu-exist")},dragStop:function(e){var f=e.source.nodeScope.subItem||e.source.nodeScope.menu,g=c.buildIndex(angular.copy(a.model));b.update(d.findItemPerId(f.id,g)).then(function(b){a.model=b})}}}]),angular.module("org.bonitasoft.features.admin.applications.details").directive("actionBar",function(){"use strict";return{restrict:"AE",transclude:!0,scope:{edit:"@",remove:"@",add:"@",collapsed:"=",menu:"=",data:"="},templateUrl:"features/admin/applications/details/menubuilder-actionBar.html",controller:"actionBarCtrl",controllerAs:"actionBarCtrl"}}),angular.module("org.bonitasoft.features.admin.applications.details").directive("menuCreator",function(){"use strict";return{restrict:"AE",scope:{application:"=app"},templateUrl:"features/admin/applications/details/menubuilder-menuCreator.html",controller:"menuCreatorCtrl",controllerAs:"menuCreatorCtrl"}}),angular.module("org.bonitasoft.features.admin.applications.details").directive("menuList",function(){"use strict";return{restrict:"AE",scope:{model:"=ngModel"},templateUrl:"features/admin/applications/details/menubuilder-menuList.html",controller:"menuListCtrl"}}),angular.module("org.bonitasoft.features.admin.applications.details").factory("menuConvertor",["menuUtils",function(a){"use strict";function b(b){var c,d=[];return b.forEach(function(e){e.applicationPageId&&"-1"!==e.applicationPageId||(e.children=e.children||[]),-1!=+e.parentMenuId&&(c=a.findItemPerId(e.parentMenuId,b),c.id&&(c.children=c.children||[],c.children.push(e),e=null)),e&&d.push(e)}),d}function c(b){var c,d=[],e=0;return b.forEach(function(b){b.menuIndex=++e,c=angular.copy(b),c.children&&c.children.length||(c.parentMenuId="-1"),delete c.children,d.push(c),d=a.bindChildren(b,d)}),d}function d(a,b){return a.menuIndex=a.menuIndex||b||1,a.parentMenuId=a.parentMenuId||"-1",!a.children&&("-1"===a.parentMenuId||a.parentMenuId<=0)&&(a.parentMenuId="-1"),a.children&&(a.parentMenuId="-1",delete a.children),a}return{toApi:d,fromApi:b,buildIndex:c}}]),angular.module("org.bonitasoft.features.admin.applications.details").factory("menuUtils",function(){"use strict";function a(a,b){return a.children=a.children||[],a.children.forEach(function(b,c){b.parentMenuId=a.id,b.menuIndex=c+1,delete b.children}),b.concat(a.children)}function b(a,b){return b.filter(function(b){return+b.id==+a})[0]||{}}return{bindChildren:a,findItemPerId:b}}),angular.module("org.bonitasoft.features.admin.applications.details").service("menuFactory",["$rootScope","$q","menuConvertor","applicationMenuAPI","menuUtils","store",function(a,b,c,d,e,f){"use strict";function g(){}var h={};return h.get=function(a){var e=b.defer();return f.load(d,{f:"applicationId="+a,o:"menuIndex ASC"}).then(function(a){e.resolve(c.fromApi(a))},function(){e.reject(new Error("Cannot find any data for the menu"))}),e.promise},h.update=function(a){a=c.toApi(a);var e=b.defer();return d.update({id:a.id},a).$promise.then(function(b){g(),console.debug("[menuFactory@update] Update success",b),h.get(a.applicationId).then(function(a){e.resolve(a)})},e.reject),e.promise},h.create=function(a){a=c.toApi(a);var e=b.defer();return d.save(a).$promise.then(function(b){g(),console.debug("[menuFactory@create] record success",b),h.get(a.applicationId).then(function(a){var c=b.toJSON();"-1"!==c.parentMenuId||c.applicationPageId||(c.children=[]),e.resolve({formatted:c,item:b,col:a})})},e.reject),e.promise},h.remove=function(a){return g(),d.remove({id:a})},h}]),function(){"use strict";angular.module("org.bonitasoft.features.admin.applications.details.page-list",["ui.bootstrap","org.bonitasoft.common.directives.bootstrap-form-control","org.bonitasoft.features.admin.applications.edit","org.bonitasoft.common.directives.urlified","org.bonitasoft.common.resources","org.bonitasoft.common.i18n"]).controller("addPageCtrl",["$scope","customPageAPI","applicationPageAPI","applicationMenuAPI","$modalInstance","application","i18nMsg","store",function(a,b,c,d,e,f,g,h){function i(b){500===b.status&&b.data.cause.exception.indexOf("AlreadyExistsException")>-1?a.page.form.token.$duplicate=!0:a.alerts.push({type:"danger",msg:b.data.message||"Something went wrong during the creation. You might want to cancel and try again."})}function j(){e.close()}a.alerts=[],a.closeAlert=function(b){a.alerts.splice(b,1)},a.i18n=g.field,a.application=f,h.load(b,{f:"contentType=page"}).then(function(b){a.customPages=b}),a.add=function(b){var d=b.model.token.toLowerCase();a.page.form.token.$reservedToken=!1,"api"===d||"content"===d||"theme"===d?a.page.form.token.$reservedToken=!0:(b.model.applicationId=a.application.id,c.save(b.model).$promise.then(j,i))},a.cancel=function(){e.dismiss("cancel")}}]).controller("pageListCtrl",["$scope","pageModel","$modal",function(a,b,c){var d=this;d.modal=null,a.pages=[],d.loadPages=function(c){b.load(a.application.id,!0===c).then(function(b){a.pages=b})},d.loadPages(!0),d.add=function(){d.modal=c.open({templateUrl:"features/admin/applications/details/page-list-addPageModal.html",controller:"addPageCtrl",size:"lg",resolve:{application:function(){return a.application}}}),d.modal.result.then(d.loadPages)},d.remove=function(a){b.remove(a).then(d.loadPages)},d.setAsHomePage=function(c){b.setHome(c,a.application).then(function(){d.loadPages(),a.application.homePageId=c.id})}}]).factory("pageModel",["$rootScope","$q","store","applicationPageAPI","applicationAPI",function(a,b,c,d,e){var f={};return f.exist=function(b){return!f.loadedPagesEventTriggered&&b.length?(a.$emit("page-list:pagesexist",!0),console.debug("[pageModel@exist] Trigger page-list:pagesexist",!0),f.loadedPagesEventTriggered=!0,f.loadedPagesEventTriggered):(b.length||(console.debug("[pageModel@exist] Trigger page-list:pagesexist",!1),a.$emit("page-list:pagesexist",!1),f.loadedPagesEventTriggered=!1),f.loadedPagesEventTriggered)},f.loadedPagesEventTriggered=!1,f.load=function(a,e){e&&(f.loadedPagesEventTriggered=!1);var g=b.defer();return c.load(d,{d:["pageId"],f:"applicationId="+a}).then(function(a){console.debug("[pageModel@load] Fetch some pages from API",a),f.exist(a),g.resolve(a)}),g.promise},f.remove=function(c){var e=b.defer();return d.delete(c).$promise.then(function(b){e.resolve(b),a.$emit("page-list:update")}),e.promise},f.setHome=function(a,c){var d=b.defer(),f={homePageId:a.id,profileId:c.profileId.id,layoutId:c.layoutId.id,themeId:c.themeId.id,createdBy:c.createdBy.id,updatedBy:c.updatedBy.id};return e.update({id:c.id},angular.extend({},c,f)).$promise.then(function(){console.debug("[pageModel@setHome] Set the page:"+a.pageId.displayName+" as the Home Page"),d.resolve(a)},d.reject),d.promise},f}]).directive("pageList",function(){return{restrict:"E",templateUrl:"features/admin/applications/details/page-list.html",controller:"pageListCtrl",controllerAs:"list",scope:{application:"="}}})}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.applications.edit",["ui.bootstrap","org.bonitasoft.common.directives.bootstrap-form-control","org.bonitasoft.common.directives.urlified","org.bonitasoft.common.resources","org.bonitasoft.common.resources.store","org.bonitasoft.common.i18n"]).controller("addApplicationCtrl",["$scope","applicationAPI","profileAPI","customPageAPI","$modalInstance","application","store","i18nMsg",function(a,b,c,d,e,f,g,h){function i(b){404===b.status?a.alerts.push({type:"danger",msg:'The custom page "home" or "defaultlayout" doesn\'t seems installed properly. Go to Configuration > Custom Pages to install it.'}):500===b.status&&b.data.cause.exception.indexOf("AlreadyExistsException")>-1?a.application.form.token.$duplicate=!0:a.alerts.push({type:"danger",msg:b.data.message||"Something went wrong during the creation. You might want to cancel and try again."})}function j(){e.close()}a.i18n=h.field,a.editionMode=!!f,a.editionMode?(a.application={model:angular.copy(f)},a.application.model.profileId=f.profileId&&f.profileId.id||f.profileId,a.application.model.layoutId=f.layoutId&&f.layoutId.id||f.layoutId,a.application.model.themeId=f.themeId&&f.themeId.id||f.themeId):a.application={model:{version:"1.0",profileId:"1"}},g.load(c).then(function(b){a.profiles=b}),a.alerts=[],a.closeAlert=function(b){a.alerts.splice(b,1)},a.cancel=function(){e.dismiss("cancel")},a.submit=function(c){var d=c.model.token.toLowerCase();if(a.application.form.token.$reservedToken=!1,"api"===d||"content"===d||"theme"===d)a.application.form.token.$reservedToken=!0;else{var e=angular.copy(c.model);b[a.editionMode?"update":"save"](e).$promise.then(j,i)}}}])}(),function(){"use strict";function a(a,b,c,d){function e(b){a.importIsSuccessfull=!0,a.totalImportedApps=b.imported.length,a.imports=b.imported,a.errorsApi=b.errors}function f(b){a.importNotSuccessfull=!0,a.messageError=b.data.message}var g=this;g.successUpload=function(b,c){b=b||{file:{}},a.isUploadSuccess=!0,a.fileName=b.file.name,a.filePath=c||""},g.errorUpload=function(){throw new Error("Cannot upload the file")},a.uploader=new c({autoUpload:!0,url:"../portal/applicationsUpload",onSuccessItem:g.successUpload,onErrorItem:g.errorUpload}),this.importApp=function(){d.save({importPolicy:"FAIL_ON_DUPLICATES",applicationsDataUpload:a.filePath.replace("<pre>","").replace("</pre>","")}).$promise.then(e,f)},this.cancel=function(){b.dismiss("cancel")},this.closeModalSuccess=function(){b.close()}}angular.module("org.bonitasoft.features.admin.applications").controller("importApplicationCtrl",a),a.$inject=["$scope","$modalInstance","FileUploader","importApplication"]}(),function(){"use strict";function a(a,b,c,d,e){var f=this;a.bonitaVersion=e,f.errorUpload=function(){a.isTechnicalError=!0,a.error=d("BDM has not been uploaded. System was not able to upload the provided BDM file for technical reasons. You can try again later.")},f.successUpload=function(b,c){b=b||{file:{}},a.isUploadSuccess=!0,a.fileName=b.file.name,a.filePath=c||""},a.uploader=new c({autoUpload:!0,url:"../portal/fileUpload",onSuccessItem:f.successUpload,onErrorItem:f.errorUpload}),f.closeModalSuccess=function(){b.close(a.filePath)}}angular.module("org.bonitasoft.features.admin.bdm").controller("AddBDMPopupCtrl",a),a.$inject=["$scope","$modalInstance","FileUploader","gettext","bonitaVersion"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){a.get({id:"unusedId"}).$promise.then(function(a){o.isTenantPaused="true"===a.paused})}function j(){return i(),c.get().then(function(a){o.bdm=a.data})}function k(a){o.filePath=a,o.isBDMInstallProcessing=!0,o.bdm={state:p},c.save({fileUpload:o.filePath}).then(l,m)}function l(){j(),o.isBDMInstallProcessing=!1,o.isBDMInstallSuccessfull=!0,o.isAccessControlAvailable=!0,h(function(){o.isBDMInstallSuccessfull=!1,o.isAccessControlAvailable=!1},1e4)}function m(){j(),o.isBDMInstallProcessing=!1,o.isBDMInstallError=!0}function n(){o.isBDMInstallSuccessfull=!1,o.isBDMInstallError=!1,o.isBDMInstallProcessing=!1}var o=this,p="INSTALLING";o.isBDMInstallSuccessfull=!1,o.isBDMInstallError=!1,o.isBDMInstallProcessing=!1,o.isAccessControlAvailable=!1,o.bdm={},o.isTechnicalUser=!0,o.bonitaVersion="",b.get({id:"unusedId"}).$promise.then(function(a){if(o.isTechnicalUser="true"===a.is_technical_user,a.version){var b=a.version.split(".");b.length>1?o.bonitaVersion=b[0]+"."+b[1]:o.bonitaVersion=a.version}}),j(),o.isAccessControlFeatureActivated=function(){return f.isAccessControlFeatureActivated()},o.accessControlStatus={},o.updateAccessControlStatus=function(){if(o.isAccessControlFeatureActivated())return g.get("bdmAccessControlAPI").get().then(function(a){o.accessControlStatus=a.data})},o.updateAccessControlStatus(),o.isAccessControlInstalled=function(){return o.accessControlStatus&&"INSTALLED"===o.accessControlStatus.state},o.isInstallDisable=function(){return!o.isTenantPaused||o.isBDMInstallProcessing||o.isAccessControlInstalled()},o.isBDMInstalled=function(){return o.bdm&&"INSTALLED"===o.bdm.state},o.openBDMUpload=function(){n(),e.open({templateUrl:"features/admin/bdm/add-bdm-popup.html",controller:"AddBDMPopupCtrl",controllerAs:"AddBDMPopupCtrl",resolve:{bonitaVersion:function(){return o.bonitaVersion}}}).result.then(function(a){k(a)})}}angular.module("org.bonitasoft.features.admin.bdm").controller("bdmCtrl",a),a.$inject=["tenantAdminAPI","sessionAPI","bdmAPI","gettext","$modal","FeatureManager","$injector","$timeout"]}(),function(){"use strict";function a(a){a.state("bonita.bdmInstall",{url:"/admin/bdm",templateUrl:"features/admin/bdm/bdm.html",controller:"bdmCtrl",controllerAs:"vm"})}angular.module("org.bonitasoft.features.admin.bdm").config(a),a.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.cases",["org.bonitasoft.features.admin.cases.list"])}(),function(){"use strict";function a(a,b,c,d,e){var f=this;f.confirmDeleteSelectedCases=function(c){a.$selectedItems&&b.open({templateUrl:"features/admin/cases/list/cases-list-deletion-modal.html",controller:"DeleteCaseModalCtrl",controllerAs:"deleteCaseModalCtrl",resolve:{typeOfCase:function(){return c||""},caseItems:function(){return a.$selectedItems}},size:"sm"}).result.then(f.deleteSelectedCases)},f.checkNoCasesSelected=function(){return!(a.$selectedItems&&a.$selectedItems.length>0)},f.deleteSelectedCases=function(){function b(){a.$emit("caselist:notify",{type:"success",status:1===h?d.getKey("caselist.delete.single",{nbOfDeletedCases:h}):d.getKey("caselist.delete.multiple",{nbOfDeletedCases:h})}),a.pagination.currentPage=1,a.$emit("caselist:search")}var f=a.$selectedItems;if(f){var g=f.map(function(a){return a.id});if(g&&g.length){var h=0;e.all(g.map(function(b){return c.delete({id:b}).$promise.then(function(){h++},function(b){a.$emit("caselist:http-error",b)})})).then(b)}}}}function b(a,b,c,d){a.caseItems=d,a.typeOfCase=c,this.ok=function(){b.close()},this.cancel=function(){b.dismiss("cancel")}}angular.module("org.bonitasoft.features.admin.cases.list.delete",["org.bonitasoft.common.resources","org.bonitasoft.common.i18n","ui.bootstrap"]).controller("ActiveCaseDeleteCtrl",["$scope","$modal","caseAPI","i18nService","$q",a]).directive("activeCaseDelete",function(){return{restrict:"E",require:"^ActiveCaseListCtrl",transclude:!0,controller:"ActiveCaseDeleteCtrl",template:'<button id="delete-button" type="button" class="btn btn-default" ng-click="deleteCtrl.confirmDeleteSelectedCases()" ng-disabled="deleteCtrl.checkNoCasesSelected()"><div ng-transclude></div></button>',controllerAs:"deleteCtrl"}}).controller("ArchivedCaseDeleteCtrl",["$scope","$modal","archivedCaseAPI","i18nService","$q",a]).directive("archivedCaseDelete",function(){return{restrict:"E",require:"^ArchivedCaseListCtrl",transclude:!0,template:'<button id="delete-archived-button" type="button" class="btn btn-default" ng-click="deleteCtrl.confirmDeleteSelectedCases(\'archived\')" ng-disabled="deleteCtrl.checkNoCasesSelected()"><div ng-transclude></div></button>',controller:"ArchivedCaseDeleteCtrl",controllerAs:"deleteCtrl"}}).controller("DeleteCaseModalCtrl",["$scope","$modalInstance","typeOfCase","caseItems",b])}(),function(){"use strict";function a(a,b,c,d,e,f){a.selectedFilters.selectedApp=d.appName,a.selectedFilters.selectedVersion=d.appVersion,a.selectedFilters.selectedStatus=d.caseStatus,a.defaultFilters=d,a.caseStatesValues=e,angular.isDefined(f.caseStateFilter)&&f.caseStateFilter&&angular.isDefined(a.caseStatesValues[f.caseStateFilter])&&(a.selectedFilters.selectedStatus=f.caseStateFilter),a.caseStatesValues[d.caseStatus]=d.caseStatus,a.apps=[],a.versions=[],a.appNames=[],a.allCasesSelected=!1,a.selectedFilters.currentSearch="";var g=this,h=[];a.supervisorId&&h.push("supervisor_id="+a.supervisorId),g.initFilters=function(b){a.apps=b,b.map(function(b){return a.selectedFilters.processId&&a.selectedFilters.processId===b.id&&(a.selectedFilters.selectedApp=b.displayName,g.filterVersion(a.selectedFilters.selectedApp),a.selectedFilters.selectedVersion=b.version),b.displayName}).forEach(function(b){b&&$.inArray(b,a.appNames)<0&&a.appNames.push(b)})},b.load(c,{f:h}).then(g.initFilters),g.selectApp=function(b){b?b!==a.selectedFilters.selectedApp&&(a.selectedFilters.selectedApp=b):a.selectedFilters.selectedApp=d.appName},g.selectVersion=function(b){b&&b!==d.appVersion?a.selectedFilters.selectedVersion=b:a.selectedFilters.selectedVersion=d.appVersion},g.selectCaseStatus=function(b){b&&b!==d.caseStatus?a.selectedFilters.selectedStatus=b:a.selectedFilters.selectedStatus=d.caseStatus},g.filterVersion=function(b){a.versions=[],a.selectedFilters.selectedVersion=d.appVersion,a.apps&&a.apps.filter&&(a.versions=a.apps.filter(function(a){return a&&a.displayName===b&&a.version}).map(function(a){return a.version})),a&&a.versions&&1===a.versions.length&&(a.selectedFilters.selectedVersion=a.versions[0])},g.filterProcessDefinition=function(b){if(b&&a.selectedFilters.selectedApp&&a.apps){var c=a.apps.filter(function(c){return c&&c.displayName===a.selectedFilters.selectedApp&&b===c.version});c&&c.length?a.selectedFilters.selectedProcessDefinition=c[0]&&c[0].id:delete a.selectedFilters.selectedProcessDefinition}else delete a.selectedFilters.selectedProcessDefinition},g.submitSearch=function(){a.pagination.currentPage=1,a.$emit("caselist:search")},a.$watch("selectedFilters.selectedApp",function(){a.selectedFilters.processId?a.selectedFilters.selectedApp!==d.appName&&delete a.selectedFilters.processId:(g.filterVersion(a.selectedFilters.selectedApp),delete a.selectedFilters.selectedProcessDefinition)}),a.$watch("selectedFilters.selectedVersion",function(){g.filterProcessDefinition(a.selectedFilters.selectedVersion)})}angular.module("org.bonitasoft.features.admin.cases.list.filters",["org.bonitasoft.common.resources","org.bonitasoft.features.admin.cases.list.values","gettext","ui.bootstrap","ui.router","org.bonitasoft.common.resources.store"]).controller("ActiveCaseFilterController",["$scope","store","processAPI","defaultFilters","caseStatesValues","$stateParams",a]).directive("activeCaseFilters",function(){return{restrict:"E",require:"^ActiveCaseListCtrl",templateUrl:"features/admin/cases/list/cases-list-filters.html",controller:"ActiveCaseFilterController",controllerAs:"filterCtrl"}}).controller("ArchivedCaseFilterController",["$scope","store","processAPI","defaultFilters","caseStatesValues","$stateParams",a]).directive("archivedCaseFilters",function(){return{restrict:"E",require:"^ArchivedCaseListCtrl",templateUrl:"features/admin/cases/list/archived-cases-list-filters.html",controller:"ArchivedCaseFilterController",controllerAs:"filterCtrl"}})}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.cases.list.values",[]).value("casesColumns",[{name:"ID",path:["id"]},{name:"Process name",path:["processDefinitionId","displayName"]},{name:"Version",path:["processDefinitionId","version"]},{name:"Start date",path:["start"]},{name:"Started by",path:["started_by","userName"],defaultValue:"System"},{name:"Failed Flow Nodes",path:["failedFlowNodes"]},{name:"Pending Flow Nodes",path:["activeFlowNodes"]}]).value("allCaseStatesValues",{started:"Started",error:"Failed",aborted:"Aborted",completed:"Completed",canceled:"Canceled"}).value("caseStatesValues",{error:"With failures"}).value("moreDetailToken","casemoredetailsadmin").value("pageSizes",[25,50,100,200]).value("defaultPageSize",25).value("defaultSort","id").value("archivedDefaultSort","sourceObjectId").value("defaultFilters",{appVersion:"All",appName:"All",caseStatus:"All"}).value("defaultDeployedFields",["processDefinitionId","started_by","startedBySubstitute"]).value("defaultActiveCounterFields",["activeFlowNodes","failedFlowNodes"]).value("activedTabName","").value("archivedCasesColumns",[{name:"ID",path:["sourceObjectId"]},{name:"Process name",path:["processDefinitionId","name"]},{name:"Version",path:["processDefinitionId","version"]},{name:"Start date",path:["start"]},{name:"Started by",path:["started_by","userName"],defaultValue:"System"},{name:"End date",path:["end_date"]},{name:"State",path:["state"]}]).value("archivedCaseStatesValues",{started:"Started",error:"Failed"}).value("archivedMoreDetailToken","archivedcasemoredetailsadmin").value("archivedTabName","archived").value("defaultArchivedCounterFields",[])}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(a,b){var c={ttl:3e3,disableCountDown:!0,disableIcons:!0},d=((b.status||"")+" "+(b.statusText||"")+" "+(b.errorMsg||"")).trim();switch(b.type){case"success":n.success(d,c);break;case"danger":n.error(d,c);break;default:n.info(d,c)}}function w(){var b=angular.copy(F);a.selectedFilters.selectedProcessDefinition?b.push("processDefinitionId="+a.selectedFilters.selectedProcessDefinition):a.selectedFilters.selectedApp&&a.selectedFilters.selectedApp!==k.appName&&b.push("name="+a.selectedFilters.selectedApp),a.selectedFilters.selectedStatus&&a.selectedFilters.selectedStatus!==k.caseStatus&&b.push("state="+a.selectedFilters.selectedStatus),a.searchOptions.filters=b}function x(b,c){if(c)if(401===c.status)h.url("/");else{var d={status:c.status,statusText:c.statusText,type:"danger"};c.data&&(d.errorMsg=c.data.message,d.resource=c.data.api+"/"+c.data.resource),a.$emit("caselist:notify",d)}}function y(){return u.isSearchIndexedFeatureActivated()}function z(){return u.isMonitoringFeatureActivated()}function A(){var a=i.supervisor_id;return angular.isDefined(a)}function B(a){var b;return a.started_by.firstname||a.started_by.lastname?b=a.started_by.firstname+" "+a.started_by.lastname:a.started_by.userName&&(b=a.started_by.userName),b}function C(){a.loading=!0;var c=a.cases=[],d=a.pagination=angular.copy(a.pagination);b.search({p:d.currentPage-1,c:d.itemsPerPage,d:f,o:a.searchOptions.searchSort,f:a.searchOptions.filters,n:g,s:a.selectedFilters.currentSearch}).$promise.then(function(b){d.total=b&&b.resource&&b.resource.pagination&&b.resource.pagination.total,a.currentFirstResultIndex=(d.currentPage-1)*d.itemsPerPage+1,a.currentLastResultIndex=Math.min(a.currentFirstResultIndex+d.itemsPerPage-1,d.total),b&&b.resource&&b.resource.map(function(b){var c={};return a.columns.forEach(function(a){for(var d=b,e=0;e<a.path.length;e++)d=d&&d[a.path[e]];c[a.name]=d}),c["Started by fullname"]=B(b),c.id=b.id,c.processDefinitionId=b.processDefinitionId,c.fullCase=b,c.sourceObjectId=b.sourceObjectId,c}).forEach(function(a){c.push(a)})},function(b){d.total=0,a.currentFirstResultIndex=0,a.currentLastResultIndex=0,a.$emit("caselist:http-error",b)}).finally(function(){a.loading=!1,m()})}var D=this,E="processmoredetailsadmin";a.columns=c,a.pagination={itemsPerPage:d,currentPage:1,total:0},a.selectedFilters={processId:r},a.pageSizes=j,a.cases=void 0,a.loading=!0;var F=[];s&&(F.push("supervisor_id="+s),o=o.replace("admin","pm"),E=E.replace("admin","pm")),a.processManager=+!!s,a.supervisorId=s,a.archivedTabName=!!p,a.searchOptions={filters:[],searchSort:e+" DESC"},a.searchOptions.filters=angular.copy(F),a.sortOptions={property:e,direction:!0},D.reinitCases=function(){delete a.searchOptions.searchSort,a.pagination.currentPage=1,D.searchForCases()},a.$on("caselist:http-error",x),a.$on("caselist:notify",v),a.$on("caselist:search",C),D.loadContent=function(){a.$watch("selectedFilters",w,!0),a.$watch("searchOptions",function(){a.pagination.currentPage=1,a.selectedFilters.processId||D.searchForCases()},!0)},D.parseAndFormat=l.parseAndFormat,D.updateSortField=function(b){a.searchOptions.searchSort&&!b||(a.searchOptions.searchSort=(b&&b.property?b.property:e)+" "+(b&&!1===b.direction?"DESC":"ASC"),a.pagination.currentPage=1)},D.onDropComplete=function(b,c){if(a.columns&&a.columns&&c){var d=a.columns.indexOf(c);if(d!==b-1&&d>-1){var e;if(d>b){for(e=d-1;e>=b;e--)a.columns[e+1]=a.columns[e];a.columns[b]=c}else{for(e=d+1;e<b;e++)a.columns[e-1]=a.columns[e];a.columns[b-1]=c}}}},D.filterColumn=function(a){return a&&a.selected},D.changeItemPerPage=function(b){b&&(a.pagination.itemsPerPage=b,a.pagination.currentPage=1,D.searchForCases())},D.getLinkToCase=function(a){if(a)return q.getPath()+q.getSearch()+"#?id="+a.id+"&_p="+(o||"")+"&"+q.getCurrentProfile()},D.getLinkToProcess=function(a){if(a&&a.processDefinitionId)return q.getPath()+q.getSearch()+"#?id="+a.processDefinitionId.id+"&_p="+(E||"")+"&"+q.getCurrentProfile()},D.getLinkToCaseOverview=function(a){if(a)return q.getPath()+q.getSearch()+"#?name="+a.processDefinitionId.name+"&version="+a.processDefinitionId.version+"&processDefinitionId="+a.processDefinitionId.id+"&id="+a.id+"&token=DisplayCaseForm&_p=DisplayCaseForm&_pf="+q.getCurrentProfile()},D.getLinkToArchivedCaseOverview=function(a){if(a)return q.getPath()+q.getSearch()+"#?name="+a.processDefinitionId.name+"&version="+a.processDefinitionId.version+"&processDefinitionId="+a.processDefinitionId.id+"&id="+a.id+"&sourceObjectId="+a.sourceObjectId+"&token=DisplayCaseForm&_p=DisplayCaseForm&_pf="+q.getCurrentProfile()},D.addAlertEventHandler=v,D.buildFilters=w,D.handleHttpErrorEvent=x,D.searchForCases=C,D.displayKeys=y,D.hasMonitoring=z,D.isSupervisor=A}angular.module("org.bonitasoft.features.admin.cases.list.table",["org.bonitasoft.common.resources","org.bonitasoft.common.table.resizable","org.bonitasoft.common.filters.stringTemplater","org.bonitasoft.services.topurl","org.bonitasoft.features.admin.cases.list.values","org.bonitasoft.features.admin.cases.list.filters","org.bonitasoft.features.admin.cases.list.delete","gettext","ui.bootstrap","ui.router","angular-growl","ngAnimate","org.bonitasoft.bonitable","org.bonitasoft.bonitable.selectable","org.bonitasoft.bonitable.repeatable","org.bonitasoft.bonitable.sortable","org.bonitasoft.bonitable.storable","org.bonitasoft.bonitable.settings","org.bonitasoft.templates","as.sortable","org.bonitasoft.common.filters.date.parser","org.bonitasoft.service.features"]).config(["growlProvider",function(a){a.globalPosition("top-center")}]).controller("ActiveCaseListCtrl",["$scope","caseAPI","casesColumns","defaultPageSize","defaultSort","defaultDeployedFields","defaultActiveCounterFields","$location","$stateParams","pageSizes","defaultFilters","dateParser","$anchorScroll","growl","moreDetailToken","tabName","manageTopUrl","processId","supervisorId","caseStateFilter","FeatureManager",a]).controller("ArchivedCaseListCtrl",["$scope","archivedCaseAPI","archivedCasesColumns","defaultPageSize","archivedDefaultSort","defaultDeployedFields","defaultArchivedCounterFields","$location","$stateParams","pageSizes","defaultFilters","dateParser","$anchorScroll","growl","archivedMoreDetailToken","tabName","manageTopUrl","processId","supervisorId","caseStateFilter","FeatureManager",a])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.cases.list",["ui.router","org.bonitasoft.features.admin.cases.list.table","ui.bootstrap","gettext","org.bonitasoft.common.i18n","org.bonitasoft.services.topurl","org.bonitasoft.features.admin.cases.list.values","org.bonitasoft.common.directives.bonitaHref"]).config(["$stateProvider",function(a){a.state("bonita.cases",{url:"/admin/cases/list?processId&supervisor_id&caseStateFilter",templateUrl:"features/admin/cases/list/cases.html",abstract:!0,controller:"CaseCtrl",controllerAs:"caseCtrl"}).state("bonita.cases.active",{url:"",views:{"case-list":{templateUrl:"features/admin/cases/list/cases-list.html",controller:"ActiveCaseListCtrl",controllerAs:"caseCtrl"}},resolve:{tabName:["activedTabName",function(a){return a}],supervisorId:["$stateParams",function(a){return a.supervisor_id}],processId:["$stateParams",function(a){return a.processId}],caseStateFilter:["$stateParams",function(a){return a.caseStateFilter}]}}).state("bonita.cases.archived",{url:"/archived",views:{"case-list":{templateUrl:"features/admin/cases/list/cases-list.html",controller:"ArchivedCaseListCtrl",controllerAs:"caseCtrl"}},resolve:{tabName:["archivedTabName",function(a){return a}],supervisorId:["$stateParams",function(a){return a.supervisor_id}],processId:["$stateParams",function(a){return a.processId}],caseStateFilter:["$stateParams",function(a){return a.caseStateFilter}]}})}]).controller("CaseCtrl",["$scope","$state","manageTopUrl","i18nService",function(a,b,c,d){a.state=b,a.currentToken=c.getCurrentPageToken(),a.casesStates=[],a.casesStates.push({state:"bonita.cases.active",title:d.getKey("caselist.casesStates.active.title"),htmlAttributeId:"TabActiveCases"}),a.casesStates.push({state:"bonita.cases.archived",title:d.getKey("caselist.casesStates.archived.title"),tabName:"archived",htmlAttributeId:"TabArchivedCases"})}])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.mappings",["org.bonitasoft.common.i18n","org.bonitasoft.common.resources.store"]).value("MAPPING_PROFILES",{USER:"USER",GROUP:"GROUP",ROLE:"ROLE",MEMBERSHIP:"MEMBERSHIP"}).value("MANAGER_FILTER",{USER:["user_id=>0","group_id=-1","role_id=-1"],GROUP:["user_id=-1","group_id=>0","role_id=-1"],ROLE:["user_id=-1","group_id=-1","role_id=>0"],MEMBERSHIP:["user_id=-1","group_id=>0","role_id=>0"]}).value("ACTOR_PROFILES",{users:{deploy:{filter:"member_type=USER",deploy:["user_id"]},type:"users",name:"USER"},groups:{deploy:{filter:"member_type=GROUP",deploy:["group_id"]},type:"groups",name:"GROUP"},roles:{deploy:{filter:"member_type=ROLE",deploy:["role_id"]},type:"roles",name:"ROLE"},memberships:{deploy:{filter:"member_type=MEMBERSHIP",deploy:["role_id","group_id"]},type:"memberships",name:"MEMBERSHIP"}}).value("userIdAttribute","user_id").value("groupIdAttribute","group_id").value("roleIdAttribute","role_id").service("MappingService",["i18nService","userIdAttribute","groupIdAttribute","roleIdAttribute","userAPI","groupAPI","roleAPI","MAPPING_PROFILES","store",function(a,b,c,d,e,f,g,h,i){function j(a,b){var c=b[a]||b;return angular.copy(c,{})}var k={};k.formatToSelectBox={USER:function(a){var c=j(b,a);return c.listLabel=c.buttonLabel=c.firstname+" "+c.lastname,c.contentToSearch=c.firstname+" "+c.lastname+" "+c.userName+" "+c.job_title,c},GROUP:function(a){var b=j(c,a);return b.listLabel=b.buttonLabel=b.displayName,b.contentToSearch=b.name+" "+b.displayName+" "+b.description,b},ROLE:function(a){var b=j(d,a);return b.listLabel=b.buttonLabel=b.displayName,b.contentToSearch=b.name+" "+b.displayName+" "+b.description,b},MEMBERSHIP:function(b){var e=angular.copy(b,{});return e.listLabel=a.getKey("processDetails.actors.memberships.item.label",{group:b[c].displayName,role:b[d].displayName}),e}};var l={USER:{deploy:[b],o:"firstname asc",actorId:b,searchAPI:e},GROUP:{deploy:[c],o:"displayName asc",actorId:c,searchAPI:f},ROLE:{deploy:[d],o:"displayName asc",actorId:d,searchAPI:g},MEMBERSHIP:{deploy:[d,c],o:"displayName asc",actorId:d,actorId2:c}};return k.getSearchMemberParams=function(a){return angular.copy(l[a])},k.loadMembers=function(a,b,c,d){return i.load(d,{f:b.filters,d:b.deploy}).then(function(d){return d.forEach(function(b){b.label=k.formatToSelectBox[a](b).listLabel}),a!==h.MEMBERSHIP&&d.forEach(function(a){c.push(a[b.actorId].id)}),d},angular.noop)},k.searchMembers=function(a,b,c){return b=b||{p:0,c:200},b.o=c.o,k.getSearchMemberParams(a).searchAPI.search(b).$promise.then(function(a){return a.data})},k}])}(),function(){"use strict";angular.module("org.bonitasoft.common.actors.selectbox",["org.bonitasoft.common.i18n","org.bonitasoft.features.admin.mappings","isteven-multi-select","org.bonitasoft.service.debounce"]).directive("actorsSelectBox",function(){return{priority:1e4,scope:{localLang:"=",selectedMembers:"=",alreadyMappedActorsIds:"=",type:"@"},controller:"ActorsSelectBoxCtrl",controllerAs:"actorsCtrl",restrict:"E",templateUrl:"features/admin/mapping/actors.html",link:function(a,b,c,d){d.selectionMode=c.selectionMode}}}).controller("ActorsSelectBoxCtrl",["$scope","MappingService","debounce",function(a,b,c){var d=this;d.selectedMembers=a.selectedMembers,a.$watch(function(){return a.alreadyMappedActorsIds&&a.alreadyMappedActorsIds.length},function(){_.isArray(a.alreadyMappedActorsIds)&&(d.members=d.members.filter(function(b){return-1===a.alreadyMappedActorsIds.indexOf(b.id)}))}),d.selectedMembers.list=[];var e=a.type;d.members=[];var f,g={p:0,c:200},h=b.getSearchMemberParams(e);d.search=function(c){c.keyword&&f===c.keyword||(f=c.keyword,g.s=c.keyword,b.searchMembers(e,g,h,a.alreadyMappedActorsIds).then(function(f){d.members=_.chain(f).filter(function(b){return-1===a.alreadyMappedActorsIds.indexOf(b.id)}).map(b.formatToSelectBox[e]).value(),c.keyword&&(d.members=d.ensureKeywordMatchesEntries(c.keyword,d.members)),d.members=_.unionWith(d.selectedMembers.list,d.members,function(a,b){return a.id===b.id})}))},d.searchWithDebounce=function(a){c(d.search(a),300)},d.search({}),d.ensureKeywordMatchesEntries=function(a,b){return b.filter(function(b){return b.contentToSearch.match(new RegExp(a,"i"))})}}])}(),function(){"use strict";function a(){return{scope:{cardData:"=",onSave:"=",buttonText:"@"},replace:!0,bindToController:!0,controllerAs:"vm",controller:b,templateUrl:"features/admin/organisation/users/details/card.html"}}function b(){var a=this;a.save=function(b){a.onSave(b)}}angular.module("org.bonitasoft.features.admin.organisation.users").directive("boCard",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(a){return b.update({id:a.definitionId.id,userId:a.userId},{value:a.value}).$promise}var g=this;g.customInformation=a,g.saveCustomInfo=function(a){var b=a.map(f);c.all(b).then(function(){d.success(e.getString("Custom information successfully updated"))},function(){d.error(e.getString("Custom information has not been updated. Please retry later or contact an administrator"))})},g.hasCustomInfo=function(){return g.customInformation&&g.customInformation.length>0}}angular.module("org.bonitasoft.features.admin.organisation.users").controller("UserCustomInfoCtrl",a),a.$inject=["customInformation","customUserInfoAPI","$q","growl","gettextCatalog"]}(),function(){"use strict";function a(){return{scope:{iconSrc:"=",uploader:"="},replace:!0,bindToController:!0,controllerAs:"vm",controller:b,templateUrl:"features/admin/organisation/users/details/general/avatar-upload.html"}}function b(){var a=this;a.hasIcon=function(){return a.iconSrc&&"icons/default/icon_user.png"!==a.iconSrc}}angular.module("org.bonitasoft.features.admin.organisation.users").directive("boAvatarUpload",a)}(),function(){"use strict";function a(){return{scope:{manager:"=selected",onType:"="},replace:!0,bindToController:!0,controllerAs:"vm",controller:b,templateUrl:"features/admin/organisation/users/details/general/manager-field.html"}}function b(){var a=this;a.formatLabel=function(a){return a?a.firstname+" "+a.lastname+" ("+a.userName+")":""},a.searchManagers=function(b){return a.onType(b)}}angular.module("org.bonitasoft.features.admin.organisation.users").directive("boManagerField",a)}(),function(){"use strict";function a(){return{scope:{onUpdate:"=",errors:"="},bindToController:!0,controllerAs:"vm",controller:b,templateUrl:"features/admin/organisation/users/details/password/password.html"}}function b(){var a=this;a.password={},a.invalid=!1,a.update=function(b){if(b.new){if(b.new!==b.confirm)return void(a.invalid=!0);a.onUpdate(b),a.resetValidity()}},a.resetValidity=function(){a.invalid=!1}}angular.module("org.bonitasoft.features.admin.organisation.users").directive("boPassword",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){return f.delete({userId:b.id,groupId:a.group_id.id,roleId:a.role_id.id}).$promise}function k(){i.reload(i.current)}function l(a){return f.save({role_id:a.role.id,group_id:a.group.id,user_id:n.user.id}).$promise}function m(a){this.response=a,this.isAlreadyExistsException=function(){return 403===this.response.status&&-1!==this.response.data.cause.exception.indexOf("AlreadyExistsException")}}var n=this;n.profiles=c,n.memberships=d,n.user=b,a.$watch("vm.memberships.pagination",function(a){n.paginationMembership={itemsPerPage:a&&a.numberPerPage?a.numberPerPage:25,currentPage:a&&a.currentPage?a.currentPage:1,total:a&&a.total?a.total:0}},!0),n.searchMemberships=function(){n.memberships=f.search({p:n.paginationMembership.currentPage-1,c:n.paginationMembership.itemsPerPage,f:"user_id="+b.id,d:["role_id","group_id"]})},n.openDeletePopUp=function(a){var b=e.open({templateUrl:"features/admin/organisation/users/details/profiles/delete-membership-popup.html",controller:function(){this.membership=a},controllerAs:"vm"});return b.result.then(function(a){j(a).then(function(){g.success(h.getString("Membership successfully removed"))},function(){g.error(h.getString("Membership has not been removed. Please retry later or contact an administrator"))}).then(k)}),b},n.openAddPopup=function(){var a=e.open({templateUrl:"features/admin/organisation/users/details/profiles/add-membership-popup.html",controller:function(){this.membership={group:{list:[]},role:{list:[]}},this.mappedIds=[],this.localeLangRole={nothingSelected:h.getString("Select a role...")},this.localeLangGroup={nothingSelected:h.getString("Select a group...")},this.isButtonEnabled=function(){return this.membership.group.list.length>0&&this.membership.role.list.length>0},this.mapMembershipObject=function(a){return{role:{id:a.role.list[0].id,name:a.role.list[0].displayName||a.role.list[0].name},group:{id:a.group.list[0].id,name:a.group.list[0].displayName||a.group.list[0].name}}}},controllerAs:"vm",size:"lg",backdrop:!1});return a.result.then(function(a){l(a).then(function(){g.success(h.getString("Membership successfully added"))},function(b){new m(b).isAlreadyExistsException()?g.warning(h.getString("{{firstname}} {{lastname}} already has the membership <b>{{role}} of {{group}}</b>",{role:a.role.name,group:a.group.name,firstname:n.user.firstname,lastname:n.user.lastname})):g.error(h.getString("Membership has not been added. Please retry later or contact an administrator"))}).then(k)}),a}}angular.module("org.bonitasoft.features.admin.organisation.users").controller("UserProfiles",a),a.$inject=["$scope","user","profiles","memberships","$modal","membershipAPI","growl","gettextCatalog","$state"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){var i=this;i.user=a,i.saveGeneralInformation=function(a){f.update({id:a.id,title:a.title,firstname:a.firstname,lastname:a.lastname,userName:a.userName,job_title:a.job_title,manager_id:a.manager_id?a.manager_id.id:""}).$promise.then(function(){b.success(c.getString("General information successfully updated"))},function(){b.error(c.getString("General information has not been updated. Please retry later or contact an administrator"))})},i.updatePassword=function(a){f.update({id:i.user.id,password:a.new,password_confirm:a.confirm}).$promise.then(function(){i.errors=[],b.success(c.getString("Password successfully updated"))},function(a){if(a.data&&a.data.message){var d=a.data.message.split("\n");i.errors=d.slice(0,d.length-1)}else b.error(c.getString("Password has not been updated. Please retry later or contact an administrator"))})},i.saveBusinessCard=function(a){d.update(angular.extend({id:i.user.id},a)).$promise.then(function(){b.success(c.getString("Business card successfully updated"))},function(){b.error(c.getString("Business card has not been updated. Please retry later or contact an administrator"))})},i.savePersonalInformation=function(a){e.update(angular.extend({id:i.user.id},a)).$promise.then(function(){b.success(c.getString("Personal information successfully updated"))},function(){b.error(c.getString("Personal information has not been updated. Please retry later or contact an administrator"))})},i.searchManagers=function(a){return f.search({c:20,p:0,o:"userName",s:a}).$promise.then(function(a){return a.data})},i.uploader=new g({autoUpload:!0,url:"../portal/imageUpload",onSuccessItem:function(b,c){f.update({id:a.id,icon:c}).$promise.then(function(){h.reload()})},onErrorItem:function(){throw new Error("Cannot upload the file")}}),i.goBack=function(){history.back()}}angular.module("org.bonitasoft.features.admin.organisation.users").controller("UserDetailsCtrl",a),a.$inject=["user","growl","gettextCatalog","professionalDataAPI","personalDataAPI","userAPI","FileUploader","$state"]}(),function(){"use strict";function a(a){a.state("bonita.userDetails",{url:"/admin/organisation/users/:id",templateUrl:"features/admin/organisation/users/details/index.html",controller:"UserDetailsCtrl as vm",abstract:!0,resolve:{user:["userAPI","$stateParams",function(a,b){return a.get({id:b.id,d:["professional_data","personnal_data","manager_id"]}).$promise.then(function(a){return a.manager_id=angular.isObject(a.manager_id)?a.manager_id:void 0,a})}]}}).state("bonita.userDetails.businessCard",{url:"/business-card",templateUrl:"features/admin/organisation/users/details/business-card/index.html"}).state("bonita.userDetails.personalInfo",{url:"/personal-information",templateUrl:"features/admin/organisation/users/details/personal-information/index.html"}).state("bonita.userDetails.general",{url:"",templateUrl:"features/admin/organisation/users/details/general/index.html"}).state("bonita.userDetails.password",{url:"/password",templateUrl:"features/admin/organisation/users/details/password/index.html"}).state("bonita.userDetails.profiles",{url:"/profiles",templateUrl:"features/admin/organisation/users/details/profiles/index.html",controller:"UserProfiles as vm",resolve:{profiles:["profileAPI","$stateParams",function(a,b){return a.search({p:0,c:100,f:"user_id="+b.id})}],memberships:["membershipAPI","$stateParams",function(a,b){return a.search({p:0,c:25,f:"user_id="+b.id,d:["role_id","group_id"]})}]}}).state("bonita.userDetails.customInfo",{url:"/custom-information",templateUrl:"features/admin/organisation/users/details/custom-information/index.html",controller:"UserCustomInfoCtrl as vm",resolve:{customInformation:["customUserInfoAPI","$stateParams",function(a,b){return a.search({p:0,c:100,f:"userId="+b.id}).$promise.then(function(a){return a.data},function(){return[]})}]}})}angular.module("org.bonitasoft.features.admin.organisation.users").config(a),a.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.processes.details.actorMapping",["ui.bootstrap","org.bonitasoft.common.resources","org.bonitasoft.common.filters.stringTemplater","org.bonitasoft.common.i18n","org.bonitasoft.features.admin.mappings"]).constant("MEMBERS_PER_CELL",5).service("ActorMappingService",["actorMemberAPI","MEMBERS_PER_CELL","$q",function(a,b,c){var d={};return d.getMembersForAnActor=function(a,b,e){var f=[],g={};return angular.forEach(b,function(b){f.push(d.getActorMembers(a,b.deploy,e).then(function(a){g[b.type]=a}))}),c.all(f).then(function(){return g})},d.getActorMembers=function(c,d,e){var f=["process_id="+e.id,"actor_id="+c.id];return f=f.concat(d.filter),a.search({p:0,c:b,f:f,d:d.deploy}).$promise},d}]).controller("ActorsMappingCtrl",["$scope","$modal","process","MEMBERS_PER_CELL","growl","i18nService","$log","$filter","processActors","ActorMappingService","defaultLocalLang","ACTOR_PROFILES",function(a,b,c,d,e,f,g,h,i,j,k,l){var m=this;m.actors=i,m.membersPerCell=d,m.actorsMembers={},m.actorProfiles=l,m.actors.forEach(function(a){j.getMembersForAnActor(a,m.actorProfiles,c).then(function(b){m.actorsMembers[a.id]=b})}),m.editMapping=function(d,h){b.open({templateUrl:"features/admin/processes/details/edit-actor-members.html",controller:"EditActorMembersCtrl",controllerAs:"editActorMembersCtrl",size:"lg",backdrop:!1,resolve:{process:function(){return c},memberProfile:function(){return m.actorProfiles[h]},actor:function(){return d},defaultLocalLang:function(){return k}}}).result.then(function(a){a=_.compact(a),e.success(f.getKey("processDetails.actors.update.success",{nbSucess:a.length}))},function(a){angular.isDefined(a)&&_.isArray(a)&&(g.error("Actor mapping errors",a),e.error(f.getKey("processDetails.actors.update.error",{nbErrors:a.length})))}).finally(function(){a.$emit("process.refresh"),j.getActorMembers(d,m.actorProfiles[h].deploy,c).then(function(a){m.actorsMembers[d.id][h]=a})})}}]).filter("dateInMillis",function(){return function(a){return Date.parse(a)}})}(),function(){"use strict";function a(a,b){var c=this;c.process=a,c.delete=function(){b.close(a)},c.cancel=function(){b.dismiss()}}angular.module("org.bonitasoft.features.admin.processes.details").controller("DeleteProcessModalInstanceCtrl",a),a.$inject=["process","$modalInstance"]}(),function(){"use strict";var a="bonita.processesDetails.information",b="bonita.processesDetails.params",c="bonita.processesDetails.processConnectors",d="bonita.processesDetails.actorsMapping";angular.module("org.bonitasoft.features.admin.processes.details").value("menuContent",[]).config(["$provide",function(e){e.decorator("menuContent",["$delegate","gettext",function(e,f){return e.push({name:f("General"),resolutionLabel:"general",state:a}),e.push({name:f("Actors"),resolutionLabel:"actor",state:d}),e.push({name:f("Parameters"),resolutionLabel:"parameter",state:b}),e.push({name:f("Connectors"),resolutionLabel:"connector",state:c}),e}])}]).service("ProcessMoreDetailsResolveService",["store","processConnectorAPI","parameterAPI","categoryAPI","processAPI","actorAPI","processResolutionProblemAPI","ProcessProblemResolutionService",function(a,b,c,d,e,f,g,h){var i={};return i.retrieveProcessResolutionProblem=function(b){return a.load(g,{f:["process_id="+b]}).then(function(a){return h.buildProblemsList(a.map(function(a){return{type:a.target_type,ressource_id:a.ressource_id}}))})},i.retrieveProcessActors=function(a){return f.search({c:2147483646,p:0,o:"name ASC",f:"process_id="+a,n:["users","groups","roles","memberships"]}).$promise.then(function(a){return a.data})},i.retrieveProcess=function(a){return e.get({id:a,d:["deployedBy"],n:["openCases","failedCases"]})},i.retrieveCategories=function(b){return a.load(d,{f:["id="+b]})},i.retrieveParameters=function(b){return a.load(c,{f:["process_id="+b],o:["name ASC"]})},i.retrieveConnectors=function(c){return a.load(b,{o:"definition_id ASC",f:"process_id="+c})},i}]).config(["$stateProvider",function(e){e.state("bonita.processesDetails",{url:"/admin/processes/details/:processId?supervisor_id",templateUrl:"features/admin/processes/details/menu.html",abstract:!0,controller:"ProcessMenuCtrl",controllerAs:"processMenuCtrl",resolve:{process:["$stateParams","ProcessMoreDetailsResolveService",function(a,b){var c=b.retrieveProcess(a.processId);return c.id=a.processId,c}],processResolutionProblems:["$stateParams","ProcessMoreDetailsResolveService",function(a,b){return b.retrieveProcessResolutionProblem(a.processId)}],supervisorId:["$stateParams","TokenExtensionService",function(a,b){return b.tokenExtensionValue=angular.isDefined(a.supervisor_id)?"pm":"admin",a.supervisor_id}],defaultLocalLang:["i18nService",function(a){return a.translationsLoadPromise.then(function(){return{selectAll:a.getKey("multiSelect.selectAll"),selectNone:a.getKey("multiSelect.selectNone"),reset:a.getKey("multiSelect.reset"),search:a.getKey("multiSelect.search.helper")}})}]}}).state(a,{url:"",templateUrl:"features/admin/processes/details/information.html",controller:"ProcessInformationCtrl",controllerAs:"processInformationCtrl",resolve:{categories:["$stateParams","ProcessMoreDetailsResolveService",function(a,b){return b.retrieveCategories(a.processId)}]}}).state(b,{url:"/params",templateUrl:"features/admin/processes/details/params.html",controller:"ProcessParamsCtrl",controllerAs:"processParamsCtrl",resolve:{parameters:["$stateParams","ProcessMoreDetailsResolveService",function(a,b){return b.retrieveParameters(a.processId)}]}}).state(c,{url:"/connectors",templateUrl:"features/admin/processes/details/process-connectors.html",controller:"ProcessConnectorsCtrl",controllerAs:"processConnectorsCtrl",resolve:{processConnectors:["$stateParams","ProcessMoreDetailsResolveService",function(a,b){return b.retrieveConnectors(a.processId)}]}}).state(d,{url:"/actorsMapping",templateUrl:"features/admin/processes/details/actors-mapping.html",controller:"ActorsMappingCtrl",controllerAs:"actorsMappingCtrl",resolve:{processActors:["$stateParams","ProcessMoreDetailsResolveService",function(a,b){return b.retrieveProcessActors(a.processId)}]}})}])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.processes.editActorMembers",["ui.bootstrap","org.bonitasoft.common.i18n","ui.router","angular-growl","isteven-multi-select","org.bonitasoft.common.resources.store","org.bonitasoft.features.admin.mappings","org.bonitasoft.common.actors.selectbox"]).controller("EditActorMembersCtrl",["$modalInstance","actorMemberAPI","actor","memberProfile","process","i18nService","$q","defaultLocalLang","MAPPING_PROFILES","MappingService",function(a,b,c,d,e,f,g,h,i,j){function k(a){var c=[];return a.forEach(function(a){c.push(b.delete({id:a.id}).$promise)}),c}function l(){var a=[];return n.newMembers.list.forEach(function(b){var d={actor_id:c.id};d[n.searchMemberParams.actorId]=b.id,a.push(n.actorMemberAPISave(d).$promise)}),a}function m(){if(n.saveCallFinished=0,n.newMembers.membership.group.list.length&&n.newMembers.membership.role.list.length)return b.save({role_id:n.newMembers.membership.role.list[0].id,group_id:n.newMembers.membership.group.list[0].id,actor_id:c.id}).$promise}var n=this;n.memberType=d.name,n.members={},n.newMembers={list:[],membership:{role:{list:[]},group:{list:[]}}},n.actor=c,n.membersToDelete=[],n.mappedIds=[],n.searchMemberParams=j.getSearchMemberParams(n.memberType),n.constant=i,n.localLang=angular.copy(h),n.localLang.nothingSelected=f.getKey("processDetails.actors."+d.type+".selectHelper"),n.localLangRole=angular.copy(h),n.localLangRole.nothingSelected=f.getKey("processDetails.actors.memberships.selectRoleHelper"),n.localLangGroup=angular.copy(h),n.localLangGroup.nothingSelected=f.getKey("processDetails.actors.memberships.selectGroupHelper"),n.currentMemberLabel=f.getKey("processDetails.actors."+d.type+".label"),n.title=f.getKey("processDetails.actors."+d.type+".mapping"),n.isMembershipEdit=function(){return n.memberType===i.MEMBERSHIP},n.hasModificationToApply=function(){return n.newMembers.list.length||!!n.membersToDelete.length||n.newMembers.membership.group.list.length&&n.newMembers.membership.role.list.length},n.initView=function(){n.searchMemberParams.filters=["actor_id="+c.id,"member_type="+n.memberType],j.loadMembers(n.memberType,n.searchMemberParams,n.mappedIds,b).then(function(a){n.members=a})},n.reenableMember=function(a){n.membersToDelete.splice(n.membersToDelete.indexOf(a),1),n.members.push(a)},n.removeMember=function(a){n.members.splice(n.members.indexOf(a),1),n.membersToDelete.push(a)},n.removeAll=function(){n.members.forEach(function(a){n.membersToDelete.push(a)}),n.members.length=0},n.reenableAll=function(){n.membersToDelete.forEach(function(a){n.members.push(a)}),n.membersToDelete.length=0},n.apply=function(){var b=[];b=b.concat(l()),b=b.concat(m()),b=b.concat(k(n.membersToDelete)),g.all(b).then(a.close,n.cancel)},n.actorMemberAPISave=function(a){return b.save(a)},n.cancel=function(){a.dismiss()}}])}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l){function m(){h.open({templateUrl:"features/admin/processes/details/manage-category-mapping-modal.html",controller:"ManageCategoryMappingModalInstanceCtrl",controllerAs:"manageCategoryMappingInstanceCtrl",resolve:{process:function(){return b},initiallySelectedCategories:function(){return p.categories},allCategories:function(){return d.load(e)}}}).result.then(p.updateTagsAndAlertUser,function(a){-1===["cancel","backdrop click"].indexOf(a)&&(k.error("category update failed :",a),i.error(j.getKey("processDetails.informations.category.update.error")+" : "+a))})}function n(a){var b=JSON.stringify(p.categories)!==JSON.stringify(a);p.categories=a,p.selectedCategories.length=0,[].push.apply(p.selectedCategories,a.map(function(a){return a.name})),b?i.success(l.getString("Successfully updated categories")):i.warning(l.getString('No updates have been made on categories. Don\'t forget to press "Enter" key after selecting a category.'))}function o(){return"RESOLVED"===p.process.configurationState}var p=this;p.process=b,p.parseAndFormat=c.parseAndFormat,p.selectedCategories=f.map(function(a){return a.name}),p.categories=f,p.openProcessCategoryManagementModal=m,p.updateTagsAndAlertUser=n,p.isProcessResolved=o}angular.module("org.bonitasoft.features.admin.processes.details.information",["org.bonitasoft.common.filters.date.parser","org.bonitasoft.common.directives.bonitags","ui.bootstrap","angular-growl","org.bonitasoft.common.resources.store","org.bonitasoft.features.admin.processes.details.information.categories","org.bonitasoft.common.i18n"]).controller("ProcessInformationCtrl",a),a.$inject=["$scope","process","dateParser","store","categoryAPI","categories","$q","$modal","growl","i18nService","$log","gettextCatalog"]}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.processes.details.information.categories",["org.bonitasoft.common.directives.bonitags","ui.bootstrap","org.bonitasoft.common.resources.store","angular-growl","gettext"]).controller("ManageCategoryMappingModalInstanceCtrl",["$scope","categoryAPI","process","gettextCatalog","$modalInstance","store","initiallySelectedCategories","allCategories","categoryManager",function(a,b,c,d,e,f,g,h,i){var j=this;j.selectedTags=g.map(function(a){return a.name}),j.tags=h.map(function(a){return a.name}),j.updateCategories=function(){e.close(i.updateCategories(h,g,j.selectedTags,j.tags,c.id))},j.cancel=function(){e.dismiss("cancel")}}]).service("categoryManager",["processCategoryAPI","categoryAPI","$q",function(a,b,c){var d={};return d.selectedCategoriesPopulatePromise=function(a,b,d){return c.all(a.concat(b)).then(function(){return d})},d.saveCategoryProcessIfNotAlreadySelected=function(b,c,e,f){d.categoryWasInitiallySelected(b,c)||e.push(a.save({category_id:b.id,process_id:f}))},d.deleteCategoryProcessIfNeeded=function(b,c,e,f,g){!d.categoryIsSelected(b,g)&&d.categoryWasInitiallySelected(b,c)&&e.push(a.delete({category_id:b.id,process_id:f}))},d.updateCategories=function(a,b,c,e,f){var g=[],h=[];return a.forEach(function(a){d.categoryIsSelected(a,c)?(h.push(a),d.saveCategoryProcessIfNotAlreadySelected(a,b,g,f)):d.deleteCategoryProcessIfNeeded(a,b,g,f,c)}),d.selectedCategoriesPopulatePromise(g,d.createNewCategoriesPromises(h,e,c,f),h)},d.createNewCategoriesPromises=function(c,d,e,f){return _.difference(e,d).map(function(d){return b.save({name:d}).$promise.then(function(b){return c.push(b),a.save({category_id:b.id,process_id:f})})})},d.categoryWasInitiallySelected=function(a,b){return!(!a||!b)&&!!b.filter(function(b){return b.id===a.id}).length},d.categoryIsSelected=function(a,b){return!(!a||!b)&&!!b.filter(function(b){return b===a.name}).length},d}])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.processes.details.params",["org.bonitasoft.common.resources","org.bonitasoft.service.features","xeditable","org.bonitasoft.common.i18n"]).constant("TYPE_ERROR_MESSAGE",{"java.lang.Boolean":{message:"processDetails.params.control.boolean",checkvalueMatchType:function(a){return"true"===a||"false"===a||!0===a||!1===a}},"java.lang.Double":{message:"processDetails.params.control.double",checkvalueMatchType:function(a){return _.isString(a)&&!isNaN(parseFloat(a))||_.isNumber(a)}},"java.lang.Integer":{message:"processDetails.params.control.integer",checkvalueMatchType:function(a){return _.isString(a)&&Number(a)%1==0||_.isNumber(a)&&a%1==0}}}).controller("ProcessParamsCtrl",["parameters","FeatureManager","process","parameterAPI","$log","$scope","i18nService","TYPE_ERROR_MESSAGE",function(a,b,c,d,e,f,g,h){var i=this;i.parameters=a,i.process=c,i.booleanValues=[{value:"true"},{value:"false"}],i.showActions=b.isFeatureAvailable("POST_DEPLOY_CONFIG"),i.updateParameter=function(a,b){return angular.isDefined(h[a.type])&&!h[a.type].checkvalueMatchType(b)?g.getKey(h[a.type].message):d.update({process_id:a.process_id,description:a.description,name:a.name,value:b,type:a.type}).$promise.then(function(){f.$emit("process.refresh")},function(a){return e.error("error updating parameter : ",a),a.data.message})}}])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.processes.details.processConnectors",["ui.bootstrap","angular-growl","org.bonitasoft.service.features","org.bonitasoft.common.resources.store"]).controller("ProcessConnectorsCtrl",["$scope","process","FeatureManager","processConnectors",function(a,b,c,d){var e=this;e.process=b,e.processConnectors=d,e.showActions=c.isFeatureAvailable("POST_DEPLOY_CONFIG")}])}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){return r.processResolutionProblems.some(function(b){return b.type===a})}function o(){e.open({templateUrl:"features/admin/processes/details/delete-process-modal.html",controller:"DeleteProcessModalInstanceCtrl",controllerAs:"deleteProcessModalInstanceCtrl",size:"sm",resolve:{process:function(){return c}}}).result.then(function(a){d.delete({id:a.id}).$promise.then(function(){g.goTo({token:"processlisting"+k.tokenExtensionValue})},function(a){m.error("An Error occurred during process deletion",a),l.error("An Error occurred during process deletion: "+a.message)})})}function p(){j.retrieveProcess(c.id).$promise.then(function(a){c.configurationState=a.configurationState}),j.retrieveProcessResolutionProblem(c.id).then(function(a){r.processResolutionProblems=a})}function q(a,b){var e=b.value?"ENABLED":"DISABLED";d.update({id:c.id,activationState:e}).$promise.then(function(){c.activationState=e})}var r=this;r.includesCurrentState=function(a){return f.includes(a)},r.menuContent=b,r.process=c,r.toggleProcessActivation=q,r.refreshProcess=p,r.deleteProcess=o,r.currentPageToken=g.getCurrentPageToken(),r.processResolutionProblems=i,r.hasResolutionProblem=n,a.$on("button.toggle",r.toggleProcessActivation),a.$on("process.refresh",r.refreshProcess),r.goBack=function(){h.history.back()}}angular.module("org.bonitasoft.features.admin.processes.details").controller("ProcessMenuCtrl",a),a.$inject=["$scope","menuContent","process","processAPI","$modal","$state","manageTopUrl","$window","processResolutionProblems","ProcessMoreDetailsResolveService","TokenExtensionService","growl","$log"]}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.processes",["org.bonitasoft.features.admin.processes.details"])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.cases",["org.bonitasoft.features.user.cases.list"])}(),function(){"use strict";function a(a,b,c,d,e,f){a.selectedFilters.selectedApp=d.appName,a.selectedFilters.selectedVersion=d.appVersion,a.selectedFilters.selectedStartedBy=d.startedBy,a.defaultUserFilters=d,a.caseStatesUserValues=e,angular.isDefined(f.caseStateFilter)&&f.caseStateFilter&&angular.isDefined(a.caseStatesUserValues[f.caseStateFilter])&&(a.selectedFilters.selectedStartedBy=f.caseStateFilter),a.caseStatesUserValues[d.startedBy]=d.startedBy,a.apps=[],a.versions=[],a.appNames=[],a.allCasesSelected=!1,a.selectedFilters.currentSearch="";var g=this,h=[];a.supervisorId&&h.push("supervisor_id="+a.supervisorId),g.initFilters=function(b){a.apps=b,b.map(function(b){return a.selectedFilters.processId&&a.selectedFilters.processId===b.id&&(a.selectedFilters.selectedApp=b.displayName,g.filterVersion(a.selectedFilters.selectedApp),a.selectedFilters.selectedVersion=b.version),b.displayName}).forEach(function(b){b&&$.inArray(b,a.appNames)<0&&a.appNames.push(b)})},b.load(c,{f:h}).then(g.initFilters),g.selectApp=function(b){b?b!==a.selectedFilters.selectedApp&&(a.selectedFilters.selectedApp=b):a.selectedFilters.selectedApp=d.appName},g.selectVersion=function(b){b&&b!==d.appVersion?a.selectedFilters.selectedVersion=b:a.selectedFilters.selectedVersion=d.appVersion},g.selectCaseStartedBy=function(b){b&&b!==d.startedBy?a.selectedFilters.selectedStartedBy="Me":a.selectedFilters.selectedStartedBy=d.startedBy},g.filterVersion=function(b){a.versions=[],a.selectedFilters.selectedVersion=d.appVersion,a.apps&&a.apps.filter&&(a.versions=a.apps.filter(function(a){return a&&a.displayName===b&&a.version}).map(function(a){return a.version})),a&&a.versions&&1===a.versions.length&&(a.selectedFilters.selectedVersion=a.versions[0])},g.filterProcessDefinition=function(b){if(b&&a.selectedFilters.selectedApp&&a.apps){var c=a.apps.filter(function(c){return c&&c.displayName===a.selectedFilters.selectedApp&&b===c.version});c&&c.length?a.selectedFilters.selectedProcessDefinition=c[0]&&c[0].id:delete a.selectedFilters.selectedProcessDefinition}else delete a.selectedFilters.selectedProcessDefinition},g.submitSearch=function(){a.pagination.currentPage=1,a.$emit("caselist:search")},a.$watch("selectedFilters.selectedApp",function(){a.selectedFilters.processId?a.selectedFilters.selectedApp!==d.appName&&delete a.selectedFilters.processId:(g.filterVersion(a.selectedFilters.selectedApp),delete a.selectedFilters.selectedProcessDefinition)}),a.$watch("selectedFilters.selectedVersion",function(){g.filterProcessDefinition(a.selectedFilters.selectedVersion)})}angular.module("org.bonitasoft.features.user.cases.list.filters",["org.bonitasoft.common.resources","org.bonitasoft.features.user.cases.list.values","gettext","ui.bootstrap","ui.router","org.bonitasoft.common.resources.store"]).controller("ActiveCaseUserFilterController",["$scope","store","processAPI","defaultUserFilters","caseStatesUserValues","$stateParams",a]).directive("activeCaseUserFilters",function(){return{restrict:"E",require:"^ActiveCaseListUserCtrl",templateUrl:"features/user/cases/list/cases-list-filters.html",controller:"ActiveCaseUserFilterController",controllerAs:"filterUserCtrl"}}).controller("ArchivedCaseUserFilterController",["$scope","store","processAPI","defaultUserFilters","caseStatesUserValues","$stateParams",a]).directive("archivedCaseUserFilters",function(){return{restrict:"E",require:"^ArchivedCaseListUserCtrl",templateUrl:"features/user/cases/list/archived-cases-list-filters.html",controller:"ArchivedCaseUserFilterController",controllerAs:"filterUserCtrl"}})}(),function(){"use strict";function a(a){return a}angular.module("org.bonitasoft.features.user.cases.list.values",[]).value("casesUserColumns",[{name:"ID",path:["id"]},{name:"Process name",path:["processDefinitionId","displayName"]},{name:"Version",path:["processDefinitionId","version"]},{name:"Start date",path:["start"]},{name:"Started by",path:["started_by","userName"],defaultValue:"System"}]).value("caseStatesUserValues",{Me:a("Me")}).value("moreUserDetailToken","casemoredetails").value("pageSizes",[25,50,100,200]).value("defaultPageSize",25).value("defaultSort","id").value("archivedDefaultSort","sourceObjectId").value("defaultUserFilters",{appName:a("All"),startedBy:a("Anyone")}).value("defaultDeployedFields",["processDefinitionId","started_by","startedBySubstitute"]).value("defaultActiveCounterFields",["activeFlowNodes","failedFlowNodes"]).value("activedTabName","").value("archivedCasesColumns",[{name:"ID",path:["sourceObjectId"]},{name:"Process name",path:["processDefinitionId","name"]},{name:"Version",path:["processDefinitionId","version"]},{name:"Start date",path:["start"]},{name:"Started by",path:["started_by","userName"],defaultValue:a("System")},{name:"End date",path:["end_date"]},{name:"State",path:["state"]}]).value("archivedCaseStatesValues",{started:a("Started"),error:a("Failed")}).value("archivedUserMoreDetailToken","archivedcasemoredetails").value("archivedTabName","archived").value("defaultArchivedCounterFields",[])}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){function w(a,b){var c={ttl:3e3,disableCountDown:!0,disableIcons:!0},d=((b.status||"")+" "+(b.statusText||"")+" "+(b.errorMsg||"")).trim();switch(b.type){case"success":o.success(d,c);break;case"danger":o.error(d,c);break;default:o.info(d,c)}}function x(){var b=angular.copy(D);a.selectedFilters.selectedProcessDefinition?b.push("processDefinitionId="+a.selectedFilters.selectedProcessDefinition):a.selectedFilters.selectedApp&&a.selectedFilters.selectedApp!==l.appName&&b.push("name="+a.selectedFilters.selectedApp),a.selectedFilters.selectedStartedBy&&a.selectedFilters.selectedStartedBy!==l.startedBy&&b.push("started_by="+a.currentUserId),a.searchOptions.filters=b}function y(b,c){if(c)if(401===c.status)j.url("/");else{var d={status:c.status,statusText:c.statusText,type:"danger"};c.data&&(d.errorMsg=c.data.message,d.resource=c.data.api+"/"+c.data.resource),a.$emit("caselist:notify",d)}}function z(){return v.isSearchIndexedFeatureActivated()}function A(a){var b;return a.started_by.firstname||a.started_by.lastname?b=a.started_by.firstname+" "+a.started_by.lastname:a.started_by.userName&&(b=a.started_by.userName),b}function B(){a.loading=!0;var e=a.cases=[],f=a.pagination=angular.copy(a.pagination);b.get({id:"unusedId"}).$promise.then(function(b){a.currentUserId=b.user_id;var g=angular.copy(a.searchOptions.filters);g.push("user_id="+a.currentUserId),c.search({p:f.currentPage-1,c:f.itemsPerPage,d:h,o:a.searchOptions.searchSort,f:g,n:i,s:a.selectedFilters.currentSearch}).$promise.then(function(b){f.total=b&&b.resource&&b.resource.pagination&&b.resource.pagination.total,a.currentFirstResultIndex=(f.currentPage-1)*f.itemsPerPage+1,a.currentLastResultIndex=Math.min(a.currentFirstResultIndex+f.itemsPerPage-1,f.total),b&&b.resource&&b.resource.map(function(b){var c={};return a.columns.forEach(function(a){for(var d=b,e=0;e<a.path.length;e++)d=d&&d[a.path[e]];c[a.name]=d}),c["Started by fullname"]=A(b),c.id=b.id,c.processDefinitionId=b.processDefinitionId,c.fullCase=b,c.sourceObjectId=b.sourceObjectId,d.search({p:0,c:1,f:["state=ready","user_id="+a.currentUserId,"caseId="+b.id]}).$promise.then(function(a){c["Available tasks"]=a.resource.pagination.total}),c}).forEach(function(a){e.push(a)})},function(b){f.total=0,a.currentFirstResultIndex=0,a.currentLastResultIndex=0,a.$emit("caselist:http-error",b)}).finally(function(){a.loading=!1,n()})})}var C=this;a.columns=e,a.pagination={itemsPerPage:f,currentPage:1,total:0},a.selectedFilters={processId:s},a.pageSizes=k,a.cases=void 0,a.loading=!0;var D=[];angular.isDefined(u)&&u&&D.push("state="+u),a.processManager=+!!t,a.supervisorId=t,a.archivedTabName=!!q,a.searchOptions={filters:[],searchSort:g+" DESC"},a.searchOptions.filters=angular.copy(D),a.currentUserId=null,a.sortOptions={property:g,direction:!0},C.reinitCases=function(){delete a.searchOptions.searchSort,a.pagination.currentPage=1,C.searchForCases()},a.$on("caselist:http-error",y),a.$on("caselist:notify",w),a.$on("caselist:search",B),C.loadContent=function(){a.$watch("selectedFilters",x,!0),a.$watch("searchOptions",function(){a.pagination.currentPage=1,a.selectedFilters.processId||C.searchForCases()},!0)},C.parseAndFormat=m.parseAndFormat,C.updateSortField=function(b){a.searchOptions.searchSort&&!b||(a.searchOptions.searchSort=(b&&b.property?b.property:g)+" "+(b&&!1===b.direction?"DESC":"ASC"),a.pagination.currentPage=1)},C.onDropComplete=function(b,c){if(a.columns&&a.columns&&c){var d=a.columns.indexOf(c);if(d!==b-1&&d>-1){var e;if(d>b){for(e=d-1;e>=b;e--)a.columns[e+1]=a.columns[e];a.columns[b]=c}else{for(e=d+1;e<b;e++)a.columns[e-1]=a.columns[e];a.columns[b-1]=c}}}},C.filterColumn=function(a){return a&&a.selected},C.changeItemPerPage=function(b){b&&(a.pagination.itemsPerPage=b,a.pagination.currentPage=1,C.searchForCases())},C.addAlertEventHandler=w,C.buildFilters=x,C.handleHttpErrorEvent=y,C.searchForCases=B,C.displayKeys=z}angular.module("org.bonitasoft.features.user.cases.list.table",["org.bonitasoft.common.resources","org.bonitasoft.common.table.resizable","org.bonitasoft.common.filters.stringTemplater","org.bonitasoft.services.topurl","org.bonitasoft.features.user.cases.list.values","org.bonitasoft.features.user.cases.list.filters","gettext","ui.bootstrap","ui.router","angular-growl","ngAnimate","org.bonitasoft.bonitable","org.bonitasoft.bonitable.selectable","org.bonitasoft.bonitable.repeatable","org.bonitasoft.bonitable.sortable","org.bonitasoft.bonitable.storable","org.bonitasoft.bonitable.settings","org.bonitasoft.templates","as.sortable","org.bonitasoft.common.filters.date.parser","org.bonitasoft.service.features"]).config(["growlProvider",function(a){a.globalPosition("top-center")}]).controller("ActiveCaseListUserCtrl",["$scope","sessionAPI","caseAPI","humanTaskAPI","casesUserColumns","defaultPageSize","defaultSort","defaultDeployedFields","defaultActiveCounterFields","$location","pageSizes","defaultUserFilters","dateParser","$anchorScroll","growl","moreUserDetailToken","tabName","manageTopUrl","processId","supervisorId","caseStateFilter","FeatureManager",a]).controller("ArchivedCaseListUserCtrl",["$scope","sessionAPI","archivedCaseAPI","humanTaskAPI","archivedCasesColumns","defaultPageSize","archivedDefaultSort","defaultDeployedFields","defaultArchivedCounterFields","$location","pageSizes","defaultUserFilters","dateParser","$anchorScroll","growl","archivedUserMoreDetailToken","tabName","manageTopUrl","processId","supervisorId","caseStateFilter","FeatureManager",a])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.cases.list",["ui.router","org.bonitasoft.features.user.cases.list.table","ui.bootstrap","gettext","org.bonitasoft.common.i18n","org.bonitasoft.services.topurl","org.bonitasoft.features.user.cases.list.values","org.bonitasoft.common.directives.bonitaHref"]).config(["$stateProvider",function(a){a.state("bonita.userCases",{url:"/user/cases/list?processId&caseStateFilter",templateUrl:"features/user/cases/list/cases.html",abstract:!0,controller:"CaseUserCtrl",controllerAs:"caseUserCtrl"}).state("bonita.userCases.active",{url:"",views:{"case-list":{templateUrl:"features/user/cases/list/cases-list.html",controller:"ActiveCaseListUserCtrl",controllerAs:"caseUserCtrl"}},resolve:{tabName:["activedTabName",function(a){return a}],supervisorId:["$stateParams",function(a){return a.supervisor_id}],processId:["$stateParams",function(a){return a.processId}],caseStateFilter:["$stateParams",function(a){return a.caseStateFilter}]}}).state("bonita.userCases.archived",{url:"/archived",views:{"case-list":{templateUrl:"features/user/cases/list/cases-list.html",controller:"ArchivedCaseListUserCtrl",controllerAs:"caseUserCtrl"}},resolve:{tabName:["archivedTabName",function(a){return a}],supervisorId:["$stateParams",function(a){return a.supervisor_id}],processId:["$stateParams",function(a){return a.processId}],caseStateFilter:["$stateParams",function(a){return a.caseStateFilter}]}})}]).controller("CaseUserCtrl",["$scope","$state","manageTopUrl","i18nService",function(a,b,c,d){a.state=b,a.currentToken=c.getCurrentPageToken(),a.casesStates=[],a.casesStates.push({state:"bonita.userCases.active",title:d.getKey("caselist.casesStates.active.title"),htmlAttributeId:"TabActiveCases"}),a.casesStates.push({state:"bonita.userCases.archived",title:d.getKey("caselist.casesStates.archived.title"),tabName:"archived",htmlAttributeId:"TabArchivedCases"})}])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.mappings",["org.bonitasoft.common.i18n","org.bonitasoft.common.resources.store"]).value("MAPPING_PROFILES",{USER:"USER",GROUP:"GROUP",ROLE:"ROLE",MEMBERSHIP:"MEMBERSHIP"}).value("MANAGER_FILTER",{USER:["user_id=>0","group_id=-1","role_id=-1"],GROUP:["user_id=-1","group_id=>0","role_id=-1"],ROLE:["user_id=-1","group_id=-1","role_id=>0"],MEMBERSHIP:["user_id=-1","group_id=>0","role_id=>0"]}).value("ACTOR_PROFILES",{users:{deploy:{filter:"member_type=USER",deploy:["user_id"]},type:"users",name:"USER"},groups:{deploy:{filter:"member_type=GROUP",deploy:["group_id"]},type:"groups",name:"GROUP"},roles:{deploy:{filter:"member_type=ROLE",deploy:["role_id"]},type:"roles",name:"ROLE"},memberships:{deploy:{filter:"member_type=MEMBERSHIP",deploy:["role_id","group_id"]},type:"memberships",name:"MEMBERSHIP"}}).value("userIdAttribute","user_id").value("groupIdAttribute","group_id").value("roleIdAttribute","role_id").service("MappingService",["i18nService","userIdAttribute","groupIdAttribute","roleIdAttribute","userAPI","groupAPI","roleAPI","MAPPING_PROFILES","store",function(a,b,c,d,e,f,g,h,i){var j={},k=function(a){var b=a[c]||a;return b=angular.copy(b,{}),b.listLabel=b.buttonLabel=b.displayName,b.contentToSearch=b.name+" "+b.displayName+" "+b.description,b};j.formatToSelectBox={USER:function(a){var c=a[b]||a;return c=angular.copy(c,{}),c.listLabel=c.buttonLabel=c.firstname+" "+c.lastname,c.contentToSearch=c.firstname+" "+c.lastname+" "+c.userName+" "+c.job_title,c},GROUP:k,ROLE:k,MEMBERSHIP:function(b){return a.getKey("processDetails.actors.memberships.item.label",{group:b[c].displayName,role:b[d].displayName})}};var l={USER:{deploy:[b],o:"firstname asc",actorId:b,searchAPI:e},GROUP:{deploy:[c],o:"displayName asc",actorId:c,searchAPI:f},ROLE:{deploy:[d],o:"displayName asc",actorId:d,searchAPI:g},MEMBERSHIP:{deploy:[d,c],o:"displayName asc",actorId:d,actorId2:c}};return j.getSearchMemberParams=function(a){return angular.copy(l[a])},j.loadMembers=function(a,b,c,d){return i.load(d,{f:b.filters,d:b.deploy}).then(function(d){return d.forEach(function(b){b.label=j.formatToSelectBox[a](b).listLabel}),a!==h.MEMBERSHIP&&d.forEach(function(a){c.push(a[b.actorId].id)}),d},angular.noop)},j.searchMembers=function(a,b,c){return b=b||{p:0,c:200},b.o=c.o,j.getSearchMemberParams(a).searchAPI.search(b).$promise.then(function(a){return a.data})},j}])}(),function(){"use strict";function a(a,b,c,d,e){function f(e){a.add(b.user.id,h.case.id,e).then(function(){return a.getHumanCommentsForCase(h.case)}).then(function(a){h.comments=a},function(){c.create({className:"danger",content:d.getString("Unable to add the comment. Refresh your task list and try again. If the problem persists, contact your administrator")})}).finally(function(){h.newComment=""})}function g(){return h.case&&!angular.isDefined(h.case.archivedDate)}var h=this;h.addComment=f,h.isCurrentCaseOpened=g,h.newComment="",e.$watch(function(){return h.case},function(b){h.newComment="",a.getHumanCommentsForCase(b).then(function(a){h.comments=a})},!0)}angular.module("org.bonitasoft.features.user.tasks.list.comments").controller("UserTaskListCommentsCtrl",a),a.$inject=["commentsService","taskListStore","ngToast","gettextCatalog","$scope"]}(),function(){"use strict";function a(){return{scope:!0,bindToController:{case:"="},templateUrl:"portalTemplates/user/tasks/list/comments/comments.html",controller:"UserTaskListCommentsCtrl",controllerAs:"vm"}}angular.module("org.bonitasoft.features.user.tasks.list.comments").directive("comments",a)}(),function(){"use strict";function a(a,b,c){function d(d){if(!d)return a.when([]);var g=b,h=d.id;return e(d)&&(g=c,h=d.rootCaseId),f(g,h)}function e(a){return angular.isDefined(a.archivedDate)}function f(a,b){return a.search({f:["processInstanceId="+b],c:2147483647,p:0,d:"userId",o:"postDate ASC"}).$promise.then(function(a){return(a.data||[]).filter(function(a){return"System"!==a.userId.userName})})}function g(a,c,d){return b.save({userId:a,processInstanceId:c,content:d}).$promise}return{getHumanCommentsForCase:d,add:g}}angular.module("org.bonitasoft.features.user.tasks.list.comments").service("commentsService",a),a.$inject=["$q","commentAPI","archivedCommentAPI"]}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.list.comments").directive("scrollBottom",["$timeout",function(a){return{scope:{scrollBottom:"="},link:function(b,c){b.$watch("scrollBottom.length",function(b){b&&a(function(){c.scrollTop(c[0].scrollHeight)},0)})}}}])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.ui.iframe.spy",[]).directive("formSpy",["$window","$timeout",function(a,b){return{scope:{spySubmit:"&"},restrict:"A",link:function(c){angular.element(a).on("message",function(a){b(function(){a.data?c.spySubmit({message:a.data}):a.originalEvent?c.spySubmit({message:a.originalEvent.data}):c.spySubmit({message:void 0})})})}}}])}(),function(){"use strict";function a(){return{templateUrl:"portalTemplates/user/tasks/list/common/directive/bonita-iframe-viewer.html",scope:{isEditable:"=",frameUrl:"="},replace:!0,link:function(a,b){var c=b.find("iframe")[0],d=!0;a.$watch("frameUrl",function(a){if(a){if(c.contentDocument.body&&c.contentDocument.body.children.length>0){var b=c.contentDocument.getElementById("main"),e=c.contentDocument.getElementById("loading");e&&(e.style.display=""),b&&(b.style.display="none")}var f=a;(d=!d)&&(f=a.replace(/^(.*\?)([^&]+)&([^&]+)(.*)$/,"$1$3&$2$4")),(c.contentWindow||c.contentDocument).location.replace(f)}})}}}angular.module("org.bonitasoft.features.user.tasks.ui.iframe",[]).directive("bonitaIframeViewer",a)}(),function(){"use strict";angular.module("ui.focus",[]).directive("inputFocus",["$timeout",function(a){return{priority:10,restrict:"A",link:function(b,c){a(function(){c[0].focus()},30,!1)}}}])}(),function(){"use strict";angular.module("common.filters",[]).filter("encodeURI",function(){return window.encodeURI})}(),function(){"use strict";angular.module("common.iframe",[]).service("iframe",["$location","$window",function(a,b){function c(){var a={},c=b.location.search;if(c&&c.length>0)for(var e,f=/([^&=]+)=?([^&]*)/g,g=c.substring(1);null!==(e=f.exec(g));)a[d(e[1])]=d(e[2]);return a}function d(a){return decodeURIComponent(a.replace(/\+/g," "))}function e(a){return encodeURIComponent(a).replace(new RegExp("%2F","g"),"/")}function f(a,b){return h(i,a,b)}function g(b,c){return h(a.search(),b,c)}function h(a,b,c){var d=a[c];return angular.isDefined(d)?b+c+"="+d:""}var i=c();this.getTaskForm=function(a,b,c,d){var h=this.getPortalUrl()+"/portal/resource/taskInstance/<process.name>/<process.version>/<task.name>/content/?id=<task.id><tenantQueryString><localeQueryString><appQueryString>",i=[["<process.name>",e(a.name)],["<process.version>",e(a.version)],["<task.name>",e(b.name)],["<task.id>",b.id],["<user.id>",c],["<tenantQueryString>",g("&","tenant")],["<localeQueryString>",g("&","locale")],["<appQueryString>",f("&","app")]],j=i.reduce(function(a,b){return a.replace(b[0],b[1])},h);return!1===d&&(j+="&displayConfirmation=false"),j},this.getCaseVisu=function(a,b){var c=this.getPortalUrl()+"/portal.js/<tenantQueryString><localeQueryString>#/admin/monitoring/<process.id>-<case.id>?diagramOnly=1";return[["<tenantQueryString>",g("?","tenant")],["<localeQueryString>",g("&","locale")],["<process.id>",b.id],["<case.id>",a.id]].reduce(function(a,b){return a.replace(b[0],b[1])},c)},this.getCaseOverview=function(a,b){var c=this.getPortalUrl()+"/portal/resource/processInstance/<process.name>/<process.version>/content/?id=<case.id><tenantQueryString><localeQueryString><appQueryString>";return[["<process.name>",e(b.name)],["<process.version>",e(b.version)],["<case.id>",a.sourceObjectId||a.id],["<tenantQueryString>",g("&","tenant")],["<localeQueryString>",g("&","locale")],["<appQueryString>",f("&","app")]].reduce(function(a,b){return a.replace(b[0],b[1])},c)},this.getPortalUrl=function(){var a=b.location.href,c=a.indexOf("/portal");return a.substring(0,c)}}])}(),function(){"use strict";angular.module("keymaster",[]).service("key",function(){return window.key.filter=function(a){var b=(a.target||a.srcElement).tagName;return!("INPUT"===b&&"checkbox"!==a.target.getAttribute("type")||"SELECT"===b||"TEXTAREA"===b)},window.key})}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.app.pref",["ngStorage","org.bonitasoft.features.user.tasks.app.config"]).service("preference",["$localStorage","DEFAULT_DETAILS","COLUMNS_SETTINGS",function(a,b,c){function d(a){if(!f.hasOwnProperty(a))throw new Error("preference key not found")}var e="bonita-user-task-list",f=angular.extend({showDetails:b,showFilters:!0,lastTab:""},c);a[e]=angular.merge(f,a[e]||{}),this.getMode=function(a,b){return b?"min":a?"mid":"max"},this.get=function(b){return d.call(this,b),a[e][b]},this.set=function(b,c){d.call(this,b),a[e][b]=c}}])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.app.priorities",["gettext"]).service("priorities",["gettextCatalog",function(a){var b={highest:a.getString("Highest"),above_normal:a.getString("Above normal"),normal:a.getString("Normal"),under_normal:a.getString("Under normal"),lowest:a.getString("Lowest")};this.get=function(a){return b[a]||a}}])}(),function(){"use strict";angular.module("common.screen",[]).service("screen",["$document","$window","$rootScope","$timeout",function(a,b,c,d){var e,f=10,g=a[0];this.size=!1,this.breakpoints=[{name:"xs",size:[0,767]},{name:"sm",size:[768,991]},{name:"md",size:[992,1199]},{name:"lg",size:[1200,Number.POSITIVE_INFINITY]}],this.on=function(a){c.$on("responsive:update",a)},this.off=function(a){c.$off("responsive:update",a)},this.getWidth=function(){return g.body&&g.body.offsetWidth},this.update=function(){var a=this.getWidth(),b=this.breakpoints.filter(function(b){return a>b.size[0]&&a<b.size[1]});1===b.length&&b[0].name!==this.size.name&&(this.size=b[0],d(function(){c.$broadcast("responsive:update")}))},this.onResize=function(){e&&d.cancel(e),e=d(this.update.bind(this),f,!1)},b.addEventListener("resize",this.update.bind(this)),this.update()}])}(),function(){"use strict";angular.module("common.security",[]).factory("securityInterceptor",["$injector","$location","$log","$q","$rootScope",function(a,b,c,d,e){return{responseError:function(a){return 401===a.status&&(e.error=a,c.warn("securityInterceptor reject and close session",a)),d.reject(a)}}}]).config(["$httpProvider",function(a){a.interceptors.push("securityInterceptor")}])}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.app.store",["api.request","org.bonitasoft.features.user.tasks.app.config","gettext"]).service("taskListStore",["archivedFlowNodeAPI","caseAPI","archivedCaseAPI","commentAPI","processAPI","$q","TASK_FILTERS","taskRequest","gettextCatalog",function(a,b,c,d,e,f,g,h,i){function j(a,b){return{c:0,p:0,f:b.map(function(b){return b.replace(/%userId/,a)})}}function k(a,b){var c=g[b],d=j(a,c.filters);return c.resource.search(d).$promise.then(function(a){l.count[b]=a.resource.pagination.total})}var l=this;this.processes=[],this.tasks=[],this.user=null,this.currentCase=null,this.currentTask=null,this.count=Object.keys(g).reduce(function(a,b){return a[b]=0,a},{}),this.request=h,this.getProcessList=function(){var a={c:2147483646,p:0,f:["user_id="+this.user.user_id,"forPendingOrAssignedTask=true"]};return e.search(a).$promise.then(function(a){l.processes=[{displayName:i.getString("All"),id:!1}].concat(a.resource),l.request.process=l.request.process||l.processes[0]})},this.getTasks=function(){var a=this.request.getRequest();a.params.f=a.params.f.map(function(a){return a.replace(/%userId/,l.user.user_id)});var b=this.tasks.indexOf(this.currentTask);return a.resource.search(a.params).$promise.then(function(a){l.tasks=a.resource,h.pagination=a.resource.pagination,l.tasks.length>0&&(b=Math.max(0,Math.min(b,l.tasks.length-1)),l.currentTask=l.tasks[b])})},this.getCaseInfo=function(a){if(!a)throw new Error("Missing parameter when requesting getCaseInfo caseId");return b.get({id:a,d:["started_by","processDefinitionId"]}).$promise.then(function(a){l.currentCase=a},function(b){if(404===b.status)return c.search({p:0,c:1,f:["sourceObjectId="+a],d:["started_by","processDefinitionId"]}).$promise.then(function(a){a.resource.pagination.total>0&&(l.currentCase=a.resource[0])})})},this.countAll=function(){var a=k.bind(null,l.user.user_id),b=["TODO","MY_TASK"].map(a);return f.all(b)}}])}(),function(){"use strict";angular.module("api.request",["org.bonitasoft.features.user.tasks.app.config"]).constant("PAGE_SIZES",[25,50]).constant("DEFAULT_PAGE_SIZE",50).service("taskRequest",["TASK_FILTERS","DEFAULT_PAGE_SIZE",function(a,b){this.process=null,this.caseId=null,this.taskFilter=a.TODO,this.searchOption={d:["rootContainerId"]},this.search="",this.pagination={numberPerPage:b},this.getRequest=function(){var b=angular.extend({},this.searchOption);this.search&&(b.s=this.search||"");var c=this.taskFilter.sortOption.property;return"reachedStateDate"===c&&this.taskFilter===a.DONE&&(c="reached_state_date"),b.c=this.pagination.numberPerPage,b.p=this.pagination.currentPage-1||0,b.o=c+" "+(this.taskFilter.sortOption.direction?"DESC":"ASC"),b.f=this.taskFilter.filters.slice(),this.caseId&&(this.taskFilter===a.DONE?b.f.push("rootCaseId="+this.caseId):b.f.push("caseId="+this.caseId)),this.process&&this.process.id&&this.taskFilter!==a.DONE&&b.f.push("processId="+this.process.id),{resource:this.taskFilter.resource,params:b}}}])}(),function(){"use strict";function a(a,b,c,d,e){function f(b){var f;return f=b.assigned_id===a.user.user_id?"":a.user.user_id,c.update({id:b.id,assigned_id:f}).$promise.then(function(a){b.assigned_id=a.assigned_id}).catch(function(a){403!==a.status&&404!==a.status||d.create({className:"warning",content:e.getString("This task is not available anymore. The list is now up to date.")})})}return{takeReleaseTask:f}}angular.module("org.bonitasoft.features.user.tasks.details").service("taskDetailsHelper",a),a.$inject=["taskListStore","preference","humanTaskAPI","ngToast","gettextCatalog"]}(),function(){"use strict";function a(a,b,c){this.currentTask=b.currentTask,this.updateCount=c,this.cancel=function(){a.dismiss("abort")}}angular.module("org.bonitasoft.features.user.tasks.details").controller("TaskDetailsPopupCtrl",a),a.$inject=["$modalInstance","taskListStore","updateCount"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a,b){return b===a||!a||b&&(b.id!==a.id||a.archivedDate)}function i(){f.search({p:0,c:1,f:["processDefinitionId="+a.currentCase.processDefinitionId.id,"type=PROCESS_OVERVIEW"]}).$promise.then(function(c){a.hasOverview=k(c),a.hasOverview&&(a.overviewUrl=b.getCaseOverview(a.currentCase,a.currentCase.processDefinitionId))}).catch(function(){a.hasOverview=!1})}function j(){f.search({p:0,c:1,f:["processDefinitionId="+a.currentTask.processId,"task="+a.currentTask.name,"type=TASK"]}).$promise.then(function(d){if(a.hasForm=k(d),a.hasForm&&!o())return e.get({id:a.currentTask.processId}).$promise.then(function(d){a.formUrl=b.getTaskForm(d,a.currentTask,c.user.user_id,!1)})}).catch(function(){a.hasForm=!1}).finally(function(){a.loading=!1})}function k(a){return!(a.resource.pagination.total>0&&"NONE"===a.resource[0].target)}function l(){return c.currentTask&&c.currentTask.assigned_id===c.user.user_id}function m(){return c.request.taskFilter!==g.DONE}function n(){return 0===c.tasks.length}function o(){return c.request.taskFilter===g.DONE}function p(b){a.tab[b].active=!0,a.tab[b].loaded=!0}function q(){Object.keys(a.tab).forEach(function(b){a.tab[b]={loaded:!1,active:!1}})}a.isAssignable=m,a.isEditable=l,a.isInactive=n,a.hideForm=o,a.selectTab=p,a.tab={form:void 0,comments:void 0,context:void 0},q(),p("form"),a.hasOverview=!1,a.hasForm=!1,a.$watch(function(){return c.currentCase},function(b){a.currentCase=b,b&&i()}),a.$watch("currentTask",function(b,c){a.loading=!0,b&&(o()||("USER_TASK"===a.currentTask.type?h(c,b)?j():a.loading=!1:(a.hasForm=!1,a.loading=!1)),q(),p("form"))}),a.onTakeReleaseTask=function(){d.takeReleaseTask(a.currentTask).finally(function(){a.refresh()})}}angular.module("org.bonitasoft.features.user.tasks.details").controller("TaskDetailsCtrl",a),a.$inject=["$scope","iframe","taskListStore","taskDetailsHelper","processAPI","formMappingAPI","TASK_FILTERS"]}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"portalTemplates/user/tasks/list/details/task-details.html",controller:"TaskDetailsCtrl",replace:!1,scope:{currentTask:"=",refresh:"&",openDetailsPopup:"&"},link:function(a,b,c){a.showToolbar=angular.isDefined(c.openDetailsPopup)}}}angular.module("org.bonitasoft.features.user.tasks.details").directive("taskDetails",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g){return{restrict:"AE",templateUrl:"portalTemplates/user/tasks/list/details/task-no-form.html",replace:!1,scope:{currentTask:"=",editable:"=",inactive:"="},link:function(h){h.inactive=h.inactive||!1;var i=function(){var b={message:"success",action:"Submit task"};a.self.postMessage(JSON.stringify(b),"*")},j=function(){var b={message:"error",action:"Submit task"};a.self.postMessage(JSON.stringify(b),"*")},k=function(){h.currentTask.comment&&e.save({userId:b.user.user_id,processInstanceId:h.currentTask.parentCaseId,content:h.currentTask.comment},function(){},function(){f.create({class:"warning",content:g.getString("The task has been submitted but an error occurred while adding the comment")})})};h.onExecuteTask=function(){k(),"MANUAL_TASK"===h.currentTask.type?d.update({id:h.currentTask.id,state:"completed",executedBy:b.user.user_id},i,j):c.execute(h.currentTask.id,{}).then(i,j)}}}}angular.module("org.bonitasoft.features.user.tasks.details").directive("noForm",a),a.$inject=["$window","taskListStore","userTaskAPI","humanTaskAPI","commentAPI","ngToast","gettextCatalog"]}(),function(){"use strict";function a(){return{restrict:"AE",templateUrl:"portalTemplates/user/tasks/list/filters/task-filters.html",replace:!0,scope:{taskStatus:"=filter",TASK_FILTERS:"=filters",count:"=",filterChange:"&"},link:function(a){a.setStatusTaskFilter=function(b){a.filterChange({filter:b})}}}}angular.module("org.bonitasoft.features.user.tasks.filters").directive("taskFilters",a)}(),function(){"use strict";function a(a,b,c,d){function e(a,b){b.selected=a}function f(b){return b.assigned_id===a.user.user_id}function g(b){return b.assigned_id!==a.user.user_id}function h(){return a.request.taskFilter!==b.DONE}function i(c){if(!c)return 0;var d=c.reduce(function(a,b){return a+(b.visible?1:0)},0);return"mid"!==a.mode&&(d+=1),a.request.taskFilter!==b.DONE&&(d+=1),d+1}function j(b){return b&&a.canDoGroupAction()&&b.some(g)}function k(b){return b&&a.canDoGroupAction()&&b.some(f)}function l(){return b.TODO!==a.request.taskFilter}function m(){var b=a.request.pagination,c=Math.min(b.total,b.numberPerPage);return(b.currentPage-1)*c+1+" - "+Math.min(b.currentPage*c,b.total)+" / "+b.total}function n(a){return a.dueDate&&c(a.dueDate).isBefore(c())}function o(a){var b=c(a.dueDate).format("LLL");return n(a)?d.getString("This task is overdue. It was supposed to be completed by {{dueDate}}",{dueDate:b}):b}function p(){return 0===a.counters.TODO&&a.filter!==b.DONE&&!s()}function q(){return a.counters.TODO>0&&0===a.counters.MY_TASK&&a.filter!==b.DONE&&!s()}function r(){return 0===a.counters.DONE&&a.filter===b.DONE&&!s()}function s(){return!!a.request.search}function t(c){a.request.taskFilter===b.DONE&&"dueDate"===c.property||(a.request.taskFilter.sortOption.property=c.property,a.request.taskFilter.sortOption.direction=c.direction,a.refresh())}a.sortOption=angular.copy(a.request.taskFilter.sortOption),a.TASK_FILTERS=b,a.canDoGroupAction=h,a.colspan=i,a.canTake=j,a.canRelease=k,a.disableProcessFilter=l,a.getPaginationStatus=m,a.isOverdue=n,a.getDueDateTitle=o,a.isNoTaskAvailableMessageVisible=p,a.isNoMyTaskMessageVisible=q,a.isNoDoneTaskMessageVisible=r,a.isNoTaskFoundVisible=s,a.sort=t,this.checkTask=e,this.isAssigned=f,this.isUnAssigned=g}angular.module("org.bonitasoft.features.user.tasks.list.table").controller("TaskTableCtrl",a),a.$inject=["$scope","TASK_FILTERS","moment","gettextCatalog"]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l){return{controller:"TaskTableCtrl",restrict:"AE",templateUrl:"portalTemplates/user/tasks/list/table/task-table.html",scope:{tasks:"=",currentTask:"=",request:"=",user:"=",mode:"=",pageSizes:"=",refresh:"&",selectTask:"&",doTask:"&",counters:"=",filter:"="},link:function(m,n,o,p){function q(b,d){if(b){var e=b.map(function(a){return c.update({id:a.id,assigned_id:d}).$promise});a.all(e).then(function(){m.tasks.forEach(function(a){return p.checkTask(!1,a)})}).catch(function(a){403!==a.status&&404!==a.status||j.create({className:"warning",content:k.getString("One or more tasks are not available anymore. The list is now up to date.")})}).finally(function(){m.refresh()})}}var r=-1;m.getPriority=i.get,m.TASK_FILTERS=l,m.changeFilter=function(a){m.filter=a},m.$watch("mode",function(a){m.columnSettings=d.get(a)||h.mid}),m.pageSizeHandler=function(a){m.request.pagination.numberPerPage=a,m.refresh()},m.onClickTask=function(a){m.selectTask({task:a}),"max"===m.mode&&m.doTask({task:a})},m.visibilityHandler=function(a,b){var c=b.map(function(a){return a.visible});d.set(m.mode,c)},m.takeTasks=function(a){return q(a.filter(p.isUnAssigned),m.user.user_id)},m.releaseTasks=function(a){return q(a.filter(p.isAssigned),"")},m.goToDetail=function(a){e.hash(a),f()},m.showTaskButtons=function(a){a.btnVisible=!0},m.hideTaskButtons=function(a){a.btnVisible=!1},m.onCheckBoxChange=function(a,c){a.stopPropagation(),g(function(){if(b.shift&&-1!==r){var d=a.target.checked;r>c&&(r+=1);var e=n[0].querySelectorAll("tbody input[type=checkbox]");[].slice.call(e,Math.min(r,c),Math.max(r,c)).filter(function(a){return a.checked!==d}).forEach(function(a){a.click()})}r=c})}}}}angular.module("org.bonitasoft.features.user.tasks.list.table").directive("taskTable",a),a.$inject=["$q","key","humanTaskAPI","preference","$location","$anchorScroll","$timeout","COLUMNS_SETTINGS","priorities","ngToast","gettextCatalog","TASK_FILTERS"]}(),function(){"use strict";function a(a){a.when("/user/tasks/list",["$state",function(a){a.go("bonita.userTasks")}])}angular.module("org.bonitasoft.features.user.tasks.list").config(a),a.$inject=["$urlRouterProvider"]}(),function(){"use strict";function a(a){a.state("bonita.userTasks",{templateUrl:"portalTemplates/user/tasks/list/tasks-list.html"})}angular.module("org.bonitasoft.features.user.tasks.list").config(a),a.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.app.config",["org.bonitasoft.common.resources"]).service("TASK_FILTERS",["humanTaskAPI","archivedHumanTaskAPI",function(a,b){var c={property:"displayName",direction:!1};return{TODO:{id:"todo",title:"To do",resource:a,filters:["state=ready","user_id=%userId"],sortOption:c},MY_TASK:{id:"myTasks",title:"My tasks",resource:a,filters:["state=ready","assigned_id=%userId"],sortOption:c},DONE:{id:"done",title:"Done tasks",resource:b,filters:["assigned_id=%userId","state=completed"],sortOption:{property:"displayName",direction:!1}}}}]).constant("DEFAULT_DETAILS",!0).constant("COLUMNS_SETTINGS",{min:[!1,!0,!1,!0,!1,!1,!1,!0,!1],mid:[!1,!0,!1,!1,!0,!1,!1,!0,!1],max:[!0,!0,!1,!0,!0,!0,!1,!0,!1]})}(),function(){"use strict";angular.module("org.bonitasoft.features.user.tasks.app",["org.bonitasoft.features.user.tasks.app.store","org.bonitasoft.features.user.tasks.app.pref","org.bonitasoft.features.user.tasks.app.config","api.request","org.bonitasoft.features.user.tasks.ui.iframe.spy","common.screen","common.iframe","org.bonitasoft.common.resources","ui.bootstrap.modal","ui.bootstrap.buttons","ui.bootstrap.dropdown","ngToast","gettext"]).config(["ngToastProvider",function(a){a.configure({horizontalPosition:"center"})}]).controller("TaskAppCtrl",["$modal","$modalStack","$q","taskListStore","sessionAPI","screen","iframe","preference","ngToast","TASK_FILTERS","PAGE_SIZES","$timeout","gettextCatalog","$location",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=this,p=d;this.tasks=p.tasks,this.request=p.request,this.TASK_FILTERS=j,this.PAGE_SIZES=k,this.search=n.search(),Object.defineProperty(this,"filter",{get:function(){return p.request.taskFilter},set:function(a){p.request.taskFilter=a,this.updateAll()}}),this.count=p.count,this.showDetails=!0===h.get("showDetails"),this.smallScreen="sm"===f.size.name,this.showMenu=h.get("showFilters"),this.expandDetails=!1,this.getMode=h.getMode,this.loadingTasks=!1,this.init=function(){p.user=e.get({id:"unusedId"}),p.user.$promise.then(function(){this.user=p.user,this.search&&!isNaN(Number(this.search.case))&&(this.setCase(Number(this.search.case)),p&&p.request&&(p.request.process=null,p.request.search=null)),this.search&&angular.isString(this.search.filter)&&this.setFilter(j[this.search.filter.toUpperCase()]),this.refresh(),this.updateProcessList()}.bind(this))},this.refresh=function(){this.updateTasks(),this.updateCount()},this.searchTask=function(){this.resetPagination(),this.updateTasks()},this.resetPagination=function(){p.request.pagination.currentPage=1},this.setCase=function(a){p.request.caseId=a},this.setProcess=function(a){p.request.process=a,this.resetPagination(),this.refresh()},this.selectTask=function(a){p.currentTask=a,this.currentTask=a,p.getCaseInfo(a.caseId).then(function(){this.currentCase=p.currentCase}.bind(this))},this.updateTasks=function(){this.loadingTasks=!0;var a=p.getTasks().then(function(){p.request.case&&n.search("case",p.request.case),p.request.taskFilter&&n.search("filter",p.request.taskFilter.id)}).then(function(){this.tasks=p.tasks,this.currentTask=p.currentTask}.bind(this));return a.then(function(){return p.currentTask?p.getCaseInfo(p.currentTask.caseId):null}).finally(function(){p.currentCase&&(this.currentCase=p.currentCase),this.loadingTasks=!1}.bind(this)),a},this.updateCount=function(){p.countAll().then(function(){this.count=p.count}.bind(this))},this.updateAll=function(){var a=p.request.process;this.updateProcessList(),p.request.process=a,this.refresh()},this.setFilter=function(a){this.expandDetails=!1,p.request.taskFilter=a},this.updateProcessList=function(){p.getProcessList().then(function(){this.processes=p.processes}.bind(this))},this.onScreenChange=function(){this.smallScreen="sm"===f.size.name||"xs"===f.size.name},f.on(this.onScreenChange.bind(this)),this.updateLayout=function(a){h.set("showDetails",a)},this.showTaskDetailsPopup=function(){this.modaleInstance=a.open({templateUrl:"portalTemplates/user/tasks/list/details/task-details-modal.html",controller:"TaskDetailsPopupCtrl",controllerAs:"modal",windowClass:"TaskDetailsModal",backdropClass:"TaskDetailsModal-backdrop",animation:!1,resolve:{updateCount:function(){return o.updateCount}}}),this.modaleInstance.result.then(function(){},function(){}.bind(this))},this.changeFilter=function(a){this.setFilter(a),this.resetPagination(),this.updateAll()},this.toggleFilters=function(){this.showMenu=!this.showMenu,h.set("showFilters",this.showMenu)},this.toggleDetails=function(){this.showDetails=!this.showDetails,h.set("showDetails",this.showDetails)},this.onFormSubmited=function(a){var b="string"==typeof a?JSON.parse(a):a;"Submit task"===b.action&&("error"===b.message?this.handleFormSubmissionError(b):"success"===b.message&&this.handleFormSubmissionSuccess())},this.handleFormSubmissionError=function(a){"fileTooBigError"===a.dataFromError||413===a.status?i.create({className:"danger",content:m.getString("The attachment is too big.<br/>Select a smaller attachment and submit the form again.")}):404===a.status?(i.create({className:"danger",content:m.getString("An error occurred while submitting the form.<br/>The task may not be available anymore.")}),this.refresh()):i.create({className:"danger",content:m.getString("An error occurred while submitting the form.")})},this.handleFormSubmissionSuccess=function(){b.dismissAll(),i.create(m.getString("Form submitted.<br/>The next task in the list is now selected.")),this.refresh()}}]).directive("taskApp",function(){return{controller:"TaskAppCtrl",controllerAs:"app",restrict:"A",link:function(a,b,c,d){d.init()}}})}(),function(){"use strict";angular.module("org.bonitasoft.features.user",["org.bonitasoft.features.user.cases","org.bonitasoft.features.user.tasks","org.bonitasoft.common.utils.filters"])}(),function(){"use strict";angular.module("org.bonitasoft.portal",["ngCookies","gettext","ui.router","angular-growl","org.bonitasoft.service.features","org.bonitasoft.common.i18n","org.bonitasoft.common.resources","org.bonitasoft.features.admin","org.bonitasoft.features.user"])}(),function(){"use strict";window.console||(window.console={log:angular.noop,error:angular.noop,debug:angular.noop,warn:angular.noop}),window.console.debug||(window.console.debug=window.console.log),window.navigator.userAgent.indexOf("IE")>-1&&(document.body.className+=" isBrowser-ie"),angular.module("org.bonitasoft.portal").provider("bonita",function(){this.stateResolve={translations:["i18nService",function(a){return a.translationsLoadPromise}]},this.$get=function(){return this.stateResolve}}).run(["$rootScope","$modalStack",function(a,b){a.$on("$locationChangeStart",function(){b.dismissAll()})}]).config(["$httpProvider",function(a){a.defaults.xsrfHeaderName=a.defaults.xsrfCookieName="X-Bonita-API-Token"}]).config(["growlProvider",function(a){a.globalTimeToLive(3e3),a.globalDisableCountDown(!0),a.globalDisableIcons(!0)}]).config(["$stateProvider","bonitaProvider",function(a,b){a.state("bonita",{template:"<ui-view/>",resolve:b.stateResolve})}])}(),angular.module("org.bonitasoft.portalTemplates",["portalTemplates/admin/applications/applications-list.html","portalTemplates/admin/applications/delete-application.html","portalTemplates/admin/applications/details/application-details-app.html","portalTemplates/admin/applications/details/application-details.html","portalTemplates/admin/applications/details/menubuilder-actionBar.html","portalTemplates/admin/applications/details/menubuilder-addCustomMenuModal.html","portalTemplates/admin/applications/details/menubuilder-menuCreator.html","portalTemplates/admin/applications/details/menubuilder-menuList.html","portalTemplates/admin/applications/details/page-list-addPageModal.html","portalTemplates/admin/applications/details/page-list.html","portalTemplates/admin/applications/details/popverunsafe.html","portalTemplates/admin/applications/edit-application-look-n-feel.html","portalTemplates/admin/applications/edit-application.html","portalTemplates/admin/applications/export-application.html","portalTemplates/admin/applications/import-application.html","portalTemplates/admin/bdm/add-bdm-popup.html","portalTemplates/admin/bdm/bdm.html","portalTemplates/admin/cases/list/archived-cases-list-filters.html","portalTemplates/admin/cases/list/cases-list-deletion-modal.html","portalTemplates/admin/cases/list/cases-list-filters.html","portalTemplates/admin/cases/list/cases-list.html","portalTemplates/admin/cases/list/cases.html","portalTemplates/admin/mapping/actors.html","portalTemplates/admin/organisation/users/details/business-card/index.html","portalTemplates/admin/organisation/users/details/card.html","portalTemplates/admin/organisation/users/details/custom-information/index.html","portalTemplates/admin/organisation/users/details/general/avatar-upload.html","portalTemplates/admin/organisation/users/details/general/index.html","portalTemplates/admin/organisation/users/details/general/manager-field.html","portalTemplates/admin/organisation/users/details/index.html","portalTemplates/admin/organisation/users/details/password/index.html","portalTemplates/admin/organisation/users/details/password/password.html","portalTemplates/admin/organisation/users/details/personal-information/index.html","portalTemplates/admin/organisation/users/details/profiles/add-membership-popup.html","portalTemplates/admin/organisation/users/details/profiles/delete-membership-popup.html","portalTemplates/admin/organisation/users/details/profiles/index.html","portalTemplates/admin/processes/details/actors-mapping.html","portalTemplates/admin/processes/details/delete-process-modal.html","portalTemplates/admin/processes/details/edit-actor-members.html","portalTemplates/admin/processes/details/information.html","portalTemplates/admin/processes/details/manage-category-mapping-modal.html","portalTemplates/admin/processes/details/menu.html","portalTemplates/admin/processes/details/params.html","portalTemplates/admin/processes/details/process-connectors.html","portalTemplates/user/cases/list/archived-cases-list-filters.html","portalTemplates/user/cases/list/cases-list-filters.html","portalTemplates/user/cases/list/cases-list.html","portalTemplates/user/cases/list/cases.html","portalTemplates/user/tasks/list/comments/comments.html","portalTemplates/user/tasks/list/common/directive/bonita-iframe-viewer.html","portalTemplates/user/tasks/list/details/task-details-modal.html","portalTemplates/user/tasks/list/details/task-details.html","portalTemplates/user/tasks/list/details/task-no-form.html","portalTemplates/user/tasks/list/filters/task-filters.html","portalTemplates/user/tasks/list/table/task-table.html","portalTemplates/user/tasks/list/tasks-list.html"]),angular.module("portalTemplates/admin/applications/applications-list.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/applications-list.html",'<div class="container" id="content">\n\n  <h1>{{\'Application list\' | translate}}</h1>\n\n  <p>\n    <button id="create-application" class="btn btn-primary" ng-click="applicationsListCtrl.create(\'lg\')" title="{{\'Create an application\' | translate}}">{{ \'New\' | translate}}</button>\n    <button id="import-application" class="btn btn-primary" ng-click="applicationsListCtrl.importApp(\'lg\')" title="{{ \'Import an application\' | translate }}">{{ \'Import\' | translate}}</button>\n  </p>\n\n  <section ng-if="noData">\n    <p class="text-muted" id="no-data-header">{{ \'No application available.\' | translate}}</p>\n    <p id="no-data-message">\n      {{\'To create an application, click New or Import.\' | translate}}\n      <br>\n      {{\'An application is a customized environment for a specific user profile, in which users interact with business data and business processes in the most efficient way.\' | translate}}\n    </p>\n  </section>\n\n  <table ng-if="!noData" class="table resizable app-container-list" bonitable sort-options="sortableOptions" bo-storable="applications-list">\n    <thead>\n      <tr>\n        <th bo-sorter="displayName" id="application-display-name" class="table-column-large" title="{{\'Sort by name\' | translate }}" bo-sorter-title-desc="{{\'Sort by name\' | translate }} Desc" bo-sorter-title-asc="{{\'Sort by name\' | translate }} Asc">{{ \'Name\' | translate }}</th>\n        <th bo-sorter="version" id="application-version" class="table-column-xs" title="{{\'Sort by version\' | translate }}" bo-sorter-title-desc="{{\'Sort by version\' | translate }} Desc" bo-sorter-title-asc="{{\'Sort by version\' | translate }} Asc">{{\'Version\' | translate}}</th>\n        <th bo-sorter="token" id="application-path" title="{{\'Sort by URL\' | translate }}" bo-sorter-title-desc="{{\'Sort by URL\' | translate }} Desc" bo-sorter-title-asc="{{\'Sort by URL\' | translate }} Asc">{{\'URL\' | translate}}</th>\n        <th id="application-profile" class="table-column-xs">{{\'Profile\' | translate}}</th>\n        <th bo-sorter="lastUpdateDate" id="application-last-update-date" class="table-column-xs" title="{{\'Sort by updated on\' | translate }}" bo-sorter-title-desc="{{\'Sort by updated on\' | translate }} Desc" bo-sorter-title-asc="{{\'Sort by updated on\' | translate }} Asc">{{\'Updated on\' | translate}}</th>\n        <th data-noresize class="table-column-xs table-header-actions">{{\'Actions\' | translate}}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class="table-row table-row-{{$index}}" ng-repeat="application in applications | orderBy: sortableOptions.property : sortableOptions.direction track by $index">\n        <td class="application-display-name" title="{{application.displayName }}">{{application.displayName }}</td>\n        <td class="application-version" title="{{application.version }}">{{application.version }}</td>\n        <td class="application-path">\n          <a target="_blank" title="../apps/{{ application.token }}" ng-href="../apps/{{ application.token }}" ng-disabled="!application.profileId.name"> ../apps/{{application.token}}</a>\n        </td>\n        <td ng-if="application.profileId.name" class="application-profile" title="{{application.profileId.name }}">{{application.profileId.name }}</td>\n        <td ng-if="!application.profileId.name" class="application-profile"><span tooltip="{{\'No profile mapped to this application\' | translate }}" class="glyphicon glyphicon-warning-sign text-warning"></span></td>\n        <td class="application-last-update-date" aria-label="{{ application.lastUpdateDate | dateI18n:\'YYYY-MM-DD HH:mm:ss\'}}">\n          <span class="clickable" popover="{{applicationsListCtrl.loadTemplatePopover(application)}}" popover-trigger="mouseenter">{{application.lastUpdateDate | dateAgo }}</span>\n        </td>\n        <td class="application-actions">\n          <div class="btn-group">\n            <button bonita-href="{ \'token\': \'applicationslistingadmin\', \'_id\': application.id }" class="glyphicon glyphicon-option-horizontal btn-action-edit" title="{{\'Edit\' | translate}}" aria-label="{{\'Edit\' | translate}}"></button>\n            <button class="glyphicon glyphicon-export btn-action-export" title="{{\'Export\' | translate}}" aria-label="{{\'Export\' | translate}}" ng-click="applicationsListCtrl.exportApplication(application, \'sm\')"></button>\n          </div>\n          <button class="glyphicon glyphicon-trash btn-action-delete" aria-label="{{\'Delete\' | translate}}" title="{{\'Delete\' | translate}}" ng-click="applicationsListCtrl.deleteApplication(application, \'sm\')"></button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/delete-application.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/delete-application.html",'<div class="modal-header">\n    <h3 class="modal-title">{{\'Delete application\' | translate}}</h3>\n</div>\n<div class="modal-body">\n    <p>{{ \'The application\' | translate }} <i>{{application.displayName||application.name}}</i> {{\'will be permanently deleted.\' | translate}}</p>\n</div>\n\n<div class="modal-footer">\n    <div class="form-group has-feedback">\n        <div>\n            <button id="confirm" type="submit" class="btn btn-primary" ng-click="confirmDelete(applicationId)" >{{\'Delete\' | translate}}</button>\n            <button id="cancel" type="submit" class="btn btn-default" ng-click="cancel()">{{\'Cancel\' | translate}}</button>\n        </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/details/application-details-app.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/application-details-app.html","<div class=\"popover-item-content\">\n\n  <dl class=\"popover-item-def\">\n    <dt>{{'Creation' | translate}}</dt>\n    <dd>{{createdBy.firstname | ucfirst }} {{createdBy.lastname | ucfirst}} - {{creationDate | dateI18n:'YYYY-MM-DD HH:mm' }}</dd>\n\n  </dl>\n\n  <dl class=\"popover-item-def\">\n   <dt>{{'Update' | translate}}</dt>\n   <dd>{{updatedBy.firstname | ucfirst }} {{updatedBy.lastname | ucfirst }} - {{lastUpdateDate | dateI18n:'YYYY-MM-DD HH:mm' }}</dd>\n  </dl>\n</div>\n")}]),angular.module("portalTemplates/admin/applications/details/application-details.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/application-details.html",'<div id="app-details-container" class="container">\n  <div class="btn-toolbar actions">\n    <div class="col-md-2"><back-button></back-button></div>\n    <div class="col-md-10 text-right"><button id="app-edit-btn" class="btn btn-primary" ng-click="applicationDetailsCtrl.update(\'lg\', app )" aria-label="{{\'Edit\' | translate}}">{{\'Edit\' | translate}}</button></div>\n  </div>\n  <div id="app-edit-section" class="app-details-container col-md-12">\n    <h1 id="app-details-title">{{app.displayName}} ({{app.version}})</h1>\n    <div class="panel panel-default">\n      <div class="panel-body">\n        <p id="app-details-description" class="type-info">{{app.description }}</p>\n        <div class="row">\n          <div class="col-md-4">\n            <dl class="dl-horizontal app-details-col">\n              <dt id="app-path-label">{{\'URL\' | translate}}</dt>\n              <dd id="app-path-value"><a target="_blank" title="../apps/{{ app.token }}" ng-href="../apps/{{app.token }}">../apps/{{app.token }}</a></dd>\n              <dt id="app-profile-label">{{\'Profile\' | translate}}</dt>\n              <dd id="app-profile-value">{{app.profileId.name}}</dd>\n            </dl>\n          </div>\n          <div class="col-md-4">\n            <dl class="dl-horizontal">\n              <dt id="app-creation-on-label">{{\'Creation on\' | translate}}</dt>\n              <dd id="app-creation-on-value">{{app.creationDate | dateI18n:\'YYYY-MM-DD HH:mm:ss\'}}</dd>\n              <dt id="app-created-by-label">{{\'Created by\' | translate}}</dt>\n              <dd id="app-created-by-value">{{app.createdBy.firstname }} {{app.createdBy.lastname}}</dd>\n            </dl>\n          </div>\n          <div class="col-md-4">\n            <dl class="dl-horizontal">\n              <dt id="app-updated-on-label">{{\'Updated on\' | translate}}</dt>\n              <dd id="app-updated-on-value">{{app.lastUpdateDate | dateI18n:\'YYYY-MM-DD HH:mm:ss\'}}</dd>\n              <dt id="app-updated-by-label">{{\'Updated by\' | translate}}</dt>\n              <dd id="app-updated-by-value">{{app.updatedBy.firstname }} {{app.updatedBy.lastname }}</dd>\n            </dl>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div id="look-n-feel-edit-section" class="col-md-12">\n    <h2>{{\'Look & Feel\' | translate}}</h2>\n    <div class="panel panel-default">\n      <div class="row panel-body">\n        <div class="col-md-6">\n          <dl class="dl-horizontal app-details-col">\n            <dt id="app-layout-label">{{\'Layout\' | translate}}</dt>\n            <dd id="app-layout-value">\n              <div  ng-if="!applicationDetailsCtrl.isEditLayoutAvailable">{{app.layoutId.displayName}}</div>\n              <a  ng-if="applicationDetailsCtrl.isEditLayoutAvailable"  href="" editable-select="app.layoutId" onbeforesave="applicationDetailsCtrl.updateLayout(app, $data)" e-ng-options="layoutPage as layoutPage.displayName for layoutPage in layoutPages track by layoutPage.id">{{ app.layoutId.displayName }}</a>\n            </dd>\n          </dl>\n        </div>\n        <div class="col-md-6">\n          <dl class="dl-horizontal app-details-col">\n            <dt id="app-theme-label">{{\'Theme\' | translate}}</dt>\n            <dd id="app-theme-value">\n              <div  ng-if="!applicationDetailsCtrl.isEditLayoutAvailable">{{app.themeId.displayName}}</div>\n              <a  ng-if="applicationDetailsCtrl.isEditLayoutAvailable"  href="" editable-select="app.themeId" onbeforesave="applicationDetailsCtrl.updateTheme(app, $data)"\n                  e-ng-options="themePage as themePage.displayName for themePage in themePages track by themePage.id">{{ app.themeId.displayName }}</a>\n            </dd>\n          </dl>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div id="application-page-list-section" ng-if="app.id">\n    <page-list id="page-list" application="app" class="col-md-6"></page-list>\n    <menu-creator id="menu-creator" app="app" class="col-md-6 menu-creator"></menu-creator>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/details/menubuilder-actionBar.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/menubuilder-actionBar.html",'<div class="circle-indicator" data-nodrag="" ng-if="menu.parentMenuId === \'-1\' || !menu.parentMenuId"></div>\n<span ng-transclude></span>\n<button class="clickable glyphicon glyphicon-trash btn-action-remove pull-right" ng-click="actionBarCtrl.removeItem(this, menu)" ng-if="remove !== \'false\'" title="{{ \'Delete\' | translate }}" aria-label="{{ \'Delete\' | translate }}"></button>\n<button class="clickable glyphicon glyphicon-pencil btn-action-edit pull-right" ng-click="actionBarCtrl.editItem(this, menu)" ng-if="edit !== \'false\'" title="{{ \'Edit\' | translate }}" aria-label="{{ \'Edit\' | translate }}"></button>\n<button class="clickable glyphicon glyphicon-plus btn-action-add pull-right" ng-click="actionBarCtrl.addItem(this, menu)" ng-if="add !== \'false\'  && (!menu.applicationPageId || menu.applicationPageId === \'-1\')" title="{{ \'Add menu item\' | translate }}" aria-label="{{ \'Add menu item\' | translate }}"></button>\n')}]),angular.module("portalTemplates/admin/applications/details/menubuilder-addCustomMenuModal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/menubuilder-addCustomMenuModal.html",'<form role="form" name="menu.form" novalidate>\n\n  <header class="modal-header">\n\n    <h3 class="modal-title" ng-if="!isEdition && !isAddition">{{ \'Add menu\' | translate}}</h3>\n    <h3 class="modal-title" ng-if="isAddition">{{ \'Add menu item\' | translate}}</h3>\n    <h3 class="modal-title" ng-if="isEdition && isEditionParentMenu">{{ \'Edit menu\' | translate}}</h3>\n    <h3 class="modal-title" ng-if="isEdition && !isEditionParentMenu">{{ \'Edit menu item\' | translate}}</h3>\n  </header>\n  <div class="modal-body">\n\n    <section ng-show="!isEdition && !isAddition" class="menu-choice-container">\n\n      <div class="row">\n        <div class="col-md-11 col-centered">\n\n          <div class="radio-inline">\n            <label class="label-choice-inline">\n              <input type="radio" name="typeMenu" id="setTopLevelMenu" ng-model="isLabelOnly"  value="inactive">\n              {{\'One-page menu\' | translate}}\n            </label>\n            <label class="label-choice-inline">\n              <input type="radio" name="typeMenu" id="setpageMenu"  ng-model="isLabelOnly" value="active" ng-change="menu.model.page = null">\n              {{\'Multi-page menu\' | translate}}\n            </label>\n          </div>\n\n        </div>\n\n      </div>\n    </section>\n\n    <bootstrap-form-control\n      form="menu.form"\n      label="{{\'Name\' | translate}}"\n      errors="{ $invalid: i18n.mandatory, $duplicate: i18n.duplicateName }">\n\n      <input type="text" id="name" name="name" ng-model="menu.model.name" autofocus required ng-trim="false"/>\n    </bootstrap-form-control>\n\n    <p ng-if="\'active\' === isLabelOnly && !(isAddition || isEdition)">{{\'Add pages in Navigation\' | translate}}</p>\n\n    <bootstrap-form-control\n      form="menu.form"\n      label="{{\'Page\' | translate}}"\n      class="form-menu-pages select-form-container"\n      ng-if="\'inactive\' === isLabelOnly || ((isAddition || isEdition) && \'inactive\' === isLabelOnly)">\n      <select name="Page" id="page" required ng-model="menu.model.page">\n        <option ng-repeat="page in pages track by $index" value="{{page.id}}" ng-selected="currentSelectedPageId == page.id">\n          {{ page.pageId.displayName }} - {{ page.token }}\n        </option>\n      </select>\n      <i>{{\'Select the page\' | translate}}</i>\n    </bootstrap-form-control>\n\n\n  </div>\n\n  <footer class="modal-footer modal-menu-footer">\n    <button id="add-page-pop-up-add-btn" class="btn btn-primary" ng-click="addCustomMenuCtrl.saveModal(menu)" ng-disabled="menu.form.$invalid" >{{ isEdition ? \'Save\' : \'Add\' | translate}}</button>\n\n    <button type="button" id="add-page-pop-up-cancel-btn" class="btn btn-default" ng-click="addCustomMenuCtrl.cancel()">{{\'Cancel\' | translate}}</button>\n  </footer>\n</form>\n')}]),angular.module("portalTemplates/admin/applications/details/menubuilder-menuCreator.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/menubuilder-menuCreator.html",'<header class="page-header">\n<h2>{{ \'Navigation\' | translate }}</h2>\n</header>\n\n<div class="col-md-3">\n    <button id="menu-list-add-button" ng-click="menuCreatorCtrl.add()" ng-disabled="!hasPages" class="btn btn-primary"\n            title="{{\'Add top-level menu\' | translate}}">{{ \'Add\' | translate }}\n    </button>\n</div>\n<div class="col-md-9">\n  <div class="jumbotron" ng-if="!data.menuItemBuilder.length">\n    <em>{{ \'Specify the menu structure.\' | translate }}<br> {{ \'You must add a page before you can reference it in a\n      menu.\' | translate }}</em>\n  </div>\n  <menu-list ng-model="data.menuItemBuilder" ng-if="data.menuItemBuilder.length"></menu-list>\n</div>\n\n')}]),angular.module("portalTemplates/admin/applications/details/menubuilder-menuList.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/menubuilder-menuList.html",'<div class="container-menubuilder" ui-tree="treeOptions" data-max-depth="2">\n\n  <ul class="list-group" ui-tree-nodes="" data-ng-model="model">\n\n    <li class="list-group-item" data-ng-repeat="menu in model" ui-tree-node ng-class="{\'menucontainer-has-submenu-items\': !menu.applicationPageId || menu.applicationPageId === \'-1\', \'menucontainer-no-submenu-items\': menu.applicationPageId && menu.applicationPageId !== \'-1\'}">\n         <div ui-tree-handle ng-class="{\'hidden-submenu\': collapsed}">\n           <action-bar collapsed="collapsed" menu="menu" data="data">{{menu.displayName}}</action-bar>\n         </div>\n\n         <ul ui-tree-nodes="" ng-if="!menu.applicationPageId || menu.applicationPageId === \'-1\'" data-ng-model="menu.children" ng-class="{\'menucontainer-submenu-exist\':menu.children.length,\'menucontainer-submenu\':!menu.children.length}" ><li data-ng-repeat="subItem in menu.children"  ui-tree-node>\n             <div ui-tree-handle>\n                <action-bar add="false" menu="subItem" data="data">{{subItem.displayName}}</action-bar>\n             </div>\n           </li></ul>\n\n       </li>\n  </ul>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/details/page-list-addPageModal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/page-list-addPageModal.html",'<form role="form" name="page.form" novalidate>\n  <div class="modal-header">\n    <h3 class="modal-title">{{ \'Add page\' | translate }}</h3>\n  </div>\n\n  <div class="modal-body">\n    <alert ng-repeat="alert in alerts track by $id(alert)" type="{{ alert.type }}" close="closeAlert($index)">{{alert.msg}}</alert>\n    <bootstrap-form-control\n      id="page-form-control"\n      form="page.form"\n      label="{{ \'Page\' | translate }}"\n      errors="{ $invalid: i18n.mandatory }"\n      class="select-form-container">\n      <select name="Page" id="page" ng-model="page.model.pageId" required>\n        <option ng-repeat="customPage in customPages" value="{{ customPage.id }}">\n          {{ customPage.urlToken }} - {{ customPage.displayName }}\n        </option>\n      </select>\n    </bootstrap-form-control>\n\n    <bootstrap-form-control\n      id="url-form-control"\n      form="page.form"\n      label="{{ \'URL\' | translate }}"\n      errors="{ $invalid: i18n.mandatory, $duplicate: i18n.duplicateUrl, $reservedToken: i18n.reservedToken}">\n      <div class="input-group">\n        <span class="input-group-addon">../apps/{{application.token}}/</span>\n        <input type="text" id="token" name="token" ng-model="page.model.token" required urlified ng-trim="false"/>\n      </div>\n    </bootstrap-form-control>\n\n  </div>\n  <div class="modal-footer">\n    <button id="add-page-pop-up-add-btn" class="btn btn-primary" type="submit" ng-click="add(page)" ng-disabled="page.form.$invalid">{{\'Add\' | translate}}\n    </button>\n    <button id="add-page-pop-up-cancel-btn" class="btn btn-default" ng-click="cancel()">{{\'Cancel\' | translate}}</button>\n  </div>\n</form>\n')}]),angular.module("portalTemplates/admin/applications/details/page-list.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/page-list.html",'<header class="page-header">\n  <h2>{{\'Pages\' | translate}}</h2>\n</header>\n<div class="col-md-3">\n  <button id="page-list-add-button" ng-click="list.add()" class="btn btn-primary" title="{{ \'Add from custom pages\' | translate }}">{{\'Add\' | translate}}</button>\n</div>\n<div class="col-md-9">\n  <table class="table table-condensed">\n    <tbody>\n      <tr ng-repeat="page in pages track by $index" class="table-row table-row-{{$index}}"\n      ng-class="{\'page-is-home\': application.homePageId == page.id}">\n        <td class="page-name">\n          {{page.token }} - <em>{{ page.pageId.displayName }}</em>\n        </td>\n        <td class="td-small">\n          <button class="btn-action-sethome clickable glyphicon glyphicon-home"\n              title="{{\'Set as Home page\' | translate}}"\n              ng-click="list.setAsHomePage(page)">\n            <span aria-hidden="true">{{\'Set as Home page\' | translate}}</span>\n          </button>\n        </td>\n        <td class="td-small">\n          <button class="btn-action-delete clickable glyphicon glyphicon-trash"\n              title="{{\'Remove\' | translate}}"\n              ng-if="application.homePageId != page.id"\n              ng-click="list.remove(page)">\n            <span aria-hidden="true">{{\'Remove\' | translate}}</span>\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/details/popverunsafe.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/popverunsafe.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" bind-html-unsafe="content"></div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/edit-application-look-n-feel.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/edit-application-look-n-feel.html",'<form role="form" name="application.form" novalidate>\n  <div class="modal-header">\n    <h3 class="modal-title">{{ editionMode ? "Edit" : "Create" |\n     translate }} {{\'an Application\' | translate}}</h3>\n  </div>\n  <div class="modal-body">\n\n    <alert ng-repeat="alert in alerts" type="{{ alert.type }}" close="closeAlert($index)">{{alert.msg}}</alert>\n    <bootstrap-form-control form="application.form" class="select-form-container" label="{{ \'Layout\' | translate }}">\n      <select id="profile"\n              name="profile" ng-model="application.model.layoutId"\n              ng-options="layoutPage.id as layoutPage.urlToken + \' - \' + layoutPage.displayName for layoutPage in layoutPages"></select>\n\n\n    </bootstrap-form-control>\n\n    <bootstrap-form-control form="application.form" class="select-form-container" label="{{ \'Theme\' | translate }}">\n      <select id="theme"\n              name="layout" ng-model="application.model.themeId">\n        <option ng-repeat="layoutPage in layoutPages" value="{{ layoutPage.id }}">\n          {{ layoutPage.urlToken }} - {{ layoutPage.displayName }}\n        </option>\n      </select>\n    </bootstrap-form-control>\n  </div>\n  <div class="modal-footer">\n    <div class="form-group has-feedback">\n      <div>\n        <button id="btn-submit" type="submit" class="btn btn-primary" ng-disabled="application.form.$invalid"\n                ng-click="submit(application)">{{ "Save" | translate }}\n        </button>\n        <button id="btn-cancel" type="submit" class="btn btn-default" ng-click="cancel()">{{ \'Cancel\' | translate}}</button>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),angular.module("portalTemplates/admin/applications/edit-application.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/edit-application.html",'<form role="form" name="application.form" novalidate>\n  <div class="modal-header">\n    <h3 class="modal-title">{{ editionMode ? "Edit" : "Create" |\n     translate }} {{\'an application\' | translate}}</h3>\n  </div>\n  <div class="modal-body">\n\n    <alert ng-repeat="alert in alerts" type="{{ alert.type }}" close="closeAlert($index)">{{alert.msg}}</alert>\n\n    <bootstrap-form-control\n      id="display-name-form-control"\n      form="application.form"\n      label="{{ \'Display name\' | translate }}"\n      errors="{ $invalid: i18n.mandatory }">\n      <input type="text"\n             id="display-name"\n             name="displayName"\n             ng-model="application.model.displayName"\n             maxlength="255" required/>\n    </bootstrap-form-control>\n\n    <bootstrap-form-control\n      id="url-form-control"\n      form="application.form"\n      label="{{ \'URL\' | translate }}"\n      errors="{ $invalid: i18n.mandatory, $duplicate: i18n.duplicateUrl, $reservedToken: i18n.reservedToken}">\n      <div class="input-group">\n        <span class="input-group-addon">../apps/</span>\n        <input type="text"\n               id="url"\n               name="token"\n               ng-model="application.model.token"\n               maxlength="50"\n               urlified required ng-trim="false"/>\n      </div>\n\n    </bootstrap-form-control>\n\n    <bootstrap-form-control\n      id="version-form-control"\n      form="application.form"\n      label="{{ \'Version\' | translate }}"\n      errors="{ $invalid: i18n.mandatory }">\n      <input type="text"\n             id="version"\n             name="version"\n             ng-model="application.model.version"\n             maxlength="50" required/>\n    </bootstrap-form-control>\n\n    <bootstrap-form-control form="application.form" class="select-form-container" label="{{ \'Profile\' | translate }}">\n      <select id="profile"\n              name="profile" ng-model="application.model.profileId"\n              ng-options="profile.id as profile.name for profile in profiles" required></select>\n    </bootstrap-form-control>\n\n\n    <bootstrap-form-control form="application.form" label="{{\'Description\' | translate}}">\n      <textarea id="description"\n                name="description"\n                ng-model="application.model.description"\n                maxlength="1024"></textarea>\n    </bootstrap-form-control>\n  </div>\n\n  <div class="modal-footer">\n    <div class="form-group has-feedback">\n      <div>\n        <button id="btn-submit" type="submit" class="btn btn-primary" ng-disabled="application.form.$invalid"\n                ng-click="submit(application)">{{ editionMode ? "Save" : "Create" | translate }}\n        </button>\n        <button id="btn-cancel" type="submit" class="btn btn-default" ng-click="cancel()">{{ \'Cancel\' | translate}}</button>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),angular.module("portalTemplates/admin/applications/export-application.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/export-application.html",'<div class="modal-header">\n    <h3 class="modal-title">{{ \'Export application descriptor\' | translate}}</h3>\n</div>\n<div class="modal-body">\n    <p>{{\'You are about to export the descriptor of the application\' | translate}} <i>{{application.displayName||application.name}}</i>.<br>{{\'When you export an application descriptor, pages and profiles are not exported in the file.\' | translate}}</p>\n</div>\n\n<div class="modal-footer">\n  <div class="form-group has-feedback">\n    <export-app-button\n      id="confirm"\n      app-id="{{application.id}}"\n      class="btn btn-primary"\n      ng-click="exportApplicationCtrl.cancel()"\n      >{{\'Export\' | translate}}\n    </export-app-button>\n    <button\n      id="cancel"\n      class="btn btn-default"\n      ng-click="exportApplicationCtrl.cancel()">{{\'Cancel\' | translate}}\n    </button>\n   </div>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/import-application.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/import-application.html",'<form role="form" name="form" novalidate>\n  <div class="modal-header">\n    <h3 class="modal-title" ng-if="!importIsSuccessfull && !importNotSuccessfull">{{\'Import an application descriptor\' | translate}}</h3>\n    <h3 class="modal-title" ng-if="importIsSuccessfull">{{\'Status of importation\' | translate}}</h3>\n    <h3 class="modal-title" ng-if="importNotSuccessfull">{{\'Error\' | translate}}</h3>\n  </div>\n  <div class="modal-body">\n\n    <section id="beforeImport" ng-if="!importIsSuccessfull && !importNotSuccessfull">\n      <p>{{ \'Before you import the application descriptor, the pages and the profile must already be loaded in the Portal.\' | translate }}</p>\n\n      <bootstrap-form-control\n        class="field-upload-container"\n        form="form"\n        label="{{\'Application XML file\' | translate}}">\n\n        <div class="upload-field">\n          <input type="file" id="importAppXml" name="import-file" ng-model="importFile.file" required nv-file-select uploader="uploader" accept=".xml">\n          <div class="upload-field-content" ng-class="{\'upload-success\': isUploadSuccess}"><span ng-if="fileName">{{fileName}}</span><span ng-if="!fileName">{{ \'Click here to choose the .xml file\' | translate }}</span></div>\n        </div>\n\n      </bootstrap-form-control>\n    </section>\n\n    <section id="afterImport" ng-if="importIsSuccessfull" >\n\n      <div class="import-status">\n        <p ng-if="!errorsApi.length">1 {{\'application descriptor has been successfully imported, with complete page mapping and menu mapping.\' | translate}}</p>\n\n        <p ng-if="errorsApi.length">1 {{\'application descriptor has been partially imported. The following items are not loaded in the Portal.\' | translate}}</p>\n\n        <ul>\n          <li ng-repeat="imported in imports track by $index">{{\'URL\' | translate }}: ../apps/{{ imported.name}}</li>\n        </ul>\n\n        <ul ng-if="errorsApi.length">\n          <li ng-repeat="error in errorsApi track by $index">\n            <span arial-label="application">{{\'URL\' | translate }}: ../apps/{{ error.name}}</span>\n\n            <ul ng-repeat="(key, value) in error.errors track by $index">\n              <li ng-repeat="label in value track by $index">{{label}}  {{ key | lowercase | ucfirst }}</li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n    </section>\n\n    <section id="afterImportError" ng-if="importNotSuccessfull">\n      <p>{{messageError}}.</p>\n    </section>\n\n  </div>\n\n  <div class="modal-footer">\n      <div class="form-group has-feedback">\n          <div class="col-md-12 col-centered-text center-block">\n              <button\n                ng-if="!importIsSuccessfull && !importNotSuccessfull"\n                id="confirm"\n                ng-disabled="!isUploadSuccess"\n                class="btn btn-primary"\n                ng-click="importApplicationCtrl.importApp()">{{ \'Import\' | translate }}\n              </button>\n              <button\n                ng-if="!importIsSuccessfull && !importNotSuccessfull"\n                id="cancel"\n                class="btn btn-default"\n                ng-click="importApplicationCtrl.cancel()">{{ \'Cancel\' | translate }}\n              </button>\n\n              <button\n                ng-if="importIsSuccessfull"\n                id="cancel"\n                class="btn btn-default"\n                ng-click="importApplicationCtrl.closeModalSuccess()">{{ \'Close\' | translate }}\n              </button>\n\n              <button\n                ng-if="importNotSuccessfull"\n                id="cancel"\n                class="btn btn-default center-block"\n                ng-click="importApplicationCtrl.cancel()">{{ \'Close\' | translate }}\n              </button>\n          </div>\n      </div>\n  </div>\n</form>\n')}]),angular.module("portalTemplates/admin/bdm/add-bdm-popup.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/bdm/add-bdm-popup.html",'<div class="modal-header">\n    <h1 class="modal-title" translate>Install a BDM file</h1>\n</div>\n\n<div class="modal-body modal-body-scrollable">\n    <div class="callout callout-warning">\n        <h4 translate>Warning:</h4>\n        <span translate>Note that updating the model modifies existing database tables definitively.</span><br/>\n        <span translate>Bonita uses Hibernate for data persistence, therefore some changes are handled well, like adding new objects or attributes,\n            but some others we cannot guarantee so far, like changing the type of an attribute or deleting an attribute.</span><br/>\n        <span translate>If the new BDM contains such changes, the database administrator will need to first handle the database update with scripts,\n            then you will need to update only the data model and thoroughly test the changes.</span><br/>\n        <span translate>To know more about this platform configuration option, go to the</span>\n        \x3c!-- Link to Bonita Documentation page BDM Management in Bonita Portal --\x3e\n        <a ng-href="http://www.bonitasoft.com/bos_redirect.php?bos_redirect_id=674&bos_redirect_product=bos&bos_redirect_major_version={{bonitaVersion}}&bos_redirect_minor_version=0" target="_blank" translate>documentation</a>.\n    </div>\n    <bootstrap-form-control\n        class="field-upload-container"\n        form="form"\n        label="{{\'BDM file\' | translate}}">\n        <div class="upload-field">\n            <input type="file" id="importBdmZip" name="import-file" ng-model="importFile.file"\n                   required nv-file-select uploader="uploader" accept=".zip">\n            <div class="upload-field-content" ng-class="{\'upload-success\': isUploadSuccess}">\n                <span ng-if="fileName">{{fileName}}</span><span ng-if="!fileName" translate>Click here to choose your .zip file</span>\n            </div>\n        </div>\n    </bootstrap-form-control>\n</div>\n\n<div class="modal-footer">\n    <button id="btn-open-modal" ng-disabled="!isUploadSuccess"\n            ng-click="AddBDMPopupCtrl.closeModalSuccess()" class="btn btn-primary"\n            translate>Install\n    </button>\n\n    <button class="btn btn-default"\n            ng-click="this.$dismiss()"\n            translate>Cancel\n    </button>\n</div>\n')}]),angular.module("portalTemplates/admin/bdm/bdm.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/bdm/bdm.html",'<div class="page" id="access-rules">\n\n    <section class="row">\n        <h1 class="SubHeading" translate>Business Data Model definition</h1>\n        <bo-tenant-resource-status data="vm.bdm"></bo-tenant-resource-status>\n        <div ng-if="!vm.isTechnicalUser">\n            <p>\n                <span translate>Installing or updating the BDM implies to be logged in as Technical User, and to shut down all BPM services.</span><br/>\n                <span translate>To do so, log out and then log back in as the Technical User, whose credentials are set upon Bonita platform installation.</span><br/>\n            <p>\n        </div>\n        <div ng-if="vm.isTechnicalUser">\n            <p>\n                <span translate>Only one Business Data Model (BDM) can be active at a time.</span><br/>\n                <span translate>Make sure all artifacts enabled on the platform are compatible with the new BDM.</span>\n            <p>\n\n            <ul class="list-group">\n                <li class="list-group-item list-group-item-action">\n                    <button ng-click="vm.openBDMUpload()"\n                            class="btn btn-primary btn-section-action"\n                            ng-disabled="vm.isInstallDisable()">\n                        {{vm.isBDMInstalled()? (\'Update\'|translate) : (\'Install\'|translate)}}\n                    </button>\n                    <h2 class="panel-title" ng-if="!vm.isBDMInstalled()" translate>Install Business Data Model</h2>\n                    <h2 class="panel-title" ng-if="vm.isBDMInstalled()" translate>Update Business Data Model</h2>\n                    <div ng-if="!vm.isTenantPaused">\n                        <span class="glyphicon glyphicon-warning-sign text-warning"/>\n                        <span translate>BPM Services must be paused. Go to "BPM Services" menu option.</span>\n                    </div>\n                    <div ng-if="vm.isAccessControlInstalled()" class="message-status-animation">\n                        <span class="glyphicon glyphicon-warning-sign text-warning"/>\n                        <span translate>Before updating the BDM, access control file should be deleted.</span>\n                    </div>\n                    <div ng-if="vm.isBDMInstallProcessing" class="message-status-animation">\n                        <span class="glyphicon glyphicon-cog gly-spin text-info"/>\n                        <span translate>Installing Business Data Model</span>\n                    </div>\n                    <div ng-if="vm.isBDMInstallSuccessfull" class="message-status-animation">\n                        <span class="glyphicon glyphicon-ok text-success"/>\n                        <span translate>BDM successfully updated.</span><br/>\n                    </div>\n                    <div ng-if="vm.isAccessControlFeatureActivated() &&\n                                vm.isAccessControlAvailable &&\n                                !vm.isAccessControlInstalled()"\n                         class="message-status-animation">\n                        <span class="glyphicon glyphicon-info-sign text-info"/>\n                        <span translate>BDM access control file can now be installed.</span><br/>\n                    </div>\n                    <div ng-if="vm.isTenantPaused">\n                        <span class="glyphicon glyphicon-info-sign text-info"/>\n                        <span translate>Don\'t forget to start BPM Services again.</span><br/>\n                    </div>\n                    <div ng-if="vm.isBDMInstallError" class="message-status-animation">\n                        <span class="glyphicon glyphicon-remove text-danger"/>\n                        <span translate>An error occurred when deploying the BDM.\n                    Consult the logs for more information.</span>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </section>\n\n    <access-control is-bdm-installed=\'vm.isBDMInstalled()\'\n                    access-control-status=\'vm.accessControlStatus\'\n                    on-access-control-update=\'vm.updateAccessControlStatus\'\n                    is-access-control-installed=\'vm.isAccessControlInstalled()\'></access-control>\n\n</div>\n')}]),angular.module("portalTemplates/admin/cases/list/archived-cases-list-filters.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/cases/list/archived-cases-list-filters.html",'<div id="case-filters" class="panel panel-default">\n\n  <div class="panel-heading title">{{ \'Filters\' | translate }}</div>\n  <div class="panel-body">\n    <div class="col-md-3 button-filter"> {{ \'Process name\' | translate }}\n      <div class="btn-group" dropdown id="case-app-name-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle ">{{selectedFilters.selectedApp | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterCtrl.selectApp(defaultFilters.appName)"><a>{{defaultFilters.appName | translate}}</a></li>\n          <li ng-if="appNames &amp;&amp; appNames.length>0" class="divider"></li>\n          <li ng-repeat="appName in appNames" ng-click="filterCtrl.selectApp(appName)"><a>{{appName}}</a></li>\n        </ul>\n      </div>\n    </div>\n\n    <div class="col-md-3 button-filter">{{\'Process version\' | translate }}\n      <div class="btn-group" dropdown id="case-app-version-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle " ng-disabled="selectedFilters.selectedApp  === defaultFilters.appName">{{selectedFilters.selectedVersion | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterCtrl.selectVersion(defaultFilters.appVersion)"><a>{{defaultFilters.appVersion | translate}}</a></li>\n          <li class="divider"></li>\n          <li ng-repeat="version in versions" ng-click="filterCtrl.selectVersion(version)"><a>{{version}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">\n    </div>\n    <div class="col-md-3 button-filter">\n      <form role="form" name="searchForm" novalidate ng-submit="filterCtrl.submitSearch()">\n          <div class="input-group">\n            <input type="text" class="form-control" ng-model="selectedFilters.currentSearch" name="searchField" id="case-list-search" placeholder="{{ \'Search...\' | translate }}">\n            <span ng-click="filterCtrl.submitSearch()" class="input-group-addon pointer"><span class="glyphicon glyphicon-search"></span></span>\n          </div>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/cases/list/cases-list-deletion-modal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/cases/list/cases-list-deletion-modal.html",'<div class="modal-header">\n  <h3 class="modal-title">{{ \'Confirm delete?\' | translate }}</h3>\n</div>\n\n<div ng-if="\'archived\' !==  typeOfCase">\n  <div class="modal-body" ng-if="1 === caseItems.length">\n    {{ \'The deleted case will be permanently deleted and will not be stored in the archives.\' | translate }}\n  </div>\n\n  <div class="modal-body" ng-if="caseItems.length > 1">\n    {{ \'These deleted cases will be permanently deleted and will not be stored in the archives.\' | translate }}\n  </div>\n</div>\n\n<div ng-if="\'archived\' === typeOfCase ">\n  <div class="modal-body" ng-if="1 === caseItems.length">\n    {{ \'The deleted case will be permanently deleted from the archives.\' | translate }}\n  </div>\n\n  <div class="modal-body" ng-if="caseItems.length > 1">\n    {{ \'These deleted cases will be permanently deleted from the archives.\' | translate }}\n  </div>\n</div>\n\n<div class="modal-footer">\n    <button id="ValidateCaseDeletionBtn" class="btn btn-primary" ng-click="deleteCaseModalCtrl.ok()">{{ \'Delete\' | translate }}</button>\n    <button id="CancelCaseDeletionBtn" class="btn btn-default" ng-click="deleteCaseModalCtrl.cancel()">{{ \'Cancel\' | translate }}</button>\n</div>\n')}]),angular.module("portalTemplates/admin/cases/list/cases-list-filters.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/cases/list/cases-list-filters.html",'<div id="case-filters" class="panel panel-default">\n  <div class="panel-heading title">{{\'Filters\' | translate}}</div>\n  <div class="panel-body">\n    <div class="col-md-3 button-filter">{{\'Process name\' | translate}}\n      <div class="btn-group" dropdown id="case-app-name-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle">{{selectedFilters.selectedApp | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterCtrl.selectApp(defaultFilters.appName)"><a>{{defaultFilters.appName | translate}}</a></li>\n          <li ng-if="appNames &amp;&amp; appNames.length>0" class="divider"></li>\n          <li ng-repeat="appName in appNames" ng-click="filterCtrl.selectApp(appName)"><a>{{appName}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">{{\'Process version\' | translate}}\n      <div class="btn-group" dropdown id="case-app-version-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle" ng-disabled="selectedFilters.selectedApp  === defaultFilters.appName">{{selectedFilters.selectedVersion | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterCtrl.selectVersion(defaultFilters.appVersion)"><a>{{defaultFilters.appVersion | translate}}</a></li>\n          <li class="divider"></li>\n          <li ng-repeat="version in versions" ng-click="filterCtrl.selectVersion(version)"><a>{{version}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">{{\'Case state\' | translate}}\n      <div class="btn-group" dropdown id="case-app-status-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle">{{caseStatesValues[selectedFilters.selectedStatus] | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterCtrl.selectCaseStatus(defaultFilters.caseStatus)"><a>{{defaultFilters.caseStatus | translate}}</a></li>\n          <li class="divider"></li>\n          <li ng-click="filterCtrl.selectCaseStatus(\'error\')"><a>{{\'With failures\' | translate}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3">\n      <form role="form" name="searchForm" novalidate ng-submit="filterCtrl.submitSearch()">\n        <div class="input-group">\n          <input type="text" class="form-control" ng-model="selectedFilters.currentSearch" name="searchField" id="case-list-search" placeholder="{{ \'Search...\' | translate }}">\n          <span ng-click="filterCtrl.submitSearch()" class="input-group-addon pointer"><span class="glyphicon glyphicon-search"></span></span>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/cases/list/cases-list.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/cases/list/cases-list.html",'<div>\n\n  <div ng-switch on="archivedTabName">\n    <archived-case-filters ng-switch-when="true"> </archived-case-filters>\n    <active-case-filters ng-switch-default> </active-case-filters>\n  </div>\n  <div class="panel panel-default">\n\n    <div class="panel-heading title">{{ \'Case list\' | translate }} <span id="infoPopover" class="glyphicon glyphicon-info-sign" popover="{{\'Only cases from root processes are displayed in the table below. No details are available for cases started by call activities.\' | translate}}" popover-trigger="mouseenter"></span> <span ng-click="caseCtrl.reinitCases()" tooltip="{{ \'Refresh\' | translate}}" tooltip-animation="false" tooltip-popup-delay="300" class="case-list-refresh glyphicon glyphicon-repeat"></span></div>\n    <div class="panel-body">\n      <div ng-show="cases.length">\n        <div class="col-md-12">\n          <table ng-if="!archivedTabName" bonitable bo-storable="admin-cases-list" on-storage-loaded="caseCtrl.loadContent()" bo-repeatable  on-sort="caseCtrl.updateSortField(sortOptions)" sort-options="sortOptions" resizable-column="$columns" resize-selector="tr th.case-column" class="table table-striped table-hover table-responsive">\n            <thead>\n              <tr>\n                <th colspan="{{$columns.length+2}}">\n                  <div class="pull-left case-action table-buttons">\n                    <div class="case-action table-buttons"> <active-case-delete>{{\'Delete\' | translate}}</active-case-delete></div>\n                  </div>\n                  <div class="pull-right table-buttons">\n                    <table-settings class="pull-right" page-size="pagination.itemsPerPage" sizes="pageSizes" columns="$columns" update-page-size="caseCtrl.changeItemPerPage(size)"></table-settings>\n                    <span  ng-if="pagination.total" id="cases-results-size-top" class="pull-right">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n                  </div>\n                </th>\n              </tr>\n              <tr data-headers>\n                <th class="case-checkbox" data-ignore><div bo-selectall></div></th>\n                <th class="text-right case-column" bo-sorter="id" bo-sorter-title-asc="{{\'sort by ID ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by ID descending\' | translate}}">{{\'ID\' | translate}}</th>\n\n                <th class="case-column" bo-sorter="name" bo-sorter-title-asc="{{\'sort by Process name ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Process name descending\' | translate}}">{{\'Process name\' | translate}}</th>\n                <th class="case-column" >{{\'Version\' | translate}}</th>\n                <th bo-sorter="startDate" class="case-column" bo-sorter-title-asc="{{\'sort by Start date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Start date descending\' | translate}}">{{\'Start date\' | translate}}</th>\n                <th class="case-column">{{\'Started by\' | translate}}</th>\n                <th class="text-right case-column">{{\'Failed Flow Nodes\' | translate}}</th>\n                <th class="text-right case-column">{{\'Pending Flow Nodes\' | translate}} <span id="pendingFlowNodePopover" class="glyphicon glyphicon-info-sign" popover-template="\'cases/pengind-flownode.html\'" popover-trigger="mouseenter"></span></th>\n                <th bo-sorter="index1" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()"><span id="infoPopover" class="glyphicon glyphicon-info-sign" popover="{{\'To personalize the display of search keys (and columns in general), use the table settings button on the right. You can search on up to 5 search keys.\' | translate}}" popover-trigger="mouseenter"></span> {{\'Search Key 1\' | translate}}</th>\n                <th bo-sorter="index2" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 2\' | translate}}</th>\n                <th bo-sorter="index3" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 3\' | translate}}</th>\n                <th bo-sorter="index4" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 4\' | translate}}</th>\n                <th bo-sorter="index5" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 5\' | translate}}</th>\n                <th data-ignore class="text-center">{{\'Actions\' | translate}}</th>\n              </tr>\n            </thead>\n            <tbody>\n\n            <tr ng-repeat="case in cases" id="caseId-{{::case.id}}" class="case-row" ng-class="{\'info\' : case.selected}">\n              <td class="case-checkbox">\n                <input id="case-check-{{::case.id}}" type="checkbox" bo-selector="case" >\n              </td>\n\n              <td class="text-right case-detail"><a id="case-detail-link-{{case.id}}" target="_parent" href="{{::caseCtrl.getLinkToCase(case)}}">{{case[\'ID\']}}</a></td>\n              <td class="case-detail"><a id="case-process-link-{{case.id}}" target="_parent" href="{{::caseCtrl.getLinkToProcess(case)}}">{{case[\'Process name\']}}</a></td>\n              <td class="case-detail">{{::case[\'Version\']}}</td>\n              <td class="case-detail">{{::caseCtrl.parseAndFormat(case[\'Start date\'])}}</td>\n              <td class="case-detail" title="{{\'username:\' | translate}} {{::case[\'Started by\'] || (\'System\' | translate)}}">{{::case[\'Started by fullname\'] || (\'System\' | translate)}}</td>\n              <td class="case-detail text-right" ng-switch="case.fullCase.state">\n                <div ng-switch-when="error">\n                  <span tooltip="{{\'One or more connectors on case start or case end failed\' | translate}}" tooltip-animation="false" tooltip-popup-delay="500" class="alert-error glyphicon glyphicon-exclamation-sign"></span>\n                  {{::case[\'Failed Flow Nodes\']}}\n                </div>\n                \x3c!--need a switch otherwise, the counter is not aligned with the glyphicon--\x3e\n                <div ng-switch-default>\n                  {{::case[\'Failed Flow Nodes\']}}\n                </div>\n\n              </td>\n              <td class="case-detail text-right">{{::(case[\'Pending Flow Nodes\'] - case[\'Failed Flow Nodes\'])}}</td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="1"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="2"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="3"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="4"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="5"></search-index></td>\n              <td class="case-link text-center">\n                <case-visu process-id=\'{{::case.processDefinitionId.id}}\' case-id=\'{{::case.ID}}\' is-supervisor="caseCtrl.isSupervisor()" ng-if="caseCtrl.hasMonitoring()"></case-visu>\n                <a id="case-overview-btn-{{::case.id}}" tooltip="{{\'View case overview\' | translate }}"  tooltip-popup-delay="500" tooltip-animation="false" target="_parent" ng-href="{{::caseCtrl.getLinkToCaseOverview(case)}}" class="open-link">\n                  <span class="glyphicon glyphicon-eye-open"></span>\n                </a>\n                <a id="case-detail-btn-{{::case.id}}" tooltip="{{\'View case details\' | translate }}"  tooltip-popup-delay="500" tooltip-animation="false" target="_parent" ng-href="{{::caseCtrl.getLinkToCase(case)}}" class="open-link">\n                  <span class="glyphicon glyphicon-option-horizontal"></span>\n                </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n\n          <table ng-if="archivedTabName" bonitable bo-storable="archived-admin-cases-list" on-storage-loaded="caseCtrl.loadContent()" bo-repeatable on-sort="caseCtrl.updateSortField(sortOptions)" sort-options="sortOptions" resizable-column="$columns" resize-selector="tr th.case-column" class="table table-striped table-hover table-responsive">\n            <thead>\n              <tr>\n                <th colspan="{{$columns.length+2}}">\n                  <div class="pull-left case-action table-buttons">\n                    <div class="case-action table-buttons"> <archived-case-delete>{{\'Delete\' | translate}}</archived-case-delete></div>\n                  </div>\n                  <div class="pull-right table-buttons">\n                    <table-settings class="pull-right" page-size="pagination.itemsPerPage" sizes="pageSizes" columns="$columns"  update-page-size="caseCtrl.changeItemPerPage(size)"></table-settings>\n                       <span ng-if="pagination.total" id="cases-results-size-top" class="pull-right">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n                  </div>\n                </th>\n              </tr>\n              <tr data-headers>\n                <th class="case-checkbox" data-ignore><div bo-selectall></div></th>\n                <th class="text-right case-column" bo-sorter="sourceObjectId" bo-sorter-title-asc="{{\'sort by ID ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by ID descending\' | translate}}">{{\'ID\' | translate}}</th>\n                <th class="case-column" bo-sorter="name" bo-sorter-title-asc="{{\'sort by Process name ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Process name descending\' | translate}}">{{\'Process name\' | translate}}</th>\n                <th class="case-column" >{{\'Version\' | translate}}</th>\n                <th bo-sorter="startDate" class="case-column" bo-sorter-title-asc="{{\'sort by Start date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Start date descending\' | translate}}">{{\'Start date\' | translate}}</th>\n                <th class="case-column" >{{\'Started by\' | translate}}</th>\n                <th bo-sorter="endDate" class="case-column" bo-sorter-title-asc="{{\'sort by End date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by End date descending\' | translate}}">{{\'End date\' | translate}}</th>\n                <th class="case-column" >{{\'State\' | translate}}</th>\n                <th bo-sorter="index1" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()"><span id="infoPopover" class="glyphicon glyphicon-info-sign" popover="{{\'To personalize the display of search keys (and columns in general), use the table settings button on the right. You can search on up to 5 search keys.\' | translate}}" popover-trigger="mouseenter"></span> {{\'Search Key 1\' | translate}}</th>\n                <th bo-sorter="index2" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 2\' | translate}}</th>\n                <th bo-sorter="index3" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 3\' | translate}}</th>\n                <th bo-sorter="index4" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 4\' | translate}}</th>\n                <th bo-sorter="index5" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 5\' | translate}}</th>\n\n                <th data-ignore class="text-center">{{\'Actions\' | translate}}</th>\n              </tr>\n            </thead>\n            <tbody>\n\n            <tr ng-repeat="case in cases" id="caseId-{{::case.id}}" class="case-row" ng-class="{\'info\' : case.selected}">\n              <td class="case-checkbox">\n                <input id="case-check-{{::case.id}}" type="checkbox" bo-selector="case" >\n              </td>\n\n              <td class="case-detail text-right"><a id="case-detail-link-{{case.id}}" target="_parent" href="{{::caseCtrl.getLinkToCase(case)}}">{{case[\'ID\']}}</a></td>\n              <td class="case-detail"><a id="case-process-link-{{case.id}}" target="_parent" href="{{::caseCtrl.getLinkToProcess(case)}}">{{case[\'Process name\']}}</a></td>\n              <td class="case-detail">{{::case[\'Version\']}}</td>\n              <td class="case-detail">{{::caseCtrl.parseAndFormat(case[\'Start date\'])}}</td>\n              <td class="case-detail" title="{{\'username:\' | translate}} {{::case[\'Started by\'] || (\'System\' | translate)}}">{{::case[\'Started by fullname\'] || (\'System\' | translate)}}</td>\n              <td class="case-detail">{{::caseCtrl.parseAndFormat(case[\'End date\'])}}</td>\n              <td class="case-detail">{{::case[\'State\']}}</td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="1"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="2"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="3"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="4"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="5"></search-index></td>\n              <td class="case-link text-center">\n                <case-visu process-id=\'{{::case.processDefinitionId.id}}\' case-id=\'{{::case.ID}}\' is-supervisor="caseCtrl.isSupervisor()" ng-if="caseCtrl.hasMonitoring()"></case-visu>\n                <a id="case-overview-btn-{{::case.id}}" tooltip="{{\'View case overview\' | translate }}"  tooltip-popup-delay="500" tooltip-animation="false" target="_parent" ng-href="{{::caseCtrl.getLinkToArchivedCaseOverview(case)}}" class="open-link">\n                  <span class="glyphicon glyphicon-eye-open"></span>\n                </a>\n                <a id="case-detail-btn-{{::case.id}}" tooltip="{{\'View case details\' | translate }}"  tooltip-popup-delay="500" tooltip-animation="false" target="_parent" ng-href="{{::caseCtrl.getLinkToCase(case)}}" class="open-link">\n                  <span class="glyphicon glyphicon-option-horizontal"></span>\n                </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class="col-md-12">\n          <div class="pull-right" ng-if="pagination.total">\n            <span id="cases-results-size-bottom" class="pull-left">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n            <pagination id="cases-results-pages" ng-if="pagination.total > pagination.itemsPerPage" ng-click="caseCtrl.searchForCases()" boundary-links="true" total-items="pagination.total" ng-model="pagination.currentPage" items-per-page="pagination.itemsPerPage " previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" max-size="5"></pagination>\n           </div>\n        </div>\n      </div>\n      <div ng-show="loading">\n        <p class="text-muted"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>&nbsp;{{ \'Loading...\' | translate}}</p>\n      </div>\n      <div ng-show="!loading &amp;&amp; cases &amp;&amp; cases.length===0">\n        <p class="text-muted animated fadeIn">{{ \'No cases to display\' | translate }}</p>\n      </div>\n    </div>\n  </div>\n</div>\n<script type="text/ng-template" id="cases/pengind-flownode.html">\n<translate>Aggregates tasks in states ready, waiting,<br/>executing, completing, and initializing</translate>\n<\/script>\n')}]),angular.module("portalTemplates/admin/cases/list/cases.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/cases/list/cases.html",'<div id="case-list" class="container">\n  <h1 id="case-title">{{\'Cases\' | translate }}</h1>\n\n  <div>\n    <ul class="nav nav-tabs" role="tablist">\n      <li role="presentation" ng-repeat="caseState in casesStates" ng-class="{\'active\' : state.is(caseState.state)}"><a class="title" href="" bonita-href="{\'token\' : currentToken, \'_tab\' : caseState.tabName}" id="{{:: caseState.htmlAttributeId}}">{{:: caseState.title}}</a></li>\n    </ul>\n    <div ui-view=\'case-list\' id="case-list-tab-content"></div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/mapping/actors.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/mapping/actors.html",'<isteven-multi-select\n  input-model="actorsCtrl.members"\n  output-model="actorsCtrl.selectedMembers.list"\n  button-label="buttonLabel"\n  item-label="listLabel"\n  helper-elements="all filter reset none"\n  tick-property="selected"\n  max-labels="5"\n  max-height="200px"\n  translation="localLang"\n  on-search-change="actorsCtrl.searchWithDebounce(data)"\n  search-property="contentToSearch"\n  on-clear="actorsCtrl.search({})"\n  on-reset="actorsCtrl.search({})"\n  selection-mode="{{actorsCtrl.selectionMode}}"></isteven-multi-select>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/business-card/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/business-card/index.html",'<h2 class="SubHeading" translate>Business card</h2>\n<bo-card\n    class="UserCard"\n    card-data="vm.user.professional_data"\n    on-save="vm.saveBusinessCard"\n    button-text="{{ \'Update business card\' | translate}}">\n</bo-card>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/card.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/card.html",'<form class="form-horizontal col-lg-9">\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="address" translate>Address</label>\n        <div class="col-md-9">\n            <input class="form-control" type="text" id="address" ng-model="vm.cardData.address">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="city" translate>City</label>\n        <div class="col-md-9">\n            <input class="form-control" type="text" id="city" ng-model="vm.cardData.city">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="country" translate>Country</label>\n        <div class="col-md-9">\n            <input class="form-control" type="text" id="country" ng-model="vm.cardData.country">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="zipcode" translate>Zip code</label>\n        <div class="col-md-9">\n            <input class="form-control" type="text" id="zipcode" ng-model="vm.cardData.zipcode">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="state" translate>State</label>\n        <div class="col-md-9">\n            <input class="form-control" type="text" id="state" ng-model="vm.cardData.state">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="email" translate>Email</label>\n        <div class="col-md-9">\n            <input class="form-control" type="email" id="email" ng-model="vm.cardData.email">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="phone_number" translate>Phone</label>\n        <div class="col-md-9">\n            <input class="form-control" type="tel" id="phone_number" ng-model="vm.cardData.phone_number">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="mobile_number" translate>Mobile</label>\n        <div class="col-md-9">\n            <input class="form-control" type="tel" id="mobile_number" ng-model="vm.cardData.mobile_number">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <div class="col-md-offset-3 col-md-9">\n            <button class="btn btn-primary" ng-click="vm.save(vm.cardData)">{{ vm.buttonText }}</button>\n        </div>\n    </div>\n</form>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/custom-information/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/custom-information/index.html",'<h2 class="SubHeading" translate>Custom information</h2>\n<form class="form-horizontal col-lg-9">\n\n    <div ng-if="vm.hasCustomInfo()">\n        <div ng-repeat="info in vm.customInformation" class="form-group">\n            <label class="col-md-3 control-label">{{info.definitionId.name}}</label>\n            <div class="col-md-9">\n                <input type="text" ng-model="info.value" class="form-control">\n                <p class="help-block" ng-if="info.definitionId.description">\n                    {{info.definitionId.description}}\n                </p>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-md-offset-3 col-md-9">\n                <button class="btn btn-primary"\n                        ng-click="vm.saveCustomInfo(vm.customInformation)"\n                        translate>\n                    Update custom information\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <div ng-if="!vm.hasCustomInfo()">\n        <p translate>No custom information defined.</p>\n        <div class="CustomInformation-guidance">\n            <translate>You can create custom information in Bonita Studio:</translate>\n            <ul>\n                <li translate>\n                    In the menu <i>Organization > Manage</i>, go to the <i>Users</i> page of the wizard\n                </li>\n                <li translate>\n                    Select the <i>User information management</i> tab to add <i>Custom information</i> on the right\n                </li>\n            </ul>\n            <translate>\n                Then for each user, fill out the custom information value, in the Studio (<i>List of users</i> tab of\n                the organization), or right on this Portal page.\n            </translate>\n        </div>\n    </div>\n</form>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/general/avatar-upload.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/general/avatar-upload.html",'<div class="AvatarUpload">\n    <div class="AvatarUpload-preview"\n         ng-class="{\'AvatarUpload-preview--busy\': vm.uploader.isUploading, \'AvatarUpload-preview--default\': !vm.hasIcon()}">\n        <img ng-if="vm.hasIcon()"\n             class="img-rounded img-responsive"\n             alt="avatar"\n             ng-src="{{vm.iconSrc}}">\n    </div>\n    <div class="AvatarUpload-btn">\n        <label class="btn btn-default btn-xs"\n               ng-class="{ \'disabled\': vm.uploader.isUploading }">\n            <translate>Upload new picture</translate>\n            <input type="file"\n                   nv-file-select\n                   uploader="vm.uploader"\n                   ng-disabled="vm.uploader.isUploading"\n                   accept="image/*"\n            />\n        </label>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/general/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/general/index.html",'<h3 class="SubHeading">General information</h3>\n\n<form class="form-horizontal">\n\n    <div class="col-md-9">\n        <div class="UserMetadata col-md-offset-2">\n            <dl>\n                <dt translate>Last login</dt>\n                <dd>{{ vm.user.last_connection | moment:\'LLL\' }}</dd>\n            </dl>\n            <dl>\n                <dt translate>Creation date</dt>\n                <dd>{{ vm.user.creation_date | moment:\'LLL\' }}</dd>\n            </dl>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" for="title" translate>Title</label>\n            <div class="col-md-9">\n                <input class="form-control" type="text" id="title" ng-model="vm.user.title">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" for="firstname" translate>First name</label>\n            <div class="col-md-9">\n                <input class="form-control" type="text" id="firstname" ng-model="vm.user.firstname">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" for="lastname" translate>Last name</label>\n            <div class="col-md-9">\n                <input class="form-control" type="text" id="lastname" ng-model="vm.user.lastname">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" for="username" translate>Username</label>\n            <div class="col-md-9">\n                <input class="form-control" type="text" id="username" ng-model="vm.user.userName">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" for="jobtitle" translate>Job title</label>\n            <div class="col-md-9">\n                <input class="form-control" type="text" id="jobtitle" ng-model="vm.user.job_title">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" translate>Manager</label>\n            <div class="col-md-9">\n                <bo-manager-field\n                       selected="vm.user.manager_id"\n                       on-type="vm.searchManagers">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <div class="col-md-offset-3 col-md-9">\n                <button class="btn btn-primary" ng-click="vm.saveGeneralInformation(vm.user)" translate>\n                    Update general information\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <div class="col-md-3">\n        <bo-avatar-upload icon-src="vm.user.icon" uploader="vm.uploader"></bo-avatar-upload>\n    </div>\n\n</form>\n\n')}]),angular.module("portalTemplates/admin/organisation/users/details/general/manager-field.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/general/manager-field.html",'<input type="text"\n       class="form-control"\n       ng-model="vm.manager"\n       typeahead="manager as vm.formatLabel(manager) for manager in vm.searchManagers($viewValue)"\n       typeahead-input-formatter="vm.formatLabel($model)"\n       ng-model-options="{ debounce: 200 }"\n       autocomplete="off">\n')}]),angular.module("portalTemplates/admin/organisation/users/details/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/index.html",'<div class="page">\n    <div class="col-xs-12 ToolBar">\n        <a class="btn btn-default" ng-click="vm.goBack()" translate>Back</a>\n    </div>\n\n    <div class="col-xs-12 UserTitle">\n        <h1>{{vm.user.title}} {{vm.user.firstname}} {{vm.user.lastname}}</h1>\n    </div>\n\n    <div class="col-sm-3 col-md-3 col-lg-3">\n        <div class="list-group">\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.general"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                General information\n            </a>\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.password"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                Password\n            </a>\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.profiles"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                Profiles / Memberships\n            </a>\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.businessCard"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                Business card\n            </a>\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.personalInfo"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                Personal information\n            </a>\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.customInfo"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                Custom information\n            </a>\n        </div>\n    </div>\n\n    <div class="UserDetails col-sm-9 col-md-9 col-lg-9">\n        <ui-view></ui-view>\n    </div>\n\n</div>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/password/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/password/index.html",'<h2 class="SubHeading" translate>Password</h2>\n<bo-password on-update="vm.updatePassword" errors="vm.errors"></bo-password>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/password/password.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/password/password.html",'<form name="passwordForm" class="form-horizontal col-lg-9">\n    <div class="form-group" ng-class="{\'has-error\': vm.errors.length > 0}">\n        <label class="col-md-3 control-label" for="password" translate>New Password</label>\n        <div class="col-md-9">\n            <input class="form-control"\n                   type="password"\n                   name="newPassword"\n                   id="password"\n                   ng-model="vm.password.new"\n                   ng-change="vm.resetValidity()"\n                   required>\n            <span ng-if="vm.errors.length > 0" class="help-block" ng-repeat="error in vm.errors">{{error}}</span>\n        </div>\n    </div>\n\n    <div class="form-group" ng-class="{\'has-error\': vm.invalid}">\n        <label class="col-md-3 control-label" for="confirm" translate>Confirm new Password</label>\n        <div class="col-md-9">\n            <input class="form-control"\n                   type="password"\n                   id="confirm"\n                   ng-model="vm.password.confirm"\n                   ng-change="vm.resetValidity()"\n                   required>\n            <span ng-if="vm.invalid" class="help-block" translate>Passwords don\'t match</span>\n        </div>\n    </div>\n\n    <div class="form-group">\n        <div class="col-md-offset-3 col-md-9">\n            <button class="btn btn-primary" ng-click="vm.update(vm.password)" translate>Update password</button>\n        </div>\n    </div>\n</form>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/personal-information/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/personal-information/index.html",'<h2 class="SubHeading" translate>Personal information</h2>\n<bo-card\n    class="UserCard"\n    card-data="vm.user.personnal_data"\n    on-save="vm.savePersonalInformation"\n    button-text="{{ \'Update personal information\' | translate }}">\n</bo-card>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/profiles/add-membership-popup.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/profiles/add-membership-popup.html",'<div>\n\n    <div class="modal-header">\n        <h1 class="modal-title" translate>Add membership</h1>\n    </div>\n\n    <div class="modal-body">\n\n        <actors-select-box\n            local-lang="vm.localeLangRole"\n            selected-members="vm.membership.role"\n            already-mapped-actors-ids="vm.mappedIds"\n            type="ROLE" selection-mode="single">\n        </actors-select-box>\n\n        <span style="clear:both">{{\' of \' | translate }}</span>\n\n        <actors-select-box local-lang="vm.localeLangGroup"\n                           selected-members="vm.membership.group"\n                           already-mapped-actors-ids="vm.mappedIds"\n                           type="GROUP" selection-mode="single">\n        </actors-select-box>\n    </div>\n\n    <div class="modal-footer">\n        <button class="btn btn-primary"\n                ng-click="this.$close(vm.mapMembershipObject(vm.membership))"\n                ng-disabled="!vm.isButtonEnabled()"\n                translate>\n            Add\n        </button>\n        <button class="btn btn-default"\n                ng-click="this.$dismiss()"\n                translate>\n            Cancel\n        </button>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/profiles/delete-membership-popup.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/profiles/delete-membership-popup.html",'<div>\n    <div class="modal-header">\n        <h1 class="modal-title" translate>Delete membership</h1>\n    </div>\n\n    <div class="modal-body" translate>\n        Are you sure you want to delete this membership ?\n    </div>\n\n    <div class="modal-footer">\n        <a class="btn btn-primary"\n           ng-click="this.$close(vm.membership)"\n           translate>\n            Delete\n        </a>\n        <a class="btn btn-default"\n           ng-click="this.$dismiss()"\n           translate>\n            Cancel\n        </a>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/profiles/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/profiles/index.html",'<h2 class="SubHeading" translate>Profiles</h2>\n<table class="Profiles">\n    <tr ng-repeat="profile in vm.profiles">\n        <td>{{profile.name}}</td>\n    </tr>\n</table>\n\n<div class="memberships-title-section">\n    <h2 class="SubHeading" translate>Memberships</h2>\n    <span>\n        <button class="btn btn-primary AddMembershipsBtn"\n                ng-click="vm.openAddPopup()"> +\n        </button>\n    </span>\n</div>\n<table class="Memberships">\n    <tr ng-repeat="membership in vm.memberships">\n        <td translate>\n            {{membership.role_id.displayName}} of {{membership.group_id.displayName}}\n        </td>\n        <td>\n            <span class="glyphicon glyphicon-trash clickable"\n                  ng-click="vm.openDeletePopUp(membership)"></span>\n        </td>\n    </tr>\n</table>\n<div class="col-md-12">\n    <div class="pull-left" ng-if="vm.paginationMembership.total">\n        <pagination id="memberships-results-pages"\n                    ng-if="vm.paginationMembership.total > vm.paginationMembership.itemsPerPage" boundary-links="true"\n                    total-items="vm.paginationMembership.total"\n                    ng-click="vm.searchMemberships()"\n                    ng-model="vm.paginationMembership.currentPage"\n                    items-per-page="vm.paginationMembership.itemsPerPage " previous-text="&lsaquo;" next-text="&rsaquo;"\n                    first-text="&laquo;" last-text="&raquo;" max-size="5"></pagination>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/actors-mapping.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/actors-mapping.html","<div id=\"process-details-actors\">\n  <h2 class=\"SubHeading\">{{'Actors' | translate}}</h2>\n  <p>{{'Select the entities (users, groups, roles, memberships) to map to the actors. These entities will do the human tasks in the process.' | translate}}</p>\n    <p>{{'Check that each entity is mapped to a profile, for either Bonita Portal or for applications you have created.' | translate}} {{'To do so, go to' | translate}} <a href=\"\" bonita-href=\"profilelisting\">{{'Profiles' | translate}}</a>.</p>\n  <table class=\"table  actorMappingList\">\n    <thead>\n      <tr>\n        <th>{{'Actor name' | translate}}</th>\n        <th>{{'Users' | translate}}</th>\n        <th>{{'Roles' | translate}}</th>\n        <th>{{'Groups' | translate}}</th>\n        <th>{{'Memberships' | translate}}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat-start=\"actor in actorsMappingCtrl.actors\">\n        <td class=\"actorName\">{{actor.name}}</td>\n        <td class=\"members\">\n"+'          <span ng-repeat="user in actorsMappingCtrl.actorsMembers[actor.id].users.data" class="label label-default member">\n            {{user.user_id.firstname}} {{user.user_id.lastname}}\n          </span>\n          <span ng-if="actorsMappingCtrl.actorsMembers[actor.id].users.resource.pagination.total > actorsMappingCtrl.membersPerCell" class="label label-default member">{{\'{} more\' | translate | stringTemplater: actorsMappingCtrl.actorsMembers[actor.id].users.resource.pagination.total - actorsMappingCtrl.membersPerCell}}</span>\n        </td>\n        <td class="members">\n          <span ng-repeat="role in actorsMappingCtrl.actorsMembers[actor.id].roles.data" class="label label-default member">\n            {{role.role_id.displayName}}\n          </span>\n          <span ng-if="actorsMappingCtrl.actorsMembers[actor.id].roles.resource.pagination.total > actorsMappingCtrl.membersPerCell" class="label label-default member">{{\'{} more\'|translate}} | stringTemplater: actorsMappingCtrl.actorsMembers[actor.id].roles.resource.pagination.total - actorsMappingCtrl.membersPerCell</span>\n        </td>\n        <td class="members">\n          <span ng-repeat="group in actorsMappingCtrl.actorsMembers[actor.id].groups.data" class="label label-default member">\n            {{group.group_id.displayName}}\n          </span>\n          <span ng-if="actorsMappingCtrl.actorsMembers[actor.id].groups.resource.pagination.total > actorsMappingCtrl.membersPerCell" class="label label-default member">{{\'{} more\' | translate | stringTemplater: actorsMappingCtrl.actorsMembers[actor.id].groups.resource.pagination.total - actorsMappingCtrl.membersPerCell}}</span>\n        </td>\n        <td class="members">\n          <span ng-repeat="membership in actorsMappingCtrl.actorsMembers[actor.id].memberships.data" class="label label-default member">\n            {{\'{} of {}\' | translate | stringTemplater: [membership.role_id.displayName, membership.group_id.displayName]}}\n          </span>\n          <span ng-if="actorsMappingCtrl.actorsMembers[actor.id].memberships.resource.pagination.total > actorsMappingCtrl.membersPerCell" class="label label-default member">{{\'{} more\' | translate | stringTemplater: actorsMappingCtrl.actorsMembers[actor.id].memberships.resource.pagination.total - actorsMappingCtrl.membersPerCell}}</span>\n        </td>\n      </tr>\n      <tr ng-repeat-end class="mappingEdition-actions">\n        <td></td>\n        <td>\n          <div class="cellFooter pull-right">\n            <button ng-click="actorsMappingCtrl.editMapping(actor, \'users\')" class="btn btn-primary">\n              <span class="glyphicon" ng-class="{\'glyphicon-pencil\': actorsMappingCtrl.actorsMembers[actor.id].users.data.length, \'glyphicon-plus\': !actorsMappingCtrl.actorsMembers[actor.id].users.data.length}"></span>\n            </button>\n          </div>\n        </td>\n        <td>\n           <div class="cellFooter pull-right">\n            <button ng-click="actorsMappingCtrl.editMapping(actor, \'roles\')" class="btn btn-primary">\n              <span class="glyphicon" ng-class="{\'glyphicon-pencil\': actorsMappingCtrl.actorsMembers[actor.id].roles.data.length, \'glyphicon-plus\': !actorsMappingCtrl.actorsMembers[actor.id].roles.data.length}"></span>\n            </button>\n          </div>\n        </td>\n        <td>\n           <div class="cellFooter pull-right">\n            <button ng-click="actorsMappingCtrl.editMapping(actor, \'groups\')" class="btn btn-primary">\n              <span class="glyphicon" ng-class="{\'glyphicon-pencil\': actorsMappingCtrl.actorsMembers[actor.id].groups.data.length, \'glyphicon-plus\': !actorsMappingCtrl.actorsMembers[actor.id].groups.data.length}"></span>\n            </button>\n          </div>\n        </td>\n        <td>\n          <div class="cellFooter pull-right">\n            <button ng-click="actorsMappingCtrl.editMapping(actor, \'memberships\')" class="btn btn-primary">\n              <span class="glyphicon" ng-class="{\'glyphicon-pencil\': actorsMappingCtrl.actorsMembers[actor.id].memberships.data.length, \'glyphicon-plus\': !actorsMappingCtrl.actorsMembers[actor.id].memberships.data.length}"></span>\n            </button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/delete-process-modal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/delete-process-modal.html",'<div id="delete-process-modal">\n    <div class="modal-header header">\n        <h3 class="modal-title">{{\'Delete process\'| translate }}</h3>\n    </div>\n    <div class="modal-body body">\n      <p class="text-muted">{{ \'Delete the process\' | translate }} {{deleteProcessModalInstanceCtrl.process.name}}</p>\n    </div>\n    <div class="modal-footer">\n        <button  class="start-for btn btn-primary"\n                 ng-disabled="deleteProcessModalInstanceCtrl.processing"\n                 ng-click="deleteProcessModalInstanceCtrl.delete()">\n            {{ \'Delete\' | translate }}\n        </button>\n        <button class="btn btn-default close_popup"\n                ng-disabled="deleteProcessModalInstanceCtrl.processing"\n                ng-click="deleteProcessModalInstanceCtrl.cancel()">\n            {{ \'Cancel\' | translate }}\n        </button>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/edit-actor-members.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/edit-actor-members.html",'<div id="editActorsMembersModal" ng-init="editActorMembersCtrl.initView()" class="process-details">\n\n    <div class="modal-header">\n        <h1 class="modal-title">{{editActorMembersCtrl.title | translate | stringTemplater:[editActorMembersCtrl.actor.displayName]}}</h1>\n    </div>\n    <div class="modal-body">\n        <h2>{{\'{} mapped\' | translate | stringTemplater:[editActorMembersCtrl.currentMemberLabel]}}</h2>\n        <p class="members">\n      <span ng-repeat="member in editActorMembersCtrl.members" class="tag label label-default member">\n          {{member.label}} <i ng-click="editActorMembersCtrl.removeMember(member)" class="glyphicon glyphicon-remove"></i>\n      </span>\n            <span ng-click="editActorMembersCtrl.removeAll()" class="tag label label-danger" ng-if="!!editActorMembersCtrl.members.length"> {{\'Remove all\' | translate}}</span>\n        </p>\n        <p class="text-muted" ng-if="!editActorMembersCtrl.members.length">\n            {{\'No mapping\' | translate}}\n        </p>\n        <div ng-if="!editActorMembersCtrl.isMembershipEdit()">\n            <h3>{{\'Add\' | translate}}</h3>\n            <p>\n                <actors-select-box local-lang="editActorMembersCtrl.localLang"\n                                   selected-members="editActorMembersCtrl.newMembers"\n                                   already-mapped-actors-ids="editActorMembersCtrl.mappedIds"\n                                   type="{{editActorMembersCtrl.memberType}}"></actors-select-box>\n            </p>\n        </div>\n        <div ng-if="editActorMembersCtrl.isMembershipEdit()">\n            <h3>{{\'Create a new membership\' | translate}}</h3>\n            <p>\n                <actors-select-box local-lang="editActorMembersCtrl.localLangRole"\n                                   selected-members="editActorMembersCtrl.newMembers.membership.role"\n                                   already-mapped-actors-ids="editActorMembersCtrl.mappedIds"\n                                   type="ROLE" selection-mode="single"></actors-select-box>\n                <span style="clear:both">{{\' of \' | translate }}</span>\n                <actors-select-box local-lang="editActorMembersCtrl.localLangGroup"\n                                   selected-members="editActorMembersCtrl.newMembers.membership.group"\n                                   already-mapped-actors-ids="editActorMembersCtrl.mappedIds"\n                                   type="GROUP" selection-mode="single"></actors-select-box>\n            </p>\n        </div>\n        <div ng-if="!!editActorMembersCtrl.membersToDelete.length">\n            <h3>{{\'{} mappings to delete\' | translate | stringTemplater:[editActorMembersCtrl.currentMemberLabel]}}</h3>\n            <p class="members">\n        <span ng-repeat="member in editActorMembersCtrl.membersToDelete" class="member label label-default">\n          {{member.label}} <i ng-click="editActorMembersCtrl.reenableMember(member)" class="glyphicon glyphicon-remove"></i>\n        </span>\n                <span ng-click="editActorMembersCtrl.reenableAll()" class="label label-success" ng-if="editActorMembersCtrl.membersToDelete.length>0"> {{\'Enable all\' | translate}}</span>\n            </p>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <a ng-if="editActorMembersCtrl.hasModificationToApply()" class="btn btn-primary" ng-click="editActorMembersCtrl.apply()">{{\'Apply\' | translate }}</a>\n        <a ng-click="editActorMembersCtrl.cancel()" class="btn btn-default">{{\'Cancel\'|translate}}</a>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/information.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/information.html",'<div id="process-details-information">\n  <h2 class="SubHeading">{{\'General\' | translate}}</h2>\n  <div class="panel panel-default">\n    <div class="panel-body">\n      <div class="col-md-12 row">\n        <div class="metatags-label form-group">{{ \'Configuration state\' | translate}}\n          <b>{{::processInformationCtrl.process.configurationState}}</b>\n        </div>\n        <div class="metatags-label  form-group">\n          {{ \'Activation state\' | translate}}&nbsp;\n              <toggle-button on="Enabled" off="Disabled" process-id="{{::processInformationCtrl.process.id}}" initial-state="{{::processInformationCtrl.process.activationState === \'ENABLED\'}}" enable-toggle="processInformationCtrl.isProcessResolved()"></toggle-button>\n        </div>\n        <div class="metatags-label form-group">\n            {{ \'Updated on\' | translate}}\n            <b >{{::processInformationCtrl.parseAndFormat(processInformationCtrl.process.last_update_date)}}</b>\n        </div>\n      </div>\n      <div class="col-md-12 row">\n\n        <p ng-if="processInformationCtrl.process.description" >{{processInformationCtrl.process.description}}</p>\n        <p class="text-muted" ng-if="!processInformationCtrl.process.description" >{{\'No description.\' | translate}}</p>\n      </div>\n      <div class="col-md-12 row">\n        <div class="col-md-12 row categories">\n          <div class="col-md-2 row metatags-label">\n          {{\'Categories\' | translate}} <button class="btn btn-primary" ng-click="processInformationCtrl.openProcessCategoryManagementModal()"><span class="glyphicon glyphicon-pencil"></span></button>\n          </div>\n          <div class="col-md-10 bootstrap-tags">\n            <bonitags tags-suggestion="processInformationCtrl.categories" tags-selection="processInformationCtrl.selectedCategories" read-only></bonitags>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div ng-if="processInformationCtrl.process.id">\n  <monitoring-status process=\'processInformationCtrl.process\'></monitoring-status>\n\n  <process-manager-mapping process=\'processInformationCtrl.process\'></process-manager-mapping>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/manage-category-mapping-modal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/manage-category-mapping-modal.html",'<div id="manage-categories-modal" class="process-details">\n    <div class="modal-header header">\n        <h3 class="modal-title">{{\'Manage Categories\'| translate }}</h3>\n    </div>\n    <div class="modal-body body">\n        <bonitags tags-suggestion="manageCategoryMappingInstanceCtrl.tags" tags-selection="manageCategoryMappingInstanceCtrl.selectedTags" tag-class="label-default editable"></bonitags>\n    <hr>\n        {{\'Use Arrow up and Arrow down keys to browse among existing categories.\' | translate}} <br>\n        {{\'Enter a new category name and press "Enter" key to create a new category and assign it to the current process.\' | translate}}\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-primary" ng-click="manageCategoryMappingInstanceCtrl.updateCategories()">{{ \'Save\' | translate }}</button>\n        <button class="btn btn-default close_popup" ng-click="manageCategoryMappingInstanceCtrl.cancel()">{{ \'Cancel\' | translate }}</button>\n    </div>\n\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/menu.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/menu.html",'<div id="process-details" class="process-details">\n  <div class="col-md-12 actions">\n    <div class="col-md-2">\n        <a id="processDetails-back" class="btn btn-default" ng-click="processMenuCtrl.goBack()">{{\'Back\' | translate}}</a>\n    </div>\n    <div class="col-md-10 text-right">\n      <start-for process="processMenuCtrl.process"></start-for>&nbsp;\n      <button id="processDetails-deleteProcess"\n              type="button"\n              class="btn btn-default"\n              ng-disabled="processMenuCtrl.process.activationState === \'ENABLED\'"\n              ng-click="processMenuCtrl.deleteProcess()">\n          {{\'Delete\' | translate}}\n      </button>\n    </div>\n  </div>\n  <div class="col-md-12">\n    <h1>{{processMenuCtrl.process.displayName}} ({{processMenuCtrl.process.version}})</h1>\n  </div>\n  <div class="col-md-12" style="padding-top: 10px;">\n    <div ng-if="processMenuCtrl.processResolutionProblems.length" style=" padding-bottom: 0px;" class="panel panel-danger slide">\n      <div class="panel-heading"><span class="glyphicon glyphicon-exclamation-sign"></span> {{ \'The Process cannot be enabled\' | translate }}</div>\n      <div class="panel-body">\n        <div class="col-md-12">\n          <ul>\n            <li ng-repeat="problem in processMenuCtrl.processResolutionProblems">\n              {{problem.message | translate | stringTemplater: problem.args}}\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="col-sm-3 col-md-3 col-lg-2">\n    <div class="list-group">\n      <a class="list-group-item" ng-repeat="item in processMenuCtrl.menuContent" ng-class="{active: processMenuCtrl.includesCurrentState(item.state) }" ui-sref="{{item.defaultDestinationState || item.state}}" ui-sref-opts="{location:false}">{{item.name | translate}}<span ng-if="processMenuCtrl.hasResolutionProblem(item.resolutionLabel)" ng-class="{\'text-danger\': !processMenuCtrl.includesCurrentState(item.state) }" class="glyphicon glyphicon-exclamation-sign"></span> </a>\n    </div>\n  </div>\n  <div class="col-sm-9 col-md-9 col-lg-10">\n    <div class="col-md-12">\n      <ui-view></ui-view>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/params.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/params.html",'<div id="process-details-params">\n  <h2 class="SubHeading">{{\'Parameters\' | translate}}</h2>\n  <div ng-if="!processParamsCtrl.parameters.length">\n    {{ \'The current process has no parameters defined.\' | translate}}\n  </div>\n  <div ng-if="!!processParamsCtrl.parameters.length">\n    <table class="table table-striped">\n        <thead>\n            <tr>\n                <th>{{\'Name\' | translate}}</th>\n                <th>{{\'Description\' | translate}}</th>\n                <th>{{\'Type\' | translate}}</th>\n                <th>{{\'Value\' | translate}}</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="parameter in processParamsCtrl.parameters">\n              <td>{{parameter.name}}</td>\n              <td>{{parameter.description}}</td>\n              <td>{{parameter.type}}</td>\n              <td ng-if="!processParamsCtrl.showActions">{{parameter.value}}</td>\n              <td ng-if="processParamsCtrl.showActions" class="xeditable">\n                <div ng-switch="parameter.type">\n                  <div ng-switch-when="java.lang.Boolean" class="form-group">\n                    <a href="" editable-select="parameter.value" onbeforesave="processParamsCtrl.updateParameter(parameter, $data)"  e-ng-options="s.value as s.value for s in processParamsCtrl.booleanValues">{{ parameter.value || \'No Value\' | translate}}</a>\n                  </div>\n                  <div ng-switch-default class="form-group">\n                    <a href="" editable-text="parameter.value" e-style="width: 400px;" onbeforesave="processParamsCtrl.updateParameter(parameter, $data)" >{{ parameter.value || \'No Value\' | translate}}</a>\n                  </div>\n                </div>\n              </td>\n            </tr>\n        </tbody>\n    </table>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/process-connectors.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/process-connectors.html",'<div id="process-details-connectors">\n  <h2 class="SubHeading">{{\'Connectors\' | translate}}</h2>\n  <div ng-if="!processConnectorsCtrl.processConnectors.length">\n    {{ \'The current process has no connectors defined.\' | translate}}\n  </div>\n  <div ng-if="!!processConnectorsCtrl.processConnectors.length">\n    <table class="table table-hover processConnectorsList">\n      <thead>\n        <tr data-headers>\n          <th>{{\'Type\' | translate}}</th>\n          <th>{{\'Implementation version\' | translate}}</th>\n          <th>{{\'Class name\' | translate}}</th>\n          <th ng-if="processConnectorsCtrl.showActions">{{\'Actions\' | translate}}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="processConnector in processConnectorsCtrl.processConnectors">\n          <td>{{processConnector.definition_id}}</td>\n          <td>{{processConnector.impl_version}}</td>\n          <td>{{processConnector.classname}}</td>\n          <td ng-if="processConnectorsCtrl.showActions"><edit-process-connector-implementation-link process-connector="processConnector" process="processConnectorsCtrl.process"></edit-process-connector-implementation-link></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/user/cases/list/archived-cases-list-filters.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/cases/list/archived-cases-list-filters.html",'<div id="case-filters" class="panel panel-default">\n\n  <div class="panel-heading title">{{ \'Filters\' | translate }}</div>\n  <div class="panel-body">\n    <div class="col-md-3 button-filter"> {{ \'Process name\' | translate }}\n      <div class="btn-group" dropdown id="case-app-name-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle ">{{selectedFilters.selectedApp | translate}}<span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterUserCtrl.selectApp(defaultUserFilters.appName)"><a>{{defaultUserFilters.appName | translate}}</a></li>\n          <li ng-if="appNames &amp;&amp; appNames.length>0" class="divider"></li>\n          <li ng-repeat="appName in appNames" ng-click="filterUserCtrl.selectApp(appName)"><a>{{appName}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">{{\'Started by\' | translate}}\n      <div class="btn-group" dropdown id="case-app-startedby-filter">\n          <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle">{{caseStatesUserValues[selectedFilters.selectedStartedBy] | translate}} <span class="caret"></span></button>\n          <ul class="dropdown-menu" role="menu">\n              <li ng-click="filterUserCtrl.selectCaseStartedBy(defaultUserFilters.startedBy)"><a>{{defaultUserFilters.startedBy | translate}}</a></li>\n              <li class="divider"></li>\n              <li ng-click="filterUserCtrl.selectCaseStartedBy(\'Me\')"><a>{{\'Me\' | translate}}</a></li>\n          </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">\n    </div>\n    <div class="col-md-3 button-filter">\n      <form role="form" name="searchForm" novalidate ng-submit="filterUserCtrl.submitSearch()">\n          <div class="input-group">\n            <input type="text" class="form-control" ng-model="selectedFilters.currentSearch" name="searchField" id="case-list-search" placeholder="{{ \'Search...\' | translate }}">\n            <span ng-click="filterUserCtrl.submitSearch()" class="input-group-addon pointer"><span class="glyphicon glyphicon-search"></span></span>\n          </div>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/user/cases/list/cases-list-filters.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/cases/list/cases-list-filters.html",'<div id="case-filters" class="panel panel-default">\n  <div class="panel-heading title">{{\'Filters\' | translate}}</div>\n  <div class="panel-body">\n    <div class="col-md-3 button-filter">{{\'Process name\' | translate}}\n      <div class="btn-group" dropdown id="case-app-name-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle">{{selectedFilters.selectedApp | translate}}<span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterUserCtrl.selectApp(defaultUserFilters.appName)"><a>{{defaultUserFilters.appName | translate}}</a></li>\n          <li ng-if="appNames &amp;&amp; appNames.length>0" class="divider"></li>\n          <li ng-repeat="appName in appNames" ng-click="filterUserCtrl.selectApp(appName)"><a>{{appName}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">{{\'Started by\' | translate}}\n      <div class="btn-group" dropdown id="case-app-startedby-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle">{{caseStatesUserValues[selectedFilters.selectedStartedBy] | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterUserCtrl.selectCaseStartedBy(defaultUserFilters.startedBy)"><a>{{defaultUserFilters.startedBy | translate}}</a></li>\n          <li class="divider"></li>\n          <li ng-click="filterUserCtrl.selectCaseStartedBy(\'Me\')"><a>{{\'Me\' | translate}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3" style="float:right">\n      <form role="form" name="searchForm" novalidate ng-submit="filterUserCtrl.submitSearch()">\n        <div class="input-group">\n          <input type="text" class="form-control" ng-model="selectedFilters.currentSearch" name="searchField" id="case-list-search" placeholder="{{ \'Search...\' | translate }}">\n          <span ng-click="filterUserCtrl.submitSearch()" class="input-group-addon pointer"><span class="glyphicon glyphicon-search"></span></span>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/user/cases/list/cases-list.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/cases/list/cases-list.html",'<div>\n\n  <div ng-switch on="archivedTabName">\n    <archived-case-user-filters ng-switch-when="true"> </archived-case-user-filters>\n    <active-case-user-filters ng-switch-default> </active-case-user-filters>\n  </div>\n  <div class="panel panel-default">\n\n    <div class="panel-heading title">{{ \'Case list\' | translate }}  <span ng-click="caseUserCtrl.reinitCases()" tooltip="{{ \'Refresh\' | translate}}" tooltip-animation="false" tooltip-popup-delay="300" class="case-list-refresh glyphicon glyphicon-repeat"></span></div>\n    <div class="panel-body">\n        <div ng-show="cases.length">\n        <div class="col-md-12">\n          <table ng-if="!archivedTabName" bonitable bo-storable="user-cases-list" on-storage-loaded="caseUserCtrl.loadContent()" bo-repeatable  on-sort="caseUserCtrl.updateSortField(sortOptions)" sort-options="sortOptions" resizable-column="$columns" resize-selector="tr th.case-column" class="table table-striped table-hover table-responsive">\n            <thead>\n              <tr>\n                <th colspan="{{$columns.length+2}}">\n                  <div class="pull-right table-buttons">\n                    <table-settings class="pull-right" page-size="pagination.itemsPerPage" sizes="pageSizes" columns="$columns" update-page-size="caseUserCtrl.changeItemPerPage(size)"></table-settings>\n                    <span  ng-if="pagination.total" id="cases-results-size-top" class="pull-right">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n                  </div>\n                </th>\n              </tr>\n              <tr data-headers>\n                <th class="text-right case-column" bo-sorter="id" bo-sorter-title-asc="{{\'sort by ID ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by ID descending\' | translate}}">{{\'ID\' | translate}}</th>\n                <th class="case-column" bo-sorter="name" bo-sorter-title-asc="{{\'sort by Process name ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Process name descending\' | translate}}">{{\'Process name\' | translate}}</th>\n                <th class="case-column" visible="false">{{\'Version\' | translate}}</th>\n                <th bo-sorter="startDate" class="case-column" bo-sorter-title-asc="{{\'sort by Start date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Start date descending\' | translate}}">{{\'Start date\' | translate}}</th>\n                <th class="case-column">{{\'Started by\' | translate}}</th>\n                <th class="text-right case-column">{{\'Available tasks\' | translate}}</th>\n                <th bo-sorter="index1" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()"><span id="infoPopover" class="glyphicon glyphicon-info-sign" popover="{{\'To personalize the display of search keys (and columns in general), use the table settings button on the right. You can search on up to 5 search keys.\' | translate}}" popover-trigger="mouseenter"></span> {{\'Search Key 1\' | translate}}</th>\n                <th bo-sorter="index2" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 2\' | translate}}</th>\n                <th bo-sorter="index3" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 3\' | translate}}</th>\n                <th bo-sorter="index4" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 4\' | translate}}</th>\n                <th bo-sorter="index5" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 5\' | translate}}</th>\n                <th data-ignore class="text-center">{{\'Actions\' | translate}}</th>\n\n              </tr>\n            </thead>\n            <tbody>\n\n            <tr ng-repeat="case in cases" id="caseId-{{::case.id}}" class="case-row" ng-class="{\'info\' : case.selected}">\n              <td class="text-right case-detail">\n                  <a id="case-detail-link-{{case.id}}"\n                     bonita-href="{ token: \'casemoredetails\', id: case.id, prependToken: false }"\n                     href="">\n                      {{case[\'ID\']}}\n                  </a>\n              </td>\n              <td class="case-detail">{{::case[\'Process name\']}}</td>\n              <td class="case-detail">{{::case[\'Version\']}}</td>\n              <td class="case-detail">{{::caseUserCtrl.parseAndFormat(case[\'Start date\'])}}</td>\n              <td class="case-detail" title="{{\'username:\' | translate}} {{::case[\'Started by\'] || (\'System\' | translate)}}">{{::case[\'Started by fullname\'] || (\'System\' | translate)}}</td>\n              <td class="case-detail text-right">\n                <a ng-if="case[\'Available tasks\'] > 0"\n                   id="task-list-btn-{{::case.id}}"\n                   bonita-href="{ token: \'tasklistinguser\', case: case.ID, prependToken: false }"\n                   tooltip="{{\'Show available tasks in task list for case\' | translate }} {{::case.id}}"\n                   tooltip-popup-delay="500"\n                   tooltip-animation="false"\n                   tooltip-append-to-body="true"\n                   href=""\n                   class="open-link">\n                  {{::case[\'Available tasks\']}}\n                </a>\n                <span ng-if="case[\'Available tasks\'] === 0">0</span>\n              </td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="1"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="2"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="3"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="4"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="5"></search-index></td>\n              <td class="case-link text-center">\n                <a id="case-overview-btn-{{::case.id}}"\n                   tooltip="{{\'View case overview\' | translate }}"\n                   tooltip-popup-delay="500" tooltip-animation="false"\n                   href=""\n                   bonita-href="{ token: \'DisplayCaseForm\', name: case.processDefinitionId.name, version: case.processDefinitionId.version, processDefinitionId: case.processDefinitionId.id, id: case.id, prependToken: false }"\n                   class="open-link">\n                  <span class="glyphicon glyphicon-eye-open"></span>\n                </a>\n                <a id="task-list-btn-{{::case.id}}"\n                   tooltip="{{\'Show available tasks in task list for case\' | translate }} {{::case.ID}}"\n                   tooltip-popup-delay="500"\n                   tooltip-animation="false"\n                   tooltip-append-to-body="true"\n                   bonita-href="{ token: \'tasklistinguser\', case: case.ID, prependToken: false, filter: \'todo\' }"\n                   href=""\n                   class="open-link">\n                  <span class="glyphicon glyphicon-list"></span>\n                </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n\n          <table ng-if="archivedTabName" bonitable bo-storable="archived-user-cases-list" on-storage-loaded="caseUserCtrl.loadContent()" bo-repeatable on-sort="caseUserCtrl.updateSortField(sortOptions)" sort-options="sortOptions" resizable-column="$columns" resize-selector="tr th.case-column" class="table table-striped table-hover table-responsive">\n            <thead>\n              <tr>\n                <th colspan="{{$columns.length+2}}">\n                  <div class="pull-right table-buttons">\n                    <table-settings class="pull-right" page-size="pagination.itemsPerPage" sizes="pageSizes" columns="$columns"  update-page-size="caseUserCtrl.changeItemPerPage(size)"></table-settings>\n                       <span ng-if="pagination.total" id="cases-results-size-top" class="pull-right">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n                  </div>\n                </th>\n              </tr>\n              <tr data-headers>\n                <th class="text-right case-column" bo-sorter="sourceObjectId" bo-sorter-title-asc="{{\'sort by ID ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by ID descending\' | translate}}">{{\'ID\' | translate}}</th>\n                <th class="case-column" bo-sorter="name" bo-sorter-title-asc="{{\'sort by Process name ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Process name descending\' | translate}}">{{\'Process name\' | translate}}</th>\n                <th class="case-column" visible="false">{{\'Version\' | translate}}</th>\n                <th bo-sorter="startDate" class="case-column" bo-sorter-title-asc="{{\'sort by Start date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Start date descending\' | translate}}">{{\'Start date\' | translate}}</th>\n                <th class="case-column" >{{\'Started by\' | translate}}</th>\n                <th bo-sorter="endDate" class="case-column" bo-sorter-title-asc="{{\'sort by End date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by End date descending\' | translate}}">{{\'End date\' | translate}}</th>\n                <th bo-sorter="index1" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()"><span id="infoPopover" class="glyphicon glyphicon-info-sign" popover="{{\'To personalize the display of search keys (and columns in general), use the table settings button on the right. You can search on up to 5 search keys.\' | translate}}" popover-trigger="mouseenter"></span> {{\'Search Key 1\' | translate}}</th>\n                <th bo-sorter="index2" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 2\' | translate}}</th>\n                <th bo-sorter="index3" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 3\' | translate}}</th>\n                <th bo-sorter="index4" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 4\' | translate}}</th>\n                <th bo-sorter="index5" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 5\' | translate}}</th>\n\n                <th data-ignore class="text-center">{{\'Actions\' | translate}}</th>\n              </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="case in cases" id="caseId-{{::case.id}}" class="case-row" ng-class="{\'info\' : case.selected}">\n              <td class="case-detail text-right">\n                  <a id="case-detail-link-{{case.id}}"\n                     bonita-href="{ token: \'archivedcasemoredetails\', id: case.id, prependToken: false }"\n                     href="">\n                      {{case[\'ID\']}}\n                  </a>\n              </td>\n              <td class="case-detail">{{::case[\'Process name\']}}</td>\n              <td class="case-detail">{{::case[\'Version\']}}</td>\n              <td class="case-detail">{{::caseUserCtrl.parseAndFormat(case[\'Start date\'])}}</td>\n              <td class="case-detail" title="{{\'username:\' | translate}} {{::case[\'Started by\'] || (\'System\' | translate)}}">{{::case[\'Started by fullname\'] || (\'System\' | translate)}}</td>\n              <td class="case-detail">{{::caseUserCtrl.parseAndFormat(case[\'End date\'])}}</td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="1"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="2"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="3"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="4"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="5"></search-index></td>\n              <td class="case-link text-center">\n                <a id="case-overview-btn-{{::case.id}}"\n                  tooltip="{{\'View case overview\' | translate }}"\n                  tooltip-popup-delay="500" tooltip-animation="false"\n                  bonita-href="{ token: \'DisplayCaseForm\', name: case.processDefinitionId.name, version: case.processDefinitionId.version, processDefinitionId: case.processDefinitionId.id, id: case.id, sourceObjectId: case.sourceObjectId, prependToken: false }"\n                  href=""\n                  class="open-link">\n                  <span class="glyphicon glyphicon-eye-open"></span>\n                </a>\n                <a id="task-list-btn-{{::case.id}}"\n                   tooltip="{{\'Show available tasks in task list for archived case\' | translate }} {{::case.ID}}"\n                   tooltip-popup-delay="500"\n                   tooltip-animation="false"\n                   tooltip-append-to-body="true"\n                   bonita-href="{ token: \'tasklistinguser\', case: case.ID, prependToken: false, filter: \'done\' }"\n                   href=""\n                   class="open-link">\n                  <span class="glyphicon glyphicon-list"></span>\n                </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class="col-md-12">\n          <div class="pull-right" ng-if="pagination.total">\n            <span id="cases-results-size-bottom" class="pull-left">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n            <pagination id="cases-results-pages" ng-if="pagination.total > pagination.itemsPerPage" ng-click="caseUserCtrl.searchForCases()" boundary-links="true" total-items="pagination.total" ng-model="pagination.currentPage" items-per-page="pagination.itemsPerPage " previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" max-size="5"></pagination>\n           </div>\n        </div>\n      </div>\n      <div ng-show="loading">\n        <p class="text-muted"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>&nbsp;{{ \'Loading...\' | translate}}</p>\n      </div>\n      <div ng-show="!loading &amp;&amp; cases &amp;&amp; cases.length===0">\n        <p class="text-muted animated fadeIn">{{ \'No cases to display\' | translate }}</p>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/user/cases/list/cases.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/cases/list/cases.html",'<div id="case-list" class="container">\n  <h1 id="case-title">{{\'Cases\' | translate }}</h1>\n\n  <div>\n    <ul class="nav nav-tabs" role="tablist">\n      <li role="presentation" ng-repeat="caseState in casesStates" ng-class="{\'active\' : state.is(caseState.state)}"><a class="title" href="" bonita-href="{\'token\' : currentToken, \'_tab\' : caseState.tabName}" id="{{:: caseState.htmlAttributeId}}">{{:: caseState.title}}</a></li>\n    </ul>\n    <div ui-view=\'case-list\' id="case-list-tab-content"></div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/user/tasks/list/comments/comments.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/comments/comments.html",'<section class="Comments">\n    <header class="Comments-header" translate>\n        Case comments\n    </header>\n\n    <div class="Comments-content" scroll-bottom="vm.comments">\n        <div class="Comment" ng-repeat="comment in vm.comments">\n            <img class="Comment-icon" ng-src="../theme/{{comment.userId.icon}}" alt="Author" onerror="this.style.display=\'none\'"/>\n            <div class="Comment-header">\n                {{ comment.userId.firstname + \' \' + comment.userId.lastname }} <span class="text-muted">{{ comment.postDate | moment:\'lll\' }}</span>\n            </div>\n            <div class="Comment-content">{{ comment.content }}</div>\n        </div>\n        <div ng-if="vm.comments.length == 0" class="text-muted" translate>No comment on this case yet. To add one, use the input field at the bottom of this panel</div>\n    </div>\n\n    <footer class="Comments-footer">\n        <form name="CaseCommentsForm" class="CommentForm" ng-class="{ \'text-muted\': !vm.isCurrentCaseOpened() }" ng-submit="vm.addComment(vm.newComment)">\n        <div class="form-group" ng-class="{\'has-error\': CaseCommentsForm.$error.maxlength }">\n            <textarea id="comment" class="form-control"\n                      placeholder="{{ \'New comment\' | translate }}"\n                      ng-model="vm.newComment"\n                      ng-maxlength="255"\n                      ng-required="true"\n                      ng-disabled="!vm.isCurrentCaseOpened()">\n            </textarea>\n            <span class="help-block CommentForm-help" translate>Maximum size 255 characters</span>\n        </div>\n        <button type="submit" class="btn btn-default" ng-disabled="CaseCommentsForm.$invalid" translate>Add</button>\n        <span ng-if="!vm.isCurrentCaseOpened()" class="CommentForm-disabledMsg" translate>The case is archived. You cannot add comments anymore</span>\n    </form>\n    </footer>\n\n</section>\n')}]),angular.module("portalTemplates/user/tasks/list/common/directive/bonita-iframe-viewer.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/common/directive/bonita-iframe-viewer.html",'<div class="Viewer-wrapper">\n  <iframe\n    id="bonitaframe"\n    class="Viewer-frame"\n    seamless\n    width="100%" height="100%"\n    frameborder="0"></iframe>\n  <div class="Viewer-overlay" ng-if="!isEditable"></div>\n</div>\n')}]),angular.module("portalTemplates/user/tasks/list/details/task-details-modal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/details/task-details-modal.html",'<div class="modal-body">\n    <button type="button" class="pull-right close Modal-dismiss" title="{{ \'Close\' | translate }}" aria-label="{{ \'Close\' | translate }}" ng-click="modal.cancel()" >\n        <span>&times;</span>\n    </button>\n    <task-details current-task="modal.currentTask"\n                  refresh-count="modal.updateCount()">\n    </task-details>\n</div>\n<div class="modal-footer">\n    <button type="button" class="btn btn-primary" title="{{ \'Close\' | translate }}" ng-click="modal.cancel()" translate>Close</button>\n</div>\n')}]),angular.module("portalTemplates/user/tasks/list/details/task-details.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/details/task-details.html",'<div ng-if="showToolbar" class="pull-right TaskDetailsPanel-toolbar" role="group">\n    <button ng-if="!isEditable() && isAssignable()" class="Toolbar-button"\n            id="ButtonTakeDetails"\n            ng-click="onTakeReleaseTask()"\n            title="{{ \'Make this task personal: only I will be able to do it\' | translate }}">\n        <i class="icon-assigned"></i>\n        <span class="sr-only" translate>Take</span>\n    </button>\n    <button ng-if="isEditable() && isAssignable()" class="Toolbar-button"\n            id="ButtonReleaseDetails"\n            ng-click="onTakeReleaseTask()"\n            title="{{ \'Make this task available to other team members again\' | translate }}">\n        <i class="icon-unassigned"></i>\n        <span class="sr-only" translate>Release</span>\n    </button>\n\n    <button class="Toolbar-button Resize-full" ng-click="openDetailsPopup()"\n            title="{{ \'Open in a popup\' | translate }}">\n        <i class="glyphicon glyphicon-resize-full"></i>\n        <span class="sr-only" translate>Open in a popup</span>\n    </button>\n</div>\n\n<tabset class="TaskDetails">\n  <tab id="form-tab" heading="{{ \'Form\' | translate }}"\n       active="tab.form.active"\n       title="{{ \'Task form\' | translate }}"\n       select="selectTab(\'form\')">\n    <p class="alert alert-info TaskInfo" ng-if="hideForm()" translate>\n      This task is completed.\n    </p>\n\n    <div class="TaskForm" ng-if="!hideForm()">\n        <div class="FormOverlay-message" ng-if="!isEditable() && !isInactive()">\n            <p class="FormOverlay-text" translate>To fill out the form, you need to take this task. This means you will be the only one able to do it. To make it available to the team again, release it.</p>\n            <button id="ButtonTakeDetailsOverlay"\n                    class="FormOverlay-button btn btn-primary btn-sm"\n                    ng-click="onTakeReleaseTask()"\n                    title="{{ \'Assign to me. Only I will be able to do it\' | translate }}">\n                <i class="icon-assigned">&nbsp;</i>\n                <translate>Take</translate>\n            </button>\n        </div>\n      <bonita-iframe-viewer class="FormViewer"\n                            tabindex="0"\n                            ng-if="!isInactive() && hasForm && !loading"\n                            is-editable="isEditable()"\n                            frame-url="formUrl">\n      </bonita-iframe-viewer>\n      <no-form class="FormViewer"\n               ng-if="!hasForm && !loading"\n               current-task="currentTask"\n               editable="isEditable()"\n               inactive="isInactive()">\n      </no-form>\n    </div>\n  </tab>\n\n\n  <tab id="comments-tab"\n       heading="{{ \'Comments\' | translate }}"\n       title="{{ \'Case comments\' | translate }}"\n       active="tab.comments.active"\n       select="selectTab(\'comments\')">\n      <comments ng-if="tab.comments.loaded" case="currentCase"></comments>\n  </tab>\n\n  <tab id="case-tab"\n       ng-if="hasOverview"\n       heading="{{ \'Overview\' | translate }}"\n       title="{{ \'Case overview\' | translate }}"\n       active="tab.context.active"\n       select="selectTab(\'context\')">\n      <bonita-iframe-viewer\n        ng-if="tab.context.loaded && !isInactive()"\n        class="CaseViewer"\n        frame-url="overviewUrl"\n        is-editable="true">\n      </bonita-iframe-viewer>\n  </tab>\n</tabset>\n')}]),angular.module("portalTemplates/user/tasks/list/details/task-no-form.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/details/task-no-form.html",'<div class="Viewer-wrapper" ng-if="!inactive">\n        <h4>{{currentTask.displayName || currentTask.name}}</h4>\n        <p translate>No form is needed. You can enter a comment and confirm.</p>\n        <form role="form">\n          <div class="form-group">\n            <label for="task-comment" translate>Comment:</label>\n            <textarea ng-model="currentTask.comment" id="task-comment" class="form-control"></textarea>\n          </div>\n          <button ng-click="onExecuteTask()" class="btn btn-primary center-block" translate>Submit</button>\n        </form>\n        <div class="Viewer-overlay" ng-if="!editable"></div>\n      </div>\n')}]),angular.module("portalTemplates/user/tasks/list/filters/task-filters.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/filters/task-filters.html",'<ul class="TaskFilters nav nav-pills nav-stacked">\n  \x3c!-- <a href="#" > is not good for a11n but it\'s a tradeoff for being themable\n     that\'s why we use bottstrap markup--\x3e\n  <li role="presentation" ng-class="{\'active\':TASK_FILTERS.TODO===taskStatus}">\n    <a href="" id="todo-tasks"\n       title="{{ \'Show all the tasks I can do: both personal tasks and tasks available to other team members\' | translate }}"\n       ng-click="setStatusTaskFilter(TASK_FILTERS.TODO)">\n      <span class="badge pull-right" ng-show="count.TODO>0">{{count.TODO}}</span>\n      <translate>To do</translate>\n    </a>\n  </li>\x3c!-- tasks to do --\x3e\n  <li role="presentation" ng-class="{\'active\':TASK_FILTERS.MY_TASK===taskStatus}">\n    <a href="" id="my-tasks"\n       title="{{ \'Show my personal tasks: the ones I took and the ones assigned to me, automatically or by a process manager\' | translate }}"\n       ng-click="setStatusTaskFilter(TASK_FILTERS.MY_TASK)">\n      <span class="badge pull-right" ng-show="count.MY_TASK>0">{{count.MY_TASK}}</span>\n      <translate>My tasks</translate>\n    </a>\n  </li>\x3c!-- my tasks --\x3e\n  <li role="presentation" ng-class="{\'active\':TASK_FILTERS.DONE===taskStatus}">\n    <a href="" id="done-tasks"\n       title="{{ \'Show the tasks that I have done\' | translate }}"\n       ng-click="setStatusTaskFilter(TASK_FILTERS.DONE)" >\n      <translate>Done tasks</translate>\n    </a>\n  </li> \x3c!-- done tasks --\x3e\n</ul>\n')}]),angular.module("portalTemplates/user/tasks/list/table/task-table.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/table/task-table.html",'\x3c!-- tasks listing --\x3e\n<div class="alert alert-noresult" ng-if="tasks.length === 0">\n  <span ng-if="isNoTaskFoundVisible()" translate>\n    We couldn\'t find what you are looking for.\n  </span>\n  <span ng-if="isNoTaskAvailableMessageVisible()" translate>\n    All done. Good job!\n  </span>\n  <span ng-if="isNoMyTaskMessageVisible()" translate>\n    Your personal task list is empty. You can take a task from the <a href="#" ng-click="changeFilter(TASK_FILTERS.TODO)">To do</a> list.\n  </span>\n  <span ng-if="isNoDoneTaskMessageVisible()" translate>\n    No done task yet.\n  </span>\n</div>\n<div bonitable\n  on-sort="sort(options)"\n  sort-options="sortOption"\n  bo-repeatable\n  repeatable-config="columnSettings">\n  <div class="GroupAction clearfix" ng-show="tasks.length > 0">\n    <div class="GroupAction-button pull-left" ng-show="canDoGroupAction()">\n      <button id="btn-group-assigntome" class="btn btn-primary" type="button" title="{{ \'Assign to me. Only I will be able to do it\' | translate }}"\n         ng-disabled="!canTake($selectedItems)" ng-if="request.taskFilter !== TASK_FILTERS.MY_TASK" ng-click="takeTasks($selectedItems)"><i class="icon-assigned">&nbsp;</i><translate>Take</translate>\n      </button>\n      <button id="btn-group-unassign" class="btn btn-default"  type="button" title="{{ \'Unassign. This will make it available to team again\' | translate }}"\n        ng-disabled="!canRelease($selectedItems)" ng-if="request.taskFilter !== TASK_FILTERS.POOL_TASK" ng-click="releaseTasks($selectedItems)"><i class="icon-unassigned">&nbsp;</i><translate>Release</translate>\n      </button>\n    </div>\n    <div class="PaginationInfo pull-right">\n      \x3c!-- pagination --\x3e\n      <span class="PaginationInfo-summary">\n        {{getPaginationStatus()}}\n      </span>\n      <pagination\n        class="PaginationInfo-pagination"\n        ng-show="request.pagination.total >= request.pagination.numberPerPage"\n        total-items="request.pagination.total"\n        ng-model="request.pagination.currentPage"\n        items-per-page="request.pagination.numberPerPage"\n        max-size="5"\n        boundary-links="false"\n        ng-change="refresh()"\n        previous-text="&lsaquo;" next-text="&rsaquo;"\n        rotate="false">\n      </pagination>\n      <table-settings\n        columns="$columns"\n        page-size="request.pagination.numberPerPage" sizes="pageSizes"\n        update-page-size="pageSizeHandler(size)"\n        update-visibility="visibilityHandler(field, $columns)"\n        ></table-settings>\n      </table-settings>\n    </div>\n  </div>\n  <div class="table-responsive TaskTable" ng-hide="tasks.length === 0">\n    <table class="table table-hover table-striped TaskTable" ng-class="{\'TaskTable-filterDone\': TASK_FILTERS.DONE === request.taskFilter}">\n      <thead>\n        <tr>\n          <th data-ignore class="Cell--checkbox" ng-if="canDoGroupAction()">\n            <div bo-selectall></div>\n          </th>\n          <th data-ignore class="Cell--assignee">\n            <i class="icon-assigned" title="{{ \'Available or My tasks\' | translate }}"></i>\n          </th>\x3c!-- assigned icon --\x3e\n          <th class="text-right">{{\'Task Id\' | translate }}</th>\n          <th bo-sorter="displayName">{{ \'Task name\' | translate }}</th>\n          <th>{{ \'Description\' | translate }}</th>\n          <th bo-sorter="rootCaseId" class="text-right">{{ \'Case\' | translate }}</th>\n          <th>{{ \'Process name\' | translate }}</th>\n          <th bo-sorter="reachedStateDate" visible="false" class="text-right">{{ \'Last update\' | translate }}</th>\n          <th class="text-right">{{\'Assigned on\' | translate }}</th>\n          <th bo-sorter="dueDate" class="text-right TaskTable-dueDateHeader">{{ \'Due date\' | translate }}</th>\n          <th bo-sorter="priority">{{ \'Priority\' | translate}}</th>\n          <th data-ignore class="RowActions" ng-if="mode!==\'mid\'"></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class="Line"\n            ng-repeat="task in tasks"\n            ng-click="onClickTask(task)"\n            ng-mouseover="showTaskButtons(task)"\n            ng-mouseleave="hideTaskButtons(task)"\n            ng-class="{\'info\':task === currentTask, \'TaskTable-line--overdue\': isOverdue(task)}"\n            tabindex="0">\n\n          <td class="Cell--checkbox" ng-if="canDoGroupAction()">\n            <input type="checkbox" bo-selector="task" ng-click="onCheckBoxChange($event, $index)">\n          </td>\n\n          <td class="TaskTable-icon">\n            <i class="icon-assigned" title="{{ \'Only I can do this task\' | translate }}" ng-if="user.user_id===task.assigned_id"></i>\n          </td>\n\n          <td class="text-right TaskTable-id">{{::task.id}}</td>\n          <td class="TaskTable-displayName" title="{{::task.displayName}}">{{::task.displayName}}</td>\n          <td class="TaskTable-displayDescription" title="{{::task.displayDescription}}">{{::task.displayDescription}}</td>\n          <td class="text-right Cell--sortable TaskTable-caseId">{{::task.caseId}}</td>\n          <td class="TaskTable-processName">{{::task.rootContainerId.displayName}}</td>\n          <td class="text-right TaskTable-lastUpdateDate" title="{{::task.last_update_date|moment:\'LLL\'}}">{{::task.last_update_date|moment:\'MMM DD LT\'}}</td>\n          <td class="text-right TaskTable-assignedDate" title="{{::task.assigned_date|moment:\'LLL\'}}">{{::task.assigned_date|moment:\'MMM DD LT\'}}</td>\n          <td class="text-right Cell--sortable TaskTable-dueDate" title="{{::getDueDateTitle(task)}}">{{::task.dueDate|moment:\'MMM DD LT\'}}</td>\n          <td class="TaskTable-priority">{{::getPriority(task.priority)}}</td>\n          <td class="Cell--with-actions TaskTable-actions" ng-switch on="mode" ng-if="mode!==\'mid\'">\n            <button class="btn btn-default" type="button"\n                    ng-switch-when="max"\n                    ng-if="request.taskFilter !== TASK_FILTERS.DONE"\n                    ng-show="task.btnVisible"\n                    title="{{ \'Open the task to perform it\' | translate }}">\n              <i class="glyphicon glyphicon-edit"></i>\n              <span class="sr-only" translate>Open the task to perform it</span>\n            </button>\n            <a class="btn btn-xs btn-default" type="button"\n               ng-switch-when="min"\n               ng-click="goToDetail(\'details\')"\n               title="{{ \'View this task\' | translate }}" translate>\n              View task\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="GroupAction clearfix" ng-show="tasks.length > 0">\n    <div class="PaginationInfo pull-right" >\n      \x3c!-- pagination --\x3e\n      <span class="PaginationInfo-summary">\n        {{getPaginationStatus()}}\n      </span>\n      <pagination\n        class="PaginationInfo-pagination"\n        ng-show="request.pagination.total >= request.pagination.numberPerPage"\n        total-items="request.pagination.total"\n        ng-model="request.pagination.currentPage"\n        items-per-page="request.pagination.numberPerPage"\n        max-size="5"\n        boundary-links="false"\n        ng-change="refresh()"\n        previous-text="&lsaquo;" next-text="&rsaquo;"\n        rotate="false">\n      </pagination>\n    </div>\n  </div>\n</div>\n\n')}]),angular.module("portalTemplates/user/tasks/list/tasks-list.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/tasks-list.html",'\x3c!-- Reset style for the page. Dirty but avoid having to break all other pages --\x3e\n<style>\n    html, body, body #content {\n        height: 100%;\n        margin: 0;\n    }\n</style>\n<toast></toast>\n<div class="TaskListPage" ng-cloak task-app form-spy spy-submit="app.onFormSubmited(message)"\n     ng-class="{\n      \'TaskListPage--small\':app.smallScreen,\n      \'TaskListPage--withMenu\':!app.smallScreen && app.showMenu}">\n    <div class="OffcanvasMenu navbar">\n        <button ng-if="!app.smallScreen && app.showMenu" title="{{ \'Hide Menu\' | translate }}"\n                class="FilterToggle" ng-click="app.toggleFilters()">\n            <span class="glyphicon glyphicon-menu-left"></span>\n            <span class="sr-only" translate>Hide menu</span>\n        </button>\n        <button ng-if="!app.smallScreen && !app.showMenu" title="{{ \'Show Menu\' | translate }}"\n                class="FilterToggle FilterToggle-expend" ng-click="app.toggleFilters()">\n            <span class="glyphicon glyphicon-menu-right"></span>\n            <span class="sr-only" translate>Show menu</span>\n        </button>\n        <task-filters filter="app.request.taskFilter"\n                      filters="app.TASK_FILTERS"\n                      count="app.count"\n                      filter-change="app.changeFilter(filter)">\n        </task-filters>\n    </div>\n    <div class="TaskList" ng-if="!error">\n        <div class="TaskList-filters panel panel-default">\n            <div class="panel-heading title ng-binding" translate>Filters</div>\n            <div class="panel-body">\n               <div class="row">\n                <div class="col-md-7 button-filter ng-binding" ng-hide="app.request.taskFilter === app.TASK_FILTERS.DONE">\n                    {{ \'Process\' | translate }}\n                    <div class="btn-group dropdown Filter-process" dropdown="">\n                        <button dropdown-toggle type="button"\n                                class="btn btn-primary"\n                                title="{{\'Process:\' | translate }} {{ app.request.process.displayName + (app.request.process.version ? \' \' + app.request.process.version : \'\') }}"\n                                ng-disabled="app.request.taskFilter === app.TASK_FILTERS.DONE || !app.processes || app.processes.length === 0">\n                            <div class="ProcessList-label">\n                                {{app.request.process.displayName + (app.request.process.version?"\n                                "+app.request.process.version:"")}}\n                                <span class="caret"></span>\n                            </div>\n                        </button>\n                        <ul class="dropdown-menu">\n                            <li ng-repeat="p in app.processes">\n                                <a ng-click="app.setProcess(p)"\n                                   ng-class="{\'active\':p.id === app.request.process.id}"\n                                   class="processOptionLink">\n                                    {{p.displayName+"&nbsp;"+p.version}}\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                  </div>\n                  <div class="col-md-5" ng-class="{\'col-md-offset-7\': app.request.taskFilter === app.TASK_FILTERS.DONE}">\n                    <form class="form-inline btn-group pull-right">\n                      {{ \'Case\' | translate }}\n                      <div class="form-group Filter-process">\n                        <input type="text" ng-model="app.request.caseId" class="form-control TaskFilter-caseIdInput" id="case" name="case" placeholder="{{\'Case ID\' | translate}}"\n                             ng-model-options="{updateOn:\'blur\'}"\n                             ng-change="app.searchTask()" tooltip-template="\'tooltip-case-filter.html\'" tooltip-placement="right" tooltip-popup-delay="500" tooltip-animation="false" tooltip-append-to-body="true">\n                      </div>\n                      <script type="text/ng-template" id="tooltip-case-filter.html">\n                        <span translate>Type in a case id and <br/> press enter to search for <br/> human task of a specific case</span>\n                      <\/script>\n                    </form>\n                </div>\n              </div>\n             <div class="row">\n                <div class="col-md-12">\n                    <form role="form" name="searchForm" class="SearchBox" novalidate="" ng-submit="app.searchTask()">\n                        <div class="input-group TaskList--paddingTop">\n                            <input class="form-control SearchBox-input" id="search"\n                                   input-focus\n                                   placeholder="{{ \'Search...\' | translate }}"\n                                   ng-model="app.request.search"\n                                   ng-model-options="{updateOn:\'keyup\', debounce:{\'default\':250, \'blur\':0} }"\n                                   ng-change="app.searchTask()">\n                            <span ng-click="app.searchTask()" class="input-group-addon pointer">\n                                <span class="glyphicon glyphicon-search"></span>\n                            </span>\n                        </div>\n                        <span class="help-block pull-right" translate>In task name column</span>\n                    </form>\n                </div>\n              </div>\n            </div>\n        </div>\n        <div class="TaskList-table panel panel-default">\n            <div class="panel-heading title ng-binding">\n                <span translate>Task list</span>\n                <button class="TaskList-refresh" style="background: transparent; border: none" ng-click="app.updateAll()"\n                        ng-class="{ \'u-spin TaskList-loadingIcon\': app.loadingTasks }" title="{{ \'Refresh data\' | translate }}">\n                    <i class="glyphicon glyphicon-repeat"></i>\n                </button>\n                <span ng-show="app.loadingTasks" class="TaskList-loadingText">{{ \'Loading...\' | translate }}</span>\n            </div>\n            <div class="panel-body">\n                <task-table tasks="app.tasks"\n                           current-task="app.currentTask"\n                           request="app.request"\n                           user="app.user"\n                           mode="app.getMode(app.showDetails, app.smallScreen)"\n                           page-sizes="app.PAGE_SIZES"\n                           refresh="app.updateAll()"\n                           select-task="app.selectTask(task)"\n                           do-task="app.showTaskDetailsPopup()"\n                           counters="app.count"\n                           filter="app.filter">\n                </task-table>\n            </div>\n        </div>\n    </div>\n\n    <div class="TaskDetailsPanel" id="details" ng-class="{\'TaskDetailsPanel--collapsed\':!app.showDetails}">\n        <button ng-if="!app.showDetails" class="SizeBar-expand"\n                ng-click="app.toggleDetails()"\n                title="{{\'Show panel\' | translate}}">\n            <span class="glyphicon glyphicon-menu-left"></span>\n            <span class="sr-only" translate>Show panel</span>\n        </button>\n        <button class="SizeBar-reduce"\n                ng-if="app.showDetails"\n                ng-click="app.toggleDetails()"\n                title="{{ \'Hide panel\' | translate}}">\n            <span class="glyphicon glyphicon-menu-right"></span>\n            <span class="sr-only" translate>Hide panel</span>\n        </button>\n\n        <div class="TaskDetailsPanel-content" ng-if="app.smallScreen || app.showDetails">\n\n            <div ng-if="app.tasks.length === 0" class="TaskDetailsPanel-content--empty" translate>\n                This is the task details panel. No information to display\n            </div>\n\n            <task-details ng-if="app.tasks.length"\n                    current-task="app.currentTask"\n                    refresh="app.refresh()"\n                    open-details-popup="app.showTaskDetailsPopup()">\n            </task-details>\n        </div>\n    </div>\n</div>\n')}]),angular.module("org.bonitasoft.portalTemplates",["portalTemplates/admin/applications/applications-list.html","portalTemplates/admin/applications/delete-application.html","portalTemplates/admin/applications/details/application-details-app.html","portalTemplates/admin/applications/details/application-details.html","portalTemplates/admin/applications/details/menubuilder-actionBar.html","portalTemplates/admin/applications/details/menubuilder-addCustomMenuModal.html","portalTemplates/admin/applications/details/menubuilder-menuCreator.html","portalTemplates/admin/applications/details/menubuilder-menuList.html","portalTemplates/admin/applications/details/page-list-addPageModal.html","portalTemplates/admin/applications/details/page-list.html","portalTemplates/admin/applications/details/popverunsafe.html","portalTemplates/admin/applications/edit-application-look-n-feel.html","portalTemplates/admin/applications/edit-application.html","portalTemplates/admin/applications/export-application.html","portalTemplates/admin/applications/import-application.html","portalTemplates/admin/bdm/add-bdm-popup.html","portalTemplates/admin/bdm/bdm.html","portalTemplates/admin/cases/list/archived-cases-list-filters.html","portalTemplates/admin/cases/list/cases-list-deletion-modal.html","portalTemplates/admin/cases/list/cases-list-filters.html","portalTemplates/admin/cases/list/cases-list.html","portalTemplates/admin/cases/list/cases.html","portalTemplates/admin/mapping/actors.html","portalTemplates/admin/organisation/users/details/business-card/index.html","portalTemplates/admin/organisation/users/details/card.html","portalTemplates/admin/organisation/users/details/custom-information/index.html","portalTemplates/admin/organisation/users/details/general/avatar-upload.html","portalTemplates/admin/organisation/users/details/general/index.html","portalTemplates/admin/organisation/users/details/general/manager-field.html","portalTemplates/admin/organisation/users/details/index.html","portalTemplates/admin/organisation/users/details/password/index.html","portalTemplates/admin/organisation/users/details/password/password.html","portalTemplates/admin/organisation/users/details/personal-information/index.html","portalTemplates/admin/organisation/users/details/profiles/add-membership-popup.html","portalTemplates/admin/organisation/users/details/profiles/delete-membership-popup.html","portalTemplates/admin/organisation/users/details/profiles/index.html","portalTemplates/admin/processes/details/actors-mapping.html","portalTemplates/admin/processes/details/delete-process-modal.html","portalTemplates/admin/processes/details/edit-actor-members.html","portalTemplates/admin/processes/details/information.html","portalTemplates/admin/processes/details/manage-category-mapping-modal.html","portalTemplates/admin/processes/details/menu.html","portalTemplates/admin/processes/details/params.html","portalTemplates/admin/processes/details/process-connectors.html","portalTemplates/user/cases/list/archived-cases-list-filters.html","portalTemplates/user/cases/list/cases-list-filters.html","portalTemplates/user/cases/list/cases-list.html","portalTemplates/user/cases/list/cases.html","portalTemplates/user/tasks/list/comments/comments.html","portalTemplates/user/tasks/list/common/directive/bonita-iframe-viewer.html","portalTemplates/user/tasks/list/details/task-details-modal.html","portalTemplates/user/tasks/list/details/task-details.html","portalTemplates/user/tasks/list/details/task-no-form.html","portalTemplates/user/tasks/list/filters/task-filters.html","portalTemplates/user/tasks/list/table/task-table.html","portalTemplates/user/tasks/list/tasks-list.html"]),angular.module("portalTemplates/admin/applications/applications-list.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/applications-list.html",'<div class="container" id="content">\n\n  <h1>{{\'Application list\' | translate}}</h1>\n\n  <p>\n    <button id="create-application" class="btn btn-primary" ng-click="applicationsListCtrl.create(\'lg\')" title="{{\'Create an application\' | translate}}">{{ \'New\' | translate}}</button>\n    <button id="import-application" class="btn btn-primary" ng-click="applicationsListCtrl.importApp(\'lg\')" title="{{ \'Import an application\' | translate }}">{{ \'Import\' | translate}}</button>\n  </p>\n\n  <section ng-if="noData">\n    <p class="text-muted" id="no-data-header">{{ \'No application available.\' | translate}}</p>\n    <p id="no-data-message">\n      {{\'To create an application, click New or Import.\' | translate}}\n      <br>\n      {{\'An application is a customized environment for a specific user profile, in which users interact with business data and business processes in the most efficient way.\' | translate}}\n    </p>\n  </section>\n\n  <table ng-if="!noData" class="table resizable app-container-list" bonitable sort-options="sortableOptions" bo-storable="applications-list">\n    <thead>\n      <tr>\n        <th bo-sorter="displayName" id="application-display-name" class="table-column-large" title="{{\'Sort by name\' | translate }}" bo-sorter-title-desc="{{\'Sort by name\' | translate }} Desc" bo-sorter-title-asc="{{\'Sort by name\' | translate }} Asc">{{ \'Name\' | translate }}</th>\n        <th bo-sorter="version" id="application-version" class="table-column-xs" title="{{\'Sort by version\' | translate }}" bo-sorter-title-desc="{{\'Sort by version\' | translate }} Desc" bo-sorter-title-asc="{{\'Sort by version\' | translate }} Asc">{{\'Version\' | translate}}</th>\n        <th bo-sorter="token" id="application-path" title="{{\'Sort by URL\' | translate }}" bo-sorter-title-desc="{{\'Sort by URL\' | translate }} Desc" bo-sorter-title-asc="{{\'Sort by URL\' | translate }} Asc">{{\'URL\' | translate}}</th>\n        <th id="application-profile" class="table-column-xs">{{\'Profile\' | translate}}</th>\n        <th bo-sorter="lastUpdateDate" id="application-last-update-date" class="table-column-xs" title="{{\'Sort by updated on\' | translate }}" bo-sorter-title-desc="{{\'Sort by updated on\' | translate }} Desc" bo-sorter-title-asc="{{\'Sort by updated on\' | translate }} Asc">{{\'Updated on\' | translate}}</th>\n        <th data-noresize class="table-column-xs table-header-actions">{{\'Actions\' | translate}}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class="table-row table-row-{{$index}}" ng-repeat="application in applications | orderBy: sortableOptions.property : sortableOptions.direction track by $index">\n        <td class="application-display-name" title="{{application.displayName }}">{{application.displayName }}</td>\n        <td class="application-version" title="{{application.version }}">{{application.version }}</td>\n        <td class="application-path">\n          <a target="_blank" title="../apps/{{ application.token }}" ng-href="../apps/{{ application.token }}" ng-disabled="!application.profileId.name"> ../apps/{{application.token}}</a>\n        </td>\n        <td ng-if="application.profileId.name" class="application-profile" title="{{application.profileId.name }}">{{application.profileId.name }}</td>\n        <td ng-if="!application.profileId.name" class="application-profile"><span tooltip="{{\'No profile mapped to this application\' | translate }}" class="glyphicon glyphicon-warning-sign text-warning"></span></td>\n        <td class="application-last-update-date" aria-label="{{ application.lastUpdateDate | dateI18n:\'YYYY-MM-DD HH:mm:ss\'}}">\n          <span class="clickable" popover="{{applicationsListCtrl.loadTemplatePopover(application)}}" popover-trigger="mouseenter">{{application.lastUpdateDate | dateAgo }}</span>\n        </td>\n        <td class="application-actions">\n          <div class="btn-group">\n            <button bonita-href="{ \'token\': \'applicationslistingadmin\', \'_id\': application.id }" class="glyphicon glyphicon-option-horizontal btn-action-edit" title="{{\'Edit\' | translate}}" aria-label="{{\'Edit\' | translate}}"></button>\n            <button class="glyphicon glyphicon-export btn-action-export" title="{{\'Export\' | translate}}" aria-label="{{\'Export\' | translate}}" ng-click="applicationsListCtrl.exportApplication(application, \'sm\')"></button>\n          </div>\n          <button class="glyphicon glyphicon-trash btn-action-delete" aria-label="{{\'Delete\' | translate}}" title="{{\'Delete\' | translate}}" ng-click="applicationsListCtrl.deleteApplication(application, \'sm\')"></button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/delete-application.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/delete-application.html",'<div class="modal-header">\n    <h3 class="modal-title">{{\'Delete application\' | translate}}</h3>\n</div>\n<div class="modal-body">\n    <p>{{ \'The application\' | translate }} <i>{{application.displayName||application.name}}</i> {{\'will be permanently deleted.\' | translate}}</p>\n</div>\n\n<div class="modal-footer">\n    <div class="form-group has-feedback">\n        <div>\n            <button id="confirm" type="submit" class="btn btn-primary" ng-click="confirmDelete(applicationId)" >{{\'Delete\' | translate}}</button>\n            <button id="cancel" type="submit" class="btn btn-default" ng-click="cancel()">{{\'Cancel\' | translate}}</button>\n        </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/details/application-details-app.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/application-details-app.html","<div class=\"popover-item-content\">\n\n  <dl class=\"popover-item-def\">\n    <dt>{{'Creation' | translate}}</dt>\n    <dd>{{createdBy.firstname | ucfirst }} {{createdBy.lastname | ucfirst}} - {{creationDate | dateI18n:'YYYY-MM-DD HH:mm' }}</dd>\n\n  </dl>\n\n  <dl class=\"popover-item-def\">\n   <dt>{{'Update' | translate}}</dt>\n   <dd>{{updatedBy.firstname | ucfirst }} {{updatedBy.lastname | ucfirst }} - {{lastUpdateDate | dateI18n:'YYYY-MM-DD HH:mm' }}</dd>\n  </dl>\n</div>\n")}]),angular.module("portalTemplates/admin/applications/details/application-details.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/application-details.html",'<div id="app-details-container" class="container">\n  <div class="btn-toolbar actions">\n    <div class="col-md-2"><back-button></back-button></div>\n    <div class="col-md-10 text-right"><button id="app-edit-btn" class="btn btn-primary" ng-click="applicationDetailsCtrl.update(\'lg\', app )" aria-label="{{\'Edit\' | translate}}">{{\'Edit\' | translate}}</button></div>\n  </div>\n  <div id="app-edit-section" class="app-details-container col-md-12">\n    <h1 id="app-details-title">{{app.displayName}} ({{app.version}})</h1>\n    <div class="panel panel-default">\n      <div class="panel-body">\n        <p id="app-details-description" class="type-info">{{app.description }}</p>\n        <div class="row">\n          <div class="col-md-4">\n            <dl class="dl-horizontal app-details-col">\n              <dt id="app-path-label">{{\'URL\' | translate}}</dt>\n              <dd id="app-path-value"><a target="_blank" title="../apps/{{ app.token }}" ng-href="../apps/{{app.token }}">../apps/{{app.token }}</a></dd>\n              <dt id="app-profile-label">{{\'Profile\' | translate}}</dt>\n              <dd id="app-profile-value">{{app.profileId.name}}</dd>\n            </dl>\n          </div>\n          <div class="col-md-4">\n            <dl class="dl-horizontal">\n              <dt id="app-creation-on-label">{{\'Creation on\' | translate}}</dt>\n              <dd id="app-creation-on-value">{{app.creationDate | dateI18n:\'YYYY-MM-DD HH:mm:ss\'}}</dd>\n              <dt id="app-created-by-label">{{\'Created by\' | translate}}</dt>\n              <dd id="app-created-by-value">{{app.createdBy.firstname }} {{app.createdBy.lastname}}</dd>\n            </dl>\n          </div>\n          <div class="col-md-4">\n            <dl class="dl-horizontal">\n              <dt id="app-updated-on-label">{{\'Updated on\' | translate}}</dt>\n              <dd id="app-updated-on-value">{{app.lastUpdateDate | dateI18n:\'YYYY-MM-DD HH:mm:ss\'}}</dd>\n              <dt id="app-updated-by-label">{{\'Updated by\' | translate}}</dt>\n              <dd id="app-updated-by-value">{{app.updatedBy.firstname }} {{app.updatedBy.lastname }}</dd>\n            </dl>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div id="look-n-feel-edit-section" class="col-md-12">\n    <h2>{{\'Look & Feel\' | translate}}</h2>\n    <div class="panel panel-default">\n      <div class="row panel-body">\n        <div class="col-md-6">\n          <dl class="dl-horizontal app-details-col">\n            <dt id="app-layout-label">{{\'Layout\' | translate}}</dt>\n            <dd id="app-layout-value">\n              <div  ng-if="!applicationDetailsCtrl.isEditLayoutAvailable">{{app.layoutId.displayName}}</div>\n              <a  ng-if="applicationDetailsCtrl.isEditLayoutAvailable"  href="" editable-select="app.layoutId" onbeforesave="applicationDetailsCtrl.updateLayout(app, $data)" e-ng-options="layoutPage as layoutPage.displayName for layoutPage in layoutPages track by layoutPage.id">{{ app.layoutId.displayName }}</a>\n            </dd>\n          </dl>\n        </div>\n        <div class="col-md-6">\n          <dl class="dl-horizontal app-details-col">\n            <dt id="app-theme-label">{{\'Theme\' | translate}}</dt>\n            <dd id="app-theme-value">\n              <div  ng-if="!applicationDetailsCtrl.isEditLayoutAvailable">{{app.themeId.displayName}}</div>\n              <a  ng-if="applicationDetailsCtrl.isEditLayoutAvailable"  href="" editable-select="app.themeId" onbeforesave="applicationDetailsCtrl.updateTheme(app, $data)"\n                  e-ng-options="themePage as themePage.displayName for themePage in themePages track by themePage.id">{{ app.themeId.displayName }}</a>\n            </dd>\n          </dl>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div id="application-page-list-section" ng-if="app.id">\n    <page-list id="page-list" application="app" class="col-md-6"></page-list>\n    <menu-creator id="menu-creator" app="app" class="col-md-6 menu-creator"></menu-creator>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/details/menubuilder-actionBar.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/menubuilder-actionBar.html",'<div class="circle-indicator" data-nodrag="" ng-if="menu.parentMenuId === \'-1\' || !menu.parentMenuId"></div>\n<span ng-transclude></span>\n<button class="clickable glyphicon glyphicon-trash btn-action-remove pull-right" ng-click="actionBarCtrl.removeItem(this, menu)" ng-if="remove !== \'false\'" title="{{ \'Delete\' | translate }}" aria-label="{{ \'Delete\' | translate }}"></button>\n<button class="clickable glyphicon glyphicon-pencil btn-action-edit pull-right" ng-click="actionBarCtrl.editItem(this, menu)" ng-if="edit !== \'false\'" title="{{ \'Edit\' | translate }}" aria-label="{{ \'Edit\' | translate }}"></button>\n<button class="clickable glyphicon glyphicon-plus btn-action-add pull-right" ng-click="actionBarCtrl.addItem(this, menu)" ng-if="add !== \'false\'  && (!menu.applicationPageId || menu.applicationPageId === \'-1\')" title="{{ \'Add menu item\' | translate }}" aria-label="{{ \'Add menu item\' | translate }}"></button>\n')}]),angular.module("portalTemplates/admin/applications/details/menubuilder-addCustomMenuModal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/menubuilder-addCustomMenuModal.html",'<form role="form" name="menu.form" novalidate>\n\n  <header class="modal-header">\n\n    <h3 class="modal-title" ng-if="!isEdition && !isAddition">{{ \'Add menu\' | translate}}</h3>\n    <h3 class="modal-title" ng-if="isAddition">{{ \'Add menu item\' | translate}}</h3>\n    <h3 class="modal-title" ng-if="isEdition && isEditionParentMenu">{{ \'Edit menu\' | translate}}</h3>\n    <h3 class="modal-title" ng-if="isEdition && !isEditionParentMenu">{{ \'Edit menu item\' | translate}}</h3>\n  </header>\n  <div class="modal-body">\n\n    <section ng-show="!isEdition && !isAddition" class="menu-choice-container">\n\n      <div class="row">\n        <div class="col-md-11 col-centered">\n\n          <div class="radio-inline">\n            <label class="label-choice-inline">\n              <input type="radio" name="typeMenu" id="setTopLevelMenu" ng-model="isLabelOnly"  value="inactive">\n              {{\'One-page menu\' | translate}}\n            </label>\n            <label class="label-choice-inline">\n              <input type="radio" name="typeMenu" id="setpageMenu"  ng-model="isLabelOnly" value="active" ng-change="menu.model.page = null">\n              {{\'Multi-page menu\' | translate}}\n            </label>\n          </div>\n\n        </div>\n\n      </div>\n    </section>\n\n    <bootstrap-form-control\n      form="menu.form"\n      label="{{\'Name\' | translate}}"\n      errors="{ $invalid: i18n.mandatory, $duplicate: i18n.duplicateName }">\n\n      <input type="text" id="name" name="name" ng-model="menu.model.name" autofocus required ng-trim="false"/>\n    </bootstrap-form-control>\n\n    <p ng-if="\'active\' === isLabelOnly && !(isAddition || isEdition)">{{\'Add pages in Navigation\' | translate}}</p>\n\n    <bootstrap-form-control\n      form="menu.form"\n      label="{{\'Page\' | translate}}"\n      class="form-menu-pages select-form-container"\n      ng-if="\'inactive\' === isLabelOnly || ((isAddition || isEdition) && \'inactive\' === isLabelOnly)">\n      <select name="Page" id="page" required ng-model="menu.model.page">\n        <option ng-repeat="page in pages track by $index" value="{{page.id}}" ng-selected="currentSelectedPageId == page.id">\n          {{ page.pageId.displayName }} - {{ page.token }}\n        </option>\n      </select>\n      <i>{{\'Select the page\' | translate}}</i>\n    </bootstrap-form-control>\n\n\n  </div>\n\n  <footer class="modal-footer modal-menu-footer">\n    <button id="add-page-pop-up-add-btn" class="btn btn-primary" ng-click="addCustomMenuCtrl.saveModal(menu)" ng-disabled="menu.form.$invalid" >{{ isEdition ? \'Save\' : \'Add\' | translate}}</button>\n\n    <button type="button" id="add-page-pop-up-cancel-btn" class="btn btn-default" ng-click="addCustomMenuCtrl.cancel()">{{\'Cancel\' | translate}}</button>\n  </footer>\n</form>\n')}]),angular.module("portalTemplates/admin/applications/details/menubuilder-menuCreator.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/menubuilder-menuCreator.html",'<header class="page-header">\n<h2>{{ \'Navigation\' | translate }}</h2>\n</header>\n\n<div class="col-md-3">\n    <button id="menu-list-add-button" ng-click="menuCreatorCtrl.add()" ng-disabled="!hasPages" class="btn btn-primary"\n            title="{{\'Add top-level menu\' | translate}}">{{ \'Add\' | translate }}\n    </button>\n</div>\n<div class="col-md-9">\n  <div class="jumbotron" ng-if="!data.menuItemBuilder.length">\n    <em>{{ \'Specify the menu structure.\' | translate }}<br> {{ \'You must add a page before you can reference it in a\n      menu.\' | translate }}</em>\n  </div>\n  <menu-list ng-model="data.menuItemBuilder" ng-if="data.menuItemBuilder.length"></menu-list>\n</div>\n\n')}]),angular.module("portalTemplates/admin/applications/details/menubuilder-menuList.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/menubuilder-menuList.html",'<div class="container-menubuilder" ui-tree="treeOptions" data-max-depth="2">\n\n  <ul class="list-group" ui-tree-nodes="" data-ng-model="model">\n\n    <li class="list-group-item" data-ng-repeat="menu in model" ui-tree-node ng-class="{\'menucontainer-has-submenu-items\': !menu.applicationPageId || menu.applicationPageId === \'-1\', \'menucontainer-no-submenu-items\': menu.applicationPageId && menu.applicationPageId !== \'-1\'}">\n         <div ui-tree-handle ng-class="{\'hidden-submenu\': collapsed}">\n           <action-bar collapsed="collapsed" menu="menu" data="data">{{menu.displayName}}</action-bar>\n         </div>\n\n         <ul ui-tree-nodes="" ng-if="!menu.applicationPageId || menu.applicationPageId === \'-1\'" data-ng-model="menu.children" ng-class="{\'menucontainer-submenu-exist\':menu.children.length,\'menucontainer-submenu\':!menu.children.length}" ><li data-ng-repeat="subItem in menu.children"  ui-tree-node>\n             <div ui-tree-handle>\n                <action-bar add="false" menu="subItem" data="data">{{subItem.displayName}}</action-bar>\n             </div>\n           </li></ul>\n\n       </li>\n  </ul>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/details/page-list-addPageModal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/page-list-addPageModal.html",'<form role="form" name="page.form" novalidate>\n  <div class="modal-header">\n    <h3 class="modal-title">{{ \'Add page\' | translate }}</h3>\n  </div>\n\n  <div class="modal-body">\n    <alert ng-repeat="alert in alerts track by $id(alert)" type="{{ alert.type }}" close="closeAlert($index)">{{alert.msg}}</alert>\n    <bootstrap-form-control\n      id="page-form-control"\n      form="page.form"\n      label="{{ \'Page\' | translate }}"\n      errors="{ $invalid: i18n.mandatory }"\n      class="select-form-container">\n      <select name="Page" id="page" ng-model="page.model.pageId" required>\n        <option ng-repeat="customPage in customPages" value="{{ customPage.id }}">\n          {{ customPage.urlToken }} - {{ customPage.displayName }}\n        </option>\n      </select>\n    </bootstrap-form-control>\n\n    <bootstrap-form-control\n      id="url-form-control"\n      form="page.form"\n      label="{{ \'URL\' | translate }}"\n      errors="{ $invalid: i18n.mandatory, $duplicate: i18n.duplicateUrl, $reservedToken: i18n.reservedToken}">\n      <div class="input-group">\n        <span class="input-group-addon">../apps/{{application.token}}/</span>\n        <input type="text" id="token" name="token" ng-model="page.model.token" required urlified ng-trim="false"/>\n      </div>\n    </bootstrap-form-control>\n\n  </div>\n  <div class="modal-footer">\n    <button id="add-page-pop-up-add-btn" class="btn btn-primary" type="submit" ng-click="add(page)" ng-disabled="page.form.$invalid">{{\'Add\' | translate}}\n    </button>\n    <button id="add-page-pop-up-cancel-btn" class="btn btn-default" ng-click="cancel()">{{\'Cancel\' | translate}}</button>\n  </div>\n</form>\n')}]),angular.module("portalTemplates/admin/applications/details/page-list.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/page-list.html",'<header class="page-header">\n  <h2>{{\'Pages\' | translate}}</h2>\n</header>\n<div class="col-md-3">\n  <button id="page-list-add-button" ng-click="list.add()" class="btn btn-primary" title="{{ \'Add from custom pages\' | translate }}">{{\'Add\' | translate}}</button>\n</div>\n<div class="col-md-9">\n  <table class="table table-condensed">\n    <tbody>\n      <tr ng-repeat="page in pages track by $index" class="table-row table-row-{{$index}}"\n      ng-class="{\'page-is-home\': application.homePageId == page.id}">\n        <td class="page-name">\n          {{page.token }} - <em>{{ page.pageId.displayName }}</em>\n        </td>\n        <td class="td-small">\n          <button class="btn-action-sethome clickable glyphicon glyphicon-home"\n              title="{{\'Set as Home page\' | translate}}"\n              ng-click="list.setAsHomePage(page)">\n            <span aria-hidden="true">{{\'Set as Home page\' | translate}}</span>\n          </button>\n        </td>\n        <td class="td-small">\n          <button class="btn-action-delete clickable glyphicon glyphicon-trash"\n              title="{{\'Remove\' | translate}}"\n              ng-if="application.homePageId != page.id"\n              ng-click="list.remove(page)">\n            <span aria-hidden="true">{{\'Remove\' | translate}}</span>\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/details/popverunsafe.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/details/popverunsafe.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" bind-html-unsafe="content"></div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/edit-application-look-n-feel.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/edit-application-look-n-feel.html",'<form role="form" name="application.form" novalidate>\n  <div class="modal-header">\n    <h3 class="modal-title">{{ editionMode ? "Edit" : "Create" |\n     translate }} {{\'an Application\' | translate}}</h3>\n  </div>\n  <div class="modal-body">\n\n    <alert ng-repeat="alert in alerts" type="{{ alert.type }}" close="closeAlert($index)">{{alert.msg}}</alert>\n    <bootstrap-form-control form="application.form" class="select-form-container" label="{{ \'Layout\' | translate }}">\n      <select id="profile"\n              name="profile" ng-model="application.model.layoutId"\n              ng-options="layoutPage.id as layoutPage.urlToken + \' - \' + layoutPage.displayName for layoutPage in layoutPages"></select>\n\n\n    </bootstrap-form-control>\n\n    <bootstrap-form-control form="application.form" class="select-form-container" label="{{ \'Theme\' | translate }}">\n      <select id="theme"\n              name="layout" ng-model="application.model.themeId">\n        <option ng-repeat="layoutPage in layoutPages" value="{{ layoutPage.id }}">\n          {{ layoutPage.urlToken }} - {{ layoutPage.displayName }}\n        </option>\n      </select>\n    </bootstrap-form-control>\n  </div>\n  <div class="modal-footer">\n    <div class="form-group has-feedback">\n      <div>\n        <button id="btn-submit" type="submit" class="btn btn-primary" ng-disabled="application.form.$invalid"\n                ng-click="submit(application)">{{ "Save" | translate }}\n        </button>\n        <button id="btn-cancel" type="submit" class="btn btn-default" ng-click="cancel()">{{ \'Cancel\' | translate}}</button>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),angular.module("portalTemplates/admin/applications/edit-application.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/edit-application.html",'<form role="form" name="application.form" novalidate>\n  <div class="modal-header">\n    <h3 class="modal-title">{{ editionMode ? "Edit" : "Create" |\n     translate }} {{\'an application\' | translate}}</h3>\n  </div>\n  <div class="modal-body">\n\n    <alert ng-repeat="alert in alerts" type="{{ alert.type }}" close="closeAlert($index)">{{alert.msg}}</alert>\n\n    <bootstrap-form-control\n      id="display-name-form-control"\n      form="application.form"\n      label="{{ \'Display name\' | translate }}"\n      errors="{ $invalid: i18n.mandatory }">\n      <input type="text"\n             id="display-name"\n             name="displayName"\n             ng-model="application.model.displayName"\n             maxlength="255" required/>\n    </bootstrap-form-control>\n\n    <bootstrap-form-control\n      id="url-form-control"\n      form="application.form"\n      label="{{ \'URL\' | translate }}"\n      errors="{ $invalid: i18n.mandatory, $duplicate: i18n.duplicateUrl, $reservedToken: i18n.reservedToken}">\n      <div class="input-group">\n        <span class="input-group-addon">../apps/</span>\n        <input type="text"\n               id="url"\n               name="token"\n               ng-model="application.model.token"\n               maxlength="50"\n               urlified required ng-trim="false"/>\n      </div>\n\n    </bootstrap-form-control>\n\n    <bootstrap-form-control\n      id="version-form-control"\n      form="application.form"\n      label="{{ \'Version\' | translate }}"\n      errors="{ $invalid: i18n.mandatory }">\n      <input type="text"\n             id="version"\n             name="version"\n             ng-model="application.model.version"\n             maxlength="50" required/>\n    </bootstrap-form-control>\n\n    <bootstrap-form-control form="application.form" class="select-form-container" label="{{ \'Profile\' | translate }}">\n      <select id="profile"\n              name="profile" ng-model="application.model.profileId"\n              ng-options="profile.id as profile.name for profile in profiles" required></select>\n    </bootstrap-form-control>\n\n\n    <bootstrap-form-control form="application.form" label="{{\'Description\' | translate}}">\n      <textarea id="description"\n                name="description"\n                ng-model="application.model.description"\n                maxlength="1024"></textarea>\n    </bootstrap-form-control>\n  </div>\n\n  <div class="modal-footer">\n    <div class="form-group has-feedback">\n      <div>\n        <button id="btn-submit" type="submit" class="btn btn-primary" ng-disabled="application.form.$invalid"\n                ng-click="submit(application)">{{ editionMode ? "Save" : "Create" | translate }}\n        </button>\n        <button id="btn-cancel" type="submit" class="btn btn-default" ng-click="cancel()">{{ \'Cancel\' | translate}}</button>\n      </div>\n    </div>\n  </div>\n</form>\n')}]),angular.module("portalTemplates/admin/applications/export-application.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/export-application.html",'<div class="modal-header">\n    <h3 class="modal-title">{{ \'Export application descriptor\' | translate}}</h3>\n</div>\n<div class="modal-body">\n    <p>{{\'You are about to export the descriptor of the application\' | translate}} <i>{{application.displayName||application.name}}</i>.<br>{{\'When you export an application descriptor, pages and profiles are not exported in the file.\' | translate}}</p>\n</div>\n\n<div class="modal-footer">\n  <div class="form-group has-feedback">\n    <export-app-button\n      id="confirm"\n      app-id="{{application.id}}"\n      class="btn btn-primary"\n      ng-click="exportApplicationCtrl.cancel()"\n      >{{\'Export\' | translate}}\n    </export-app-button>\n    <button\n      id="cancel"\n      class="btn btn-default"\n      ng-click="exportApplicationCtrl.cancel()">{{\'Cancel\' | translate}}\n    </button>\n   </div>\n</div>\n')}]),angular.module("portalTemplates/admin/applications/import-application.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/applications/import-application.html",'<form role="form" name="form" novalidate>\n  <div class="modal-header">\n    <h3 class="modal-title" ng-if="!importIsSuccessfull && !importNotSuccessfull">{{\'Import an application descriptor\' | translate}}</h3>\n    <h3 class="modal-title" ng-if="importIsSuccessfull">{{\'Status of importation\' | translate}}</h3>\n    <h3 class="modal-title" ng-if="importNotSuccessfull">{{\'Error\' | translate}}</h3>\n  </div>\n  <div class="modal-body">\n\n    <section id="beforeImport" ng-if="!importIsSuccessfull && !importNotSuccessfull">\n      <p>{{ \'Before you import the application descriptor, the pages and the profile must already be loaded in the Portal.\' | translate }}</p>\n\n      <bootstrap-form-control\n        class="field-upload-container"\n        form="form"\n        label="{{\'Application XML file\' | translate}}">\n\n        <div class="upload-field">\n          <input type="file" id="importAppXml" name="import-file" ng-model="importFile.file" required nv-file-select uploader="uploader" accept=".xml">\n          <div class="upload-field-content" ng-class="{\'upload-success\': isUploadSuccess}"><span ng-if="fileName">{{fileName}}</span><span ng-if="!fileName">{{ \'Click here to choose the .xml file\' | translate }}</span></div>\n        </div>\n\n      </bootstrap-form-control>\n    </section>\n\n    <section id="afterImport" ng-if="importIsSuccessfull" >\n\n      <div class="import-status">\n        <p ng-if="!errorsApi.length">1 {{\'application descriptor has been successfully imported, with complete page mapping and menu mapping.\' | translate}}</p>\n\n        <p ng-if="errorsApi.length">1 {{\'application descriptor has been partially imported. The following items are not loaded in the Portal.\' | translate}}</p>\n\n        <ul>\n          <li ng-repeat="imported in imports track by $index">{{\'URL\' | translate }}: ../apps/{{ imported.name}}</li>\n        </ul>\n\n        <ul ng-if="errorsApi.length">\n          <li ng-repeat="error in errorsApi track by $index">\n            <span arial-label="application">{{\'URL\' | translate }}: ../apps/{{ error.name}}</span>\n\n            <ul ng-repeat="(key, value) in error.errors track by $index">\n              <li ng-repeat="label in value track by $index">{{label}}  {{ key | lowercase | ucfirst }}</li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n    </section>\n\n    <section id="afterImportError" ng-if="importNotSuccessfull">\n      <p>{{messageError}}.</p>\n    </section>\n\n  </div>\n\n  <div class="modal-footer">\n      <div class="form-group has-feedback">\n          <div class="col-md-12 col-centered-text center-block">\n              <button\n                ng-if="!importIsSuccessfull && !importNotSuccessfull"\n                id="confirm"\n                ng-disabled="!isUploadSuccess"\n                class="btn btn-primary"\n                ng-click="importApplicationCtrl.importApp()">{{ \'Import\' | translate }}\n              </button>\n              <button\n                ng-if="!importIsSuccessfull && !importNotSuccessfull"\n                id="cancel"\n                class="btn btn-default"\n                ng-click="importApplicationCtrl.cancel()">{{ \'Cancel\' | translate }}\n              </button>\n\n              <button\n                ng-if="importIsSuccessfull"\n                id="cancel"\n                class="btn btn-default"\n                ng-click="importApplicationCtrl.closeModalSuccess()">{{ \'Close\' | translate }}\n              </button>\n\n              <button\n                ng-if="importNotSuccessfull"\n                id="cancel"\n                class="btn btn-default center-block"\n                ng-click="importApplicationCtrl.cancel()">{{ \'Close\' | translate }}\n              </button>\n          </div>\n      </div>\n  </div>\n</form>\n')}]),angular.module("portalTemplates/admin/bdm/add-bdm-popup.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/bdm/add-bdm-popup.html",'<div class="modal-header">\n    <h1 class="modal-title" translate>Install a BDM file</h1>\n</div>\n\n<div class="modal-body modal-body-scrollable">\n    <div class="callout callout-warning">\n        <h4 translate>Warning:</h4>\n        <span translate>Note that updating the model modifies existing database tables definitively.</span><br/>\n        <span translate>Bonita uses Hibernate for data persistence, therefore some changes are handled well, like adding new objects or attributes,\n            but some others we cannot guarantee so far, like changing the type of an attribute or deleting an attribute.</span><br/>\n        <span translate>If the new BDM contains such changes, the database administrator will need to first handle the database update with scripts,\n            then you will need to update only the data model and thoroughly test the changes.</span><br/>\n        <span translate>To know more about this platform configuration option, go to the</span>\n        \x3c!-- Link to Bonita Documentation page BDM Management in Bonita Portal --\x3e\n        <a ng-href="http://www.bonitasoft.com/bos_redirect.php?bos_redirect_id=674&bos_redirect_product=bos&bos_redirect_major_version={{bonitaVersion}}&bos_redirect_minor_version=0" target="_blank" translate>documentation</a>.\n    </div>\n    <bootstrap-form-control\n        class="field-upload-container"\n        form="form"\n        label="{{\'BDM file\' | translate}}">\n        <div class="upload-field">\n            <input type="file" id="importBdmZip" name="import-file" ng-model="importFile.file"\n                   required nv-file-select uploader="uploader" accept=".zip">\n            <div class="upload-field-content" ng-class="{\'upload-success\': isUploadSuccess}">\n                <span ng-if="fileName">{{fileName}}</span><span ng-if="!fileName" translate>Click here to choose your .zip file</span>\n            </div>\n        </div>\n    </bootstrap-form-control>\n</div>\n\n<div class="modal-footer">\n    <button id="btn-open-modal" ng-disabled="!isUploadSuccess"\n            ng-click="AddBDMPopupCtrl.closeModalSuccess()" class="btn btn-primary"\n            translate>Install\n    </button>\n\n    <button class="btn btn-default"\n            ng-click="this.$dismiss()"\n            translate>Cancel\n    </button>\n</div>\n')}]),angular.module("portalTemplates/admin/bdm/bdm.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/bdm/bdm.html",'<div class="page" id="access-rules">\n\n    <section class="row">\n        <h1 class="SubHeading" translate>Business Data Model definition</h1>\n        <bo-tenant-resource-status data="vm.bdm"></bo-tenant-resource-status>\n        <div ng-if="!vm.isTechnicalUser">\n            <p>\n                <span translate>Installing or updating the BDM implies to be logged in as Technical User, and to shut down all BPM services.</span><br/>\n                <span translate>To do so, log out and then log back in as the Technical User, whose credentials are set upon Bonita platform installation.</span><br/>\n            <p>\n        </div>\n        <div ng-if="vm.isTechnicalUser">\n            <p>\n                <span translate>Only one Business Data Model (BDM) can be active at a time.</span><br/>\n                <span translate>Make sure all artifacts enabled on the platform are compatible with the new BDM.</span>\n            <p>\n\n            <ul class="list-group">\n                <li class="list-group-item list-group-item-action">\n                    <button ng-click="vm.openBDMUpload()"\n                            class="btn btn-primary btn-section-action"\n                            ng-disabled="vm.isInstallDisable()">\n                        {{vm.isBDMInstalled()? (\'Update\'|translate) : (\'Install\'|translate)}}\n                    </button>\n                    <h2 class="panel-title" ng-if="!vm.isBDMInstalled()" translate>Install Business Data Model</h2>\n                    <h2 class="panel-title" ng-if="vm.isBDMInstalled()" translate>Update Business Data Model</h2>\n                    <div ng-if="!vm.isTenantPaused">\n                        <span class="glyphicon glyphicon-warning-sign text-warning"/>\n                        <span translate>BPM Services must be paused. Go to "BPM Services" menu option.</span>\n                    </div>\n                    <div ng-if="vm.isAccessControlInstalled()" class="message-status-animation">\n                        <span class="glyphicon glyphicon-warning-sign text-warning"/>\n                        <span translate>Before updating the BDM, access control file should be deleted.</span>\n                    </div>\n                    <div ng-if="vm.isBDMInstallProcessing" class="message-status-animation">\n                        <span class="glyphicon glyphicon-cog gly-spin text-info"/>\n                        <span translate>Installing Business Data Model</span>\n                    </div>\n                    <div ng-if="vm.isBDMInstallSuccessfull" class="message-status-animation">\n                        <span class="glyphicon glyphicon-ok text-success"/>\n                        <span translate>BDM successfully updated.</span><br/>\n                    </div>\n                    <div ng-if="vm.isAccessControlFeatureActivated() &&\n                                vm.isAccessControlAvailable &&\n                                !vm.isAccessControlInstalled()"\n                         class="message-status-animation">\n                        <span class="glyphicon glyphicon-info-sign text-info"/>\n                        <span translate>BDM access control file can now be installed.</span><br/>\n                    </div>\n                    <div ng-if="vm.isTenantPaused">\n                        <span class="glyphicon glyphicon-info-sign text-info"/>\n                        <span translate>Don\'t forget to start BPM Services again.</span><br/>\n                    </div>\n                    <div ng-if="vm.isBDMInstallError" class="message-status-animation">\n                        <span class="glyphicon glyphicon-remove text-danger"/>\n                        <span translate>An error occurred when deploying the BDM.\n                    Consult the logs for more information.</span>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </section>\n\n    <access-control is-bdm-installed=\'vm.isBDMInstalled()\'\n                    access-control-status=\'vm.accessControlStatus\'\n                    on-access-control-update=\'vm.updateAccessControlStatus\'\n                    is-access-control-installed=\'vm.isAccessControlInstalled()\'></access-control>\n\n</div>\n')}]),angular.module("portalTemplates/admin/cases/list/archived-cases-list-filters.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/cases/list/archived-cases-list-filters.html",'<div id="case-filters" class="panel panel-default">\n\n  <div class="panel-heading title">{{ \'Filters\' | translate }}</div>\n  <div class="panel-body">\n    <div class="col-md-3 button-filter"> {{ \'Process name\' | translate }}\n      <div class="btn-group" dropdown id="case-app-name-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle ">{{selectedFilters.selectedApp | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterCtrl.selectApp(defaultFilters.appName)"><a>{{defaultFilters.appName | translate}}</a></li>\n          <li ng-if="appNames &amp;&amp; appNames.length>0" class="divider"></li>\n          <li ng-repeat="appName in appNames" ng-click="filterCtrl.selectApp(appName)"><a>{{appName}}</a></li>\n        </ul>\n      </div>\n    </div>\n\n    <div class="col-md-3 button-filter">{{\'Process version\' | translate }}\n      <div class="btn-group" dropdown id="case-app-version-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle " ng-disabled="selectedFilters.selectedApp  === defaultFilters.appName">{{selectedFilters.selectedVersion | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterCtrl.selectVersion(defaultFilters.appVersion)"><a>{{defaultFilters.appVersion | translate}}</a></li>\n          <li class="divider"></li>\n          <li ng-repeat="version in versions" ng-click="filterCtrl.selectVersion(version)"><a>{{version}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">\n    </div>\n    <div class="col-md-3 button-filter">\n      <form role="form" name="searchForm" novalidate ng-submit="filterCtrl.submitSearch()">\n          <div class="input-group">\n            <input type="text" class="form-control" ng-model="selectedFilters.currentSearch" name="searchField" id="case-list-search" placeholder="{{ \'Search...\' | translate }}">\n            <span ng-click="filterCtrl.submitSearch()" class="input-group-addon pointer"><span class="glyphicon glyphicon-search"></span></span>\n          </div>\n      </form>\n    </div>\n  </div>\n</div>\n')}]);angular.module("portalTemplates/admin/cases/list/cases-list-deletion-modal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/cases/list/cases-list-deletion-modal.html",'<div class="modal-header">\n  <h3 class="modal-title">{{ \'Confirm delete?\' | translate }}</h3>\n</div>\n\n<div ng-if="\'archived\' !==  typeOfCase">\n  <div class="modal-body" ng-if="1 === caseItems.length">\n    {{ \'The deleted case will be permanently deleted and will not be stored in the archives.\' | translate }}\n  </div>\n\n  <div class="modal-body" ng-if="caseItems.length > 1">\n    {{ \'These deleted cases will be permanently deleted and will not be stored in the archives.\' | translate }}\n  </div>\n</div>\n\n<div ng-if="\'archived\' === typeOfCase ">\n  <div class="modal-body" ng-if="1 === caseItems.length">\n    {{ \'The deleted case will be permanently deleted from the archives.\' | translate }}\n  </div>\n\n  <div class="modal-body" ng-if="caseItems.length > 1">\n    {{ \'These deleted cases will be permanently deleted from the archives.\' | translate }}\n  </div>\n</div>\n\n<div class="modal-footer">\n    <button id="ValidateCaseDeletionBtn" class="btn btn-primary" ng-click="deleteCaseModalCtrl.ok()">{{ \'Delete\' | translate }}</button>\n    <button id="CancelCaseDeletionBtn" class="btn btn-default" ng-click="deleteCaseModalCtrl.cancel()">{{ \'Cancel\' | translate }}</button>\n</div>\n')}]),angular.module("portalTemplates/admin/cases/list/cases-list-filters.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/cases/list/cases-list-filters.html",'<div id="case-filters" class="panel panel-default">\n  <div class="panel-heading title">{{\'Filters\' | translate}}</div>\n  <div class="panel-body">\n    <div class="col-md-3 button-filter">{{\'Process name\' | translate}}\n      <div class="btn-group" dropdown id="case-app-name-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle">{{selectedFilters.selectedApp | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterCtrl.selectApp(defaultFilters.appName)"><a>{{defaultFilters.appName | translate}}</a></li>\n          <li ng-if="appNames &amp;&amp; appNames.length>0" class="divider"></li>\n          <li ng-repeat="appName in appNames" ng-click="filterCtrl.selectApp(appName)"><a>{{appName}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">{{\'Process version\' | translate}}\n      <div class="btn-group" dropdown id="case-app-version-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle" ng-disabled="selectedFilters.selectedApp  === defaultFilters.appName">{{selectedFilters.selectedVersion | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterCtrl.selectVersion(defaultFilters.appVersion)"><a>{{defaultFilters.appVersion | translate}}</a></li>\n          <li class="divider"></li>\n          <li ng-repeat="version in versions" ng-click="filterCtrl.selectVersion(version)"><a>{{version}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">{{\'Case state\' | translate}}\n      <div class="btn-group" dropdown id="case-app-status-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle">{{caseStatesValues[selectedFilters.selectedStatus] | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterCtrl.selectCaseStatus(defaultFilters.caseStatus)"><a>{{defaultFilters.caseStatus | translate}}</a></li>\n          <li class="divider"></li>\n          <li ng-click="filterCtrl.selectCaseStatus(\'error\')"><a>{{\'With failures\' | translate}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3">\n      <form role="form" name="searchForm" novalidate ng-submit="filterCtrl.submitSearch()">\n        <div class="input-group">\n          <input type="text" class="form-control" ng-model="selectedFilters.currentSearch" name="searchField" id="case-list-search" placeholder="{{ \'Search...\' | translate }}">\n          <span ng-click="filterCtrl.submitSearch()" class="input-group-addon pointer"><span class="glyphicon glyphicon-search"></span></span>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/cases/list/cases-list.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/cases/list/cases-list.html",'<div>\n\n  <div ng-switch on="archivedTabName">\n    <archived-case-filters ng-switch-when="true"> </archived-case-filters>\n    <active-case-filters ng-switch-default> </active-case-filters>\n  </div>\n  <div class="panel panel-default">\n\n    <div class="panel-heading title">{{ \'Case list\' | translate }} <span id="infoPopover" class="glyphicon glyphicon-info-sign" popover="{{\'Only cases from root processes are displayed in the table below. No details are available for cases started by call activities.\' | translate}}" popover-trigger="mouseenter"></span> <span ng-click="caseCtrl.reinitCases()" tooltip="{{ \'Refresh\' | translate}}" tooltip-animation="false" tooltip-popup-delay="300" class="case-list-refresh glyphicon glyphicon-repeat"></span></div>\n    <div class="panel-body">\n      <div ng-show="cases.length">\n        <div class="col-md-12">\n          <table ng-if="!archivedTabName" bonitable bo-storable="admin-cases-list" on-storage-loaded="caseCtrl.loadContent()" bo-repeatable  on-sort="caseCtrl.updateSortField(sortOptions)" sort-options="sortOptions" resizable-column="$columns" resize-selector="tr th.case-column" class="table table-striped table-hover table-responsive">\n            <thead>\n              <tr>\n                <th colspan="{{$columns.length+2}}">\n                  <div class="pull-left case-action table-buttons">\n                    <div class="case-action table-buttons"> <active-case-delete>{{\'Delete\' | translate}}</active-case-delete></div>\n                  </div>\n                  <div class="pull-right table-buttons">\n                    <table-settings class="pull-right" page-size="pagination.itemsPerPage" sizes="pageSizes" columns="$columns" update-page-size="caseCtrl.changeItemPerPage(size)"></table-settings>\n                    <span  ng-if="pagination.total" id="cases-results-size-top" class="pull-right">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n                  </div>\n                </th>\n              </tr>\n              <tr data-headers>\n                <th class="case-checkbox" data-ignore><div bo-selectall></div></th>\n                <th class="text-right case-column" bo-sorter="id" bo-sorter-title-asc="{{\'sort by ID ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by ID descending\' | translate}}">{{\'ID\' | translate}}</th>\n\n                <th class="case-column" bo-sorter="name" bo-sorter-title-asc="{{\'sort by Process name ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Process name descending\' | translate}}">{{\'Process name\' | translate}}</th>\n                <th class="case-column" >{{\'Version\' | translate}}</th>\n                <th bo-sorter="startDate" class="case-column" bo-sorter-title-asc="{{\'sort by Start date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Start date descending\' | translate}}">{{\'Start date\' | translate}}</th>\n                <th class="case-column">{{\'Started by\' | translate}}</th>\n                <th class="text-right case-column">{{\'Failed Flow Nodes\' | translate}}</th>\n                <th class="text-right case-column">{{\'Pending Flow Nodes\' | translate}} <span id="pendingFlowNodePopover" class="glyphicon glyphicon-info-sign" popover-template="\'cases/pengind-flownode.html\'" popover-trigger="mouseenter"></span></th>\n                <th bo-sorter="index1" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()"><span id="infoPopover" class="glyphicon glyphicon-info-sign" popover="{{\'To personalize the display of search keys (and columns in general), use the table settings button on the right. You can search on up to 5 search keys.\' | translate}}" popover-trigger="mouseenter"></span> {{\'Search Key 1\' | translate}}</th>\n                <th bo-sorter="index2" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 2\' | translate}}</th>\n                <th bo-sorter="index3" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 3\' | translate}}</th>\n                <th bo-sorter="index4" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 4\' | translate}}</th>\n                <th bo-sorter="index5" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 5\' | translate}}</th>\n                <th data-ignore class="text-center">{{\'Actions\' | translate}}</th>\n              </tr>\n            </thead>\n            <tbody>\n\n            <tr ng-repeat="case in cases" id="caseId-{{::case.id}}" class="case-row" ng-class="{\'info\' : case.selected}">\n              <td class="case-checkbox">\n                <input id="case-check-{{::case.id}}" type="checkbox" bo-selector="case" >\n              </td>\n\n              <td class="text-right case-detail"><a id="case-detail-link-{{case.id}}" target="_parent" href="{{::caseCtrl.getLinkToCase(case)}}">{{case[\'ID\']}}</a></td>\n              <td class="case-detail"><a id="case-process-link-{{case.id}}" target="_parent" href="{{::caseCtrl.getLinkToProcess(case)}}">{{case[\'Process name\']}}</a></td>\n              <td class="case-detail">{{::case[\'Version\']}}</td>\n              <td class="case-detail">{{::caseCtrl.parseAndFormat(case[\'Start date\'])}}</td>\n              <td class="case-detail" title="{{\'username:\' | translate}} {{::case[\'Started by\'] || (\'System\' | translate)}}">{{::case[\'Started by fullname\'] || (\'System\' | translate)}}</td>\n              <td class="case-detail text-right" ng-switch="case.fullCase.state">\n                <div ng-switch-when="error">\n                  <span tooltip="{{\'One or more connectors on case start or case end failed\' | translate}}" tooltip-animation="false" tooltip-popup-delay="500" class="alert-error glyphicon glyphicon-exclamation-sign"></span>\n                  {{::case[\'Failed Flow Nodes\']}}\n                </div>\n                \x3c!--need a switch otherwise, the counter is not aligned with the glyphicon--\x3e\n                <div ng-switch-default>\n                  {{::case[\'Failed Flow Nodes\']}}\n                </div>\n\n              </td>\n              <td class="case-detail text-right">{{::(case[\'Pending Flow Nodes\'] - case[\'Failed Flow Nodes\'])}}</td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="1"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="2"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="3"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="4"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="5"></search-index></td>\n              <td class="case-link text-center">\n                <case-visu process-id=\'{{::case.processDefinitionId.id}}\' case-id=\'{{::case.ID}}\' is-supervisor="caseCtrl.isSupervisor()" ng-if="caseCtrl.hasMonitoring()"></case-visu>\n                <a id="case-overview-btn-{{::case.id}}" tooltip="{{\'View case overview\' | translate }}"  tooltip-popup-delay="500" tooltip-animation="false" target="_parent" ng-href="{{::caseCtrl.getLinkToCaseOverview(case)}}" class="open-link">\n                  <span class="glyphicon glyphicon-eye-open"></span>\n                </a>\n                <a id="case-detail-btn-{{::case.id}}" tooltip="{{\'View case details\' | translate }}"  tooltip-popup-delay="500" tooltip-animation="false" target="_parent" ng-href="{{::caseCtrl.getLinkToCase(case)}}" class="open-link">\n                  <span class="glyphicon glyphicon-option-horizontal"></span>\n                </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n\n          <table ng-if="archivedTabName" bonitable bo-storable="archived-admin-cases-list" on-storage-loaded="caseCtrl.loadContent()" bo-repeatable on-sort="caseCtrl.updateSortField(sortOptions)" sort-options="sortOptions" resizable-column="$columns" resize-selector="tr th.case-column" class="table table-striped table-hover table-responsive">\n            <thead>\n              <tr>\n                <th colspan="{{$columns.length+2}}">\n                  <div class="pull-left case-action table-buttons">\n                    <div class="case-action table-buttons"> <archived-case-delete>{{\'Delete\' | translate}}</archived-case-delete></div>\n                  </div>\n                  <div class="pull-right table-buttons">\n                    <table-settings class="pull-right" page-size="pagination.itemsPerPage" sizes="pageSizes" columns="$columns"  update-page-size="caseCtrl.changeItemPerPage(size)"></table-settings>\n                       <span ng-if="pagination.total" id="cases-results-size-top" class="pull-right">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n                  </div>\n                </th>\n              </tr>\n              <tr data-headers>\n                <th class="case-checkbox" data-ignore><div bo-selectall></div></th>\n                <th class="text-right case-column" bo-sorter="sourceObjectId" bo-sorter-title-asc="{{\'sort by ID ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by ID descending\' | translate}}">{{\'ID\' | translate}}</th>\n                <th class="case-column" bo-sorter="name" bo-sorter-title-asc="{{\'sort by Process name ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Process name descending\' | translate}}">{{\'Process name\' | translate}}</th>\n                <th class="case-column" >{{\'Version\' | translate}}</th>\n                <th bo-sorter="startDate" class="case-column" bo-sorter-title-asc="{{\'sort by Start date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Start date descending\' | translate}}">{{\'Start date\' | translate}}</th>\n                <th class="case-column" >{{\'Started by\' | translate}}</th>\n                <th bo-sorter="endDate" class="case-column" bo-sorter-title-asc="{{\'sort by End date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by End date descending\' | translate}}">{{\'End date\' | translate}}</th>\n                <th class="case-column" >{{\'State\' | translate}}</th>\n                <th bo-sorter="index1" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()"><span id="infoPopover" class="glyphicon glyphicon-info-sign" popover="{{\'To personalize the display of search keys (and columns in general), use the table settings button on the right. You can search on up to 5 search keys.\' | translate}}" popover-trigger="mouseenter"></span> {{\'Search Key 1\' | translate}}</th>\n                <th bo-sorter="index2" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 2\' | translate}}</th>\n                <th bo-sorter="index3" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 3\' | translate}}</th>\n                <th bo-sorter="index4" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 4\' | translate}}</th>\n                <th bo-sorter="index5" visible="false" class="case-column" remove-column="{{!caseCtrl.displayKeys()}}" ng-hide="!caseCtrl.displayKeys()">{{\'Search Key 5\' | translate}}</th>\n\n                <th data-ignore class="text-center">{{\'Actions\' | translate}}</th>\n              </tr>\n            </thead>\n            <tbody>\n\n            <tr ng-repeat="case in cases" id="caseId-{{::case.id}}" class="case-row" ng-class="{\'info\' : case.selected}">\n              <td class="case-checkbox">\n                <input id="case-check-{{::case.id}}" type="checkbox" bo-selector="case" >\n              </td>\n\n              <td class="case-detail text-right"><a id="case-detail-link-{{case.id}}" target="_parent" href="{{::caseCtrl.getLinkToCase(case)}}">{{case[\'ID\']}}</a></td>\n              <td class="case-detail"><a id="case-process-link-{{case.id}}" target="_parent" href="{{::caseCtrl.getLinkToProcess(case)}}">{{case[\'Process name\']}}</a></td>\n              <td class="case-detail">{{::case[\'Version\']}}</td>\n              <td class="case-detail">{{::caseCtrl.parseAndFormat(case[\'Start date\'])}}</td>\n              <td class="case-detail" title="{{\'username:\' | translate}} {{::case[\'Started by\'] || (\'System\' | translate)}}">{{::case[\'Started by fullname\'] || (\'System\' | translate)}}</td>\n              <td class="case-detail">{{::caseCtrl.parseAndFormat(case[\'End date\'])}}</td>\n              <td class="case-detail">{{::case[\'State\']}}</td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="1"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="2"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="3"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="4"></search-index></td>\n              <td class="case-detail" ng-hide="!caseCtrl.displayKeys()"><search-index case="case" index="5"></search-index></td>\n              <td class="case-link text-center">\n                <case-visu process-id=\'{{::case.processDefinitionId.id}}\' case-id=\'{{::case.ID}}\' is-supervisor="caseCtrl.isSupervisor()" ng-if="caseCtrl.hasMonitoring()"></case-visu>\n                <a id="case-overview-btn-{{::case.id}}" tooltip="{{\'View case overview\' | translate }}"  tooltip-popup-delay="500" tooltip-animation="false" target="_parent" ng-href="{{::caseCtrl.getLinkToArchivedCaseOverview(case)}}" class="open-link">\n                  <span class="glyphicon glyphicon-eye-open"></span>\n                </a>\n                <a id="case-detail-btn-{{::case.id}}" tooltip="{{\'View case details\' | translate }}"  tooltip-popup-delay="500" tooltip-animation="false" target="_parent" ng-href="{{::caseCtrl.getLinkToCase(case)}}" class="open-link">\n                  <span class="glyphicon glyphicon-option-horizontal"></span>\n                </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class="col-md-12">\n          <div class="pull-right" ng-if="pagination.total">\n            <span id="cases-results-size-bottom" class="pull-left">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n            <pagination id="cases-results-pages" ng-if="pagination.total > pagination.itemsPerPage" ng-click="caseCtrl.searchForCases()" boundary-links="true" total-items="pagination.total" ng-model="pagination.currentPage" items-per-page="pagination.itemsPerPage " previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" max-size="5"></pagination>\n           </div>\n        </div>\n      </div>\n      <div ng-show="loading">\n        <p class="text-muted"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>&nbsp;{{ \'Loading...\' | translate}}</p>\n      </div>\n      <div ng-show="!loading &amp;&amp; cases &amp;&amp; cases.length===0">\n        <p class="text-muted animated fadeIn">{{ \'No cases to display\' | translate }}</p>\n      </div>\n    </div>\n  </div>\n</div>\n<script type="text/ng-template" id="cases/pengind-flownode.html">\n<translate>Aggregates tasks in states ready, waiting,<br/>executing, completing, and initializing</translate>\n<\/script>\n')}]),angular.module("portalTemplates/admin/cases/list/cases.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/cases/list/cases.html",'<div id="case-list" class="container">\n  <h1 id="case-title">{{\'Cases\' | translate }}</h1>\n\n  <div>\n    <ul class="nav nav-tabs" role="tablist">\n      <li role="presentation" ng-repeat="caseState in casesStates" ng-class="{\'active\' : state.is(caseState.state)}"><a class="title" href="" bonita-href="{\'token\' : currentToken, \'_tab\' : caseState.tabName}" id="{{:: caseState.htmlAttributeId}}">{{:: caseState.title}}</a></li>\n    </ul>\n    <div ui-view=\'case-list\' id="case-list-tab-content"></div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/mapping/actors.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/mapping/actors.html",'<isteven-multi-select\n  input-model="actorsCtrl.members"\n  output-model="actorsCtrl.selectedMembers.list"\n  button-label="buttonLabel"\n  item-label="listLabel"\n  helper-elements="all filter reset none"\n  tick-property="selected"\n  max-labels="5"\n  max-height="200px"\n  translation="localLang"\n  on-search-change="actorsCtrl.searchWithDebounce(data)"\n  search-property="contentToSearch"\n  on-clear="actorsCtrl.search({})"\n  on-reset="actorsCtrl.search({})"\n  selection-mode="{{actorsCtrl.selectionMode}}"></isteven-multi-select>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/business-card/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/business-card/index.html",'<h2 class="SubHeading" translate>Business card</h2>\n<bo-card\n    class="UserCard"\n    card-data="vm.user.professional_data"\n    on-save="vm.saveBusinessCard"\n    button-text="{{ \'Update business card\' | translate}}">\n</bo-card>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/card.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/card.html",'<form class="form-horizontal col-lg-9">\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="address" translate>Address</label>\n        <div class="col-md-9">\n            <input class="form-control" type="text" id="address" ng-model="vm.cardData.address">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="city" translate>City</label>\n        <div class="col-md-9">\n            <input class="form-control" type="text" id="city" ng-model="vm.cardData.city">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="country" translate>Country</label>\n        <div class="col-md-9">\n            <input class="form-control" type="text" id="country" ng-model="vm.cardData.country">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="zipcode" translate>Zip code</label>\n        <div class="col-md-9">\n            <input class="form-control" type="text" id="zipcode" ng-model="vm.cardData.zipcode">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="state" translate>State</label>\n        <div class="col-md-9">\n            <input class="form-control" type="text" id="state" ng-model="vm.cardData.state">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="email" translate>Email</label>\n        <div class="col-md-9">\n            <input class="form-control" type="email" id="email" ng-model="vm.cardData.email">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="phone_number" translate>Phone</label>\n        <div class="col-md-9">\n            <input class="form-control" type="tel" id="phone_number" ng-model="vm.cardData.phone_number">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <label class="col-md-3 control-label" for="mobile_number" translate>Mobile</label>\n        <div class="col-md-9">\n            <input class="form-control" type="tel" id="mobile_number" ng-model="vm.cardData.mobile_number">\n        </div>\n    </div>\n\n    <div class="form-group">\n        <div class="col-md-offset-3 col-md-9">\n            <button class="btn btn-primary" ng-click="vm.save(vm.cardData)">{{ vm.buttonText }}</button>\n        </div>\n    </div>\n</form>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/custom-information/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/custom-information/index.html",'<h2 class="SubHeading" translate>Custom information</h2>\n<form class="form-horizontal col-lg-9">\n\n    <div ng-if="vm.hasCustomInfo()">\n        <div ng-repeat="info in vm.customInformation" class="form-group">\n            <label class="col-md-3 control-label">{{info.definitionId.name}}</label>\n            <div class="col-md-9">\n                <input type="text" ng-model="info.value" class="form-control">\n                <p class="help-block" ng-if="info.definitionId.description">\n                    {{info.definitionId.description}}\n                </p>\n            </div>\n        </div>\n        <div class="form-group">\n            <div class="col-md-offset-3 col-md-9">\n                <button class="btn btn-primary"\n                        ng-click="vm.saveCustomInfo(vm.customInformation)"\n                        translate>\n                    Update custom information\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <div ng-if="!vm.hasCustomInfo()">\n        <p translate>No custom information defined.</p>\n        <div class="CustomInformation-guidance">\n            <translate>You can create custom information in Bonita Studio:</translate>\n            <ul>\n                <li translate>\n                    In the menu <i>Organization > Manage</i>, go to the <i>Users</i> page of the wizard\n                </li>\n                <li translate>\n                    Select the <i>User information management</i> tab to add <i>Custom information</i> on the right\n                </li>\n            </ul>\n            <translate>\n                Then for each user, fill out the custom information value, in the Studio (<i>List of users</i> tab of\n                the organization), or right on this Portal page.\n            </translate>\n        </div>\n    </div>\n</form>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/general/avatar-upload.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/general/avatar-upload.html",'<div class="AvatarUpload">\n    <div class="AvatarUpload-preview"\n         ng-class="{\'AvatarUpload-preview--busy\': vm.uploader.isUploading, \'AvatarUpload-preview--default\': !vm.hasIcon()}">\n        <img ng-if="vm.hasIcon()"\n             class="img-rounded img-responsive"\n             alt="avatar"\n             ng-src="{{vm.iconSrc}}">\n    </div>\n    <div class="AvatarUpload-btn">\n        <label class="btn btn-default btn-xs"\n               ng-class="{ \'disabled\': vm.uploader.isUploading }">\n            <translate>Upload new picture</translate>\n            <input type="file"\n                   nv-file-select\n                   uploader="vm.uploader"\n                   ng-disabled="vm.uploader.isUploading"\n                   accept="image/*"\n            />\n        </label>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/general/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/general/index.html",'<h3 class="SubHeading">General information</h3>\n\n<form class="form-horizontal">\n\n    <div class="col-md-9">\n        <div class="UserMetadata col-md-offset-2">\n            <dl>\n                <dt translate>Last login</dt>\n                <dd>{{ vm.user.last_connection | moment:\'LLL\' }}</dd>\n            </dl>\n            <dl>\n                <dt translate>Creation date</dt>\n                <dd>{{ vm.user.creation_date | moment:\'LLL\' }}</dd>\n            </dl>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" for="title" translate>Title</label>\n            <div class="col-md-9">\n                <input class="form-control" type="text" id="title" ng-model="vm.user.title">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" for="firstname" translate>First name</label>\n            <div class="col-md-9">\n                <input class="form-control" type="text" id="firstname" ng-model="vm.user.firstname">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" for="lastname" translate>Last name</label>\n            <div class="col-md-9">\n                <input class="form-control" type="text" id="lastname" ng-model="vm.user.lastname">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" for="username" translate>Username</label>\n            <div class="col-md-9">\n                <input class="form-control" type="text" id="username" ng-model="vm.user.userName">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" for="jobtitle" translate>Job title</label>\n            <div class="col-md-9">\n                <input class="form-control" type="text" id="jobtitle" ng-model="vm.user.job_title">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label class="col-md-3 control-label" translate>Manager</label>\n            <div class="col-md-9">\n                <bo-manager-field\n                       selected="vm.user.manager_id"\n                       on-type="vm.searchManagers">\n            </div>\n        </div>\n\n        <div class="form-group">\n            <div class="col-md-offset-3 col-md-9">\n                <button class="btn btn-primary" ng-click="vm.saveGeneralInformation(vm.user)" translate>\n                    Update general information\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <div class="col-md-3">\n        <bo-avatar-upload icon-src="vm.user.icon" uploader="vm.uploader"></bo-avatar-upload>\n    </div>\n\n</form>\n\n')}]),angular.module("portalTemplates/admin/organisation/users/details/general/manager-field.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/general/manager-field.html",'<input type="text"\n       class="form-control"\n       ng-model="vm.manager"\n       typeahead="manager as vm.formatLabel(manager) for manager in vm.searchManagers($viewValue)"\n       typeahead-input-formatter="vm.formatLabel($model)"\n       ng-model-options="{ debounce: 200 }"\n       autocomplete="off">\n')}]),angular.module("portalTemplates/admin/organisation/users/details/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/index.html",'<div class="page">\n    <div class="col-xs-12 ToolBar">\n        <a class="btn btn-default" ng-click="vm.goBack()" translate>Back</a>\n    </div>\n\n    <div class="col-xs-12 UserTitle">\n        <h1>{{vm.user.title}} {{vm.user.firstname}} {{vm.user.lastname}}</h1>\n    </div>\n\n    <div class="col-sm-3 col-md-3 col-lg-3">\n        <div class="list-group">\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.general"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                General information\n            </a>\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.password"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                Password\n            </a>\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.profiles"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                Profiles / Memberships\n            </a>\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.businessCard"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                Business card\n            </a>\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.personalInfo"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                Personal information\n            </a>\n            <a class="list-group-item"\n               ui-sref="bonita.userDetails.customInfo"\n               ui-sref-active="active"\n               ui-sref-opts="{location:\'replace\'}"\n               translate>\n                Custom information\n            </a>\n        </div>\n    </div>\n\n    <div class="UserDetails col-sm-9 col-md-9 col-lg-9">\n        <ui-view></ui-view>\n    </div>\n\n</div>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/password/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/password/index.html",'<h2 class="SubHeading" translate>Password</h2>\n<bo-password on-update="vm.updatePassword" errors="vm.errors"></bo-password>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/password/password.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/password/password.html",'<form name="passwordForm" class="form-horizontal col-lg-9">\n    <div class="form-group" ng-class="{\'has-error\': vm.errors.length > 0}">\n        <label class="col-md-3 control-label" for="password" translate>New Password</label>\n        <div class="col-md-9">\n            <input class="form-control"\n                   type="password"\n                   name="newPassword"\n                   id="password"\n                   ng-model="vm.password.new"\n                   ng-change="vm.resetValidity()"\n                   required>\n            <span ng-if="vm.errors.length > 0" class="help-block" ng-repeat="error in vm.errors">{{error}}</span>\n        </div>\n    </div>\n\n    <div class="form-group" ng-class="{\'has-error\': vm.invalid}">\n        <label class="col-md-3 control-label" for="confirm" translate>Confirm new Password</label>\n        <div class="col-md-9">\n            <input class="form-control"\n                   type="password"\n                   id="confirm"\n                   ng-model="vm.password.confirm"\n                   ng-change="vm.resetValidity()"\n                   required>\n            <span ng-if="vm.invalid" class="help-block" translate>Passwords don\'t match</span>\n        </div>\n    </div>\n\n    <div class="form-group">\n        <div class="col-md-offset-3 col-md-9">\n            <button class="btn btn-primary" ng-click="vm.update(vm.password)" translate>Update password</button>\n        </div>\n    </div>\n</form>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/personal-information/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/personal-information/index.html",'<h2 class="SubHeading" translate>Personal information</h2>\n<bo-card\n    class="UserCard"\n    card-data="vm.user.personnal_data"\n    on-save="vm.savePersonalInformation"\n    button-text="{{ \'Update personal information\' | translate }}">\n</bo-card>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/profiles/add-membership-popup.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/profiles/add-membership-popup.html",'<div>\n\n    <div class="modal-header">\n        <h1 class="modal-title" translate>Add membership</h1>\n    </div>\n\n    <div class="modal-body">\n\n        <actors-select-box\n            local-lang="vm.localeLangRole"\n            selected-members="vm.membership.role"\n            already-mapped-actors-ids="vm.mappedIds"\n            type="ROLE" selection-mode="single">\n        </actors-select-box>\n\n        <span style="clear:both">{{\' of \' | translate }}</span>\n\n        <actors-select-box local-lang="vm.localeLangGroup"\n                           selected-members="vm.membership.group"\n                           already-mapped-actors-ids="vm.mappedIds"\n                           type="GROUP" selection-mode="single">\n        </actors-select-box>\n    </div>\n\n    <div class="modal-footer">\n        <button class="btn btn-primary"\n                ng-click="this.$close(vm.mapMembershipObject(vm.membership))"\n                ng-disabled="!vm.isButtonEnabled()"\n                translate>\n            Add\n        </button>\n        <button class="btn btn-default"\n                ng-click="this.$dismiss()"\n                translate>\n            Cancel\n        </button>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/profiles/delete-membership-popup.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/profiles/delete-membership-popup.html",'<div>\n    <div class="modal-header">\n        <h1 class="modal-title" translate>Delete membership</h1>\n    </div>\n\n    <div class="modal-body" translate>\n        Are you sure you want to delete this membership ?\n    </div>\n\n    <div class="modal-footer">\n        <a class="btn btn-primary"\n           ng-click="this.$close(vm.membership)"\n           translate>\n            Delete\n        </a>\n        <a class="btn btn-default"\n           ng-click="this.$dismiss()"\n           translate>\n            Cancel\n        </a>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/organisation/users/details/profiles/index.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/organisation/users/details/profiles/index.html",'<h2 class="SubHeading" translate>Profiles</h2>\n<table class="Profiles">\n    <tr ng-repeat="profile in vm.profiles">\n        <td>{{profile.name}}</td>\n    </tr>\n</table>\n\n<div class="memberships-title-section">\n    <h2 class="SubHeading" translate>Memberships</h2>\n    <span>\n        <button class="btn btn-primary AddMembershipsBtn"\n                ng-click="vm.openAddPopup()"> +\n        </button>\n    </span>\n</div>\n<table class="Memberships">\n    <tr ng-repeat="membership in vm.memberships">\n        <td translate>\n            {{membership.role_id.displayName}} of {{membership.group_id.displayName}}\n        </td>\n        <td>\n            <span class="glyphicon glyphicon-trash clickable"\n                  ng-click="vm.openDeletePopUp(membership)"></span>\n        </td>\n    </tr>\n</table>\n<div class="col-md-12">\n    <div class="pull-left" ng-if="vm.paginationMembership.total">\n        <pagination id="memberships-results-pages"\n                    ng-if="vm.paginationMembership.total > vm.paginationMembership.itemsPerPage" boundary-links="true"\n                    total-items="vm.paginationMembership.total"\n                    ng-click="vm.searchMemberships()"\n                    ng-model="vm.paginationMembership.currentPage"\n                    items-per-page="vm.paginationMembership.itemsPerPage " previous-text="&lsaquo;" next-text="&rsaquo;"\n                    first-text="&laquo;" last-text="&raquo;" max-size="5"></pagination>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/actors-mapping.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/actors-mapping.html","<div id=\"process-details-actors\">\n  <h2 class=\"SubHeading\">{{'Actors' | translate}}</h2>\n  <p>{{'Select the entities (users, groups, roles, memberships) to map to the actors. These entities will do the human tasks in the process.' | translate}}</p>\n    <p>{{'Check that each entity is mapped to a profile, for either Bonita Portal or for applications you have created.' | translate}} {{'To do so, go to' | translate}} <a href=\"\" bonita-href=\"profilelisting\">{{'Profiles' | translate}}</a>.</p>\n  <table class=\"table  actorMappingList\">\n    <thead>\n      <tr>\n        <th>{{'Actor name' | translate}}</th>\n        <th>{{'Users' | translate}}</th>\n        <th>{{'Roles' | translate}}</th>\n        <th>{{'Groups' | translate}}</th>\n        <th>{{'Memberships' | translate}}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat-start=\"actor in actorsMappingCtrl.actors\">\n        <td class=\"actorName\">{{actor.name}}</td>\n        <td class=\"members\">\n"+'          <span ng-repeat="user in actorsMappingCtrl.actorsMembers[actor.id].users.data" class="label label-default member">\n            {{user.user_id.firstname}} {{user.user_id.lastname}}\n          </span>\n          <span ng-if="actorsMappingCtrl.actorsMembers[actor.id].users.resource.pagination.total > actorsMappingCtrl.membersPerCell" class="label label-default member">{{\'{} more\' | translate | stringTemplater: actorsMappingCtrl.actorsMembers[actor.id].users.resource.pagination.total - actorsMappingCtrl.membersPerCell}}</span>\n        </td>\n        <td class="members">\n          <span ng-repeat="role in actorsMappingCtrl.actorsMembers[actor.id].roles.data" class="label label-default member">\n            {{role.role_id.displayName}}\n          </span>\n          <span ng-if="actorsMappingCtrl.actorsMembers[actor.id].roles.resource.pagination.total > actorsMappingCtrl.membersPerCell" class="label label-default member">{{\'{} more\'|translate}} | stringTemplater: actorsMappingCtrl.actorsMembers[actor.id].roles.resource.pagination.total - actorsMappingCtrl.membersPerCell</span>\n        </td>\n        <td class="members">\n          <span ng-repeat="group in actorsMappingCtrl.actorsMembers[actor.id].groups.data" class="label label-default member">\n            {{group.group_id.displayName}}\n          </span>\n          <span ng-if="actorsMappingCtrl.actorsMembers[actor.id].groups.resource.pagination.total > actorsMappingCtrl.membersPerCell" class="label label-default member">{{\'{} more\' | translate | stringTemplater: actorsMappingCtrl.actorsMembers[actor.id].groups.resource.pagination.total - actorsMappingCtrl.membersPerCell}}</span>\n        </td>\n        <td class="members">\n          <span ng-repeat="membership in actorsMappingCtrl.actorsMembers[actor.id].memberships.data" class="label label-default member">\n            {{\'{} of {}\' | translate | stringTemplater: [membership.role_id.displayName, membership.group_id.displayName]}}\n          </span>\n          <span ng-if="actorsMappingCtrl.actorsMembers[actor.id].memberships.resource.pagination.total > actorsMappingCtrl.membersPerCell" class="label label-default member">{{\'{} more\' | translate | stringTemplater: actorsMappingCtrl.actorsMembers[actor.id].memberships.resource.pagination.total - actorsMappingCtrl.membersPerCell}}</span>\n        </td>\n      </tr>\n      <tr ng-repeat-end class="mappingEdition-actions">\n        <td></td>\n        <td>\n          <div class="cellFooter pull-right">\n            <button ng-click="actorsMappingCtrl.editMapping(actor, \'users\')" class="btn btn-primary">\n              <span class="glyphicon" ng-class="{\'glyphicon-pencil\': actorsMappingCtrl.actorsMembers[actor.id].users.data.length, \'glyphicon-plus\': !actorsMappingCtrl.actorsMembers[actor.id].users.data.length}"></span>\n            </button>\n          </div>\n        </td>\n        <td>\n           <div class="cellFooter pull-right">\n            <button ng-click="actorsMappingCtrl.editMapping(actor, \'roles\')" class="btn btn-primary">\n              <span class="glyphicon" ng-class="{\'glyphicon-pencil\': actorsMappingCtrl.actorsMembers[actor.id].roles.data.length, \'glyphicon-plus\': !actorsMappingCtrl.actorsMembers[actor.id].roles.data.length}"></span>\n            </button>\n          </div>\n        </td>\n        <td>\n           <div class="cellFooter pull-right">\n            <button ng-click="actorsMappingCtrl.editMapping(actor, \'groups\')" class="btn btn-primary">\n              <span class="glyphicon" ng-class="{\'glyphicon-pencil\': actorsMappingCtrl.actorsMembers[actor.id].groups.data.length, \'glyphicon-plus\': !actorsMappingCtrl.actorsMembers[actor.id].groups.data.length}"></span>\n            </button>\n          </div>\n        </td>\n        <td>\n          <div class="cellFooter pull-right">\n            <button ng-click="actorsMappingCtrl.editMapping(actor, \'memberships\')" class="btn btn-primary">\n              <span class="glyphicon" ng-class="{\'glyphicon-pencil\': actorsMappingCtrl.actorsMembers[actor.id].memberships.data.length, \'glyphicon-plus\': !actorsMappingCtrl.actorsMembers[actor.id].memberships.data.length}"></span>\n            </button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/delete-process-modal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/delete-process-modal.html",'<div id="delete-process-modal">\n    <div class="modal-header header">\n        <h3 class="modal-title">{{\'Delete process\'| translate }}</h3>\n    </div>\n    <div class="modal-body body">\n      <p class="text-muted">{{ \'Delete the process\' | translate }} {{deleteProcessModalInstanceCtrl.process.name}}</p>\n    </div>\n    <div class="modal-footer">\n        <button  class="start-for btn btn-primary"\n                 ng-disabled="deleteProcessModalInstanceCtrl.processing"\n                 ng-click="deleteProcessModalInstanceCtrl.delete()">\n            {{ \'Delete\' | translate }}\n        </button>\n        <button class="btn btn-default close_popup"\n                ng-disabled="deleteProcessModalInstanceCtrl.processing"\n                ng-click="deleteProcessModalInstanceCtrl.cancel()">\n            {{ \'Cancel\' | translate }}\n        </button>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/edit-actor-members.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/edit-actor-members.html",'<div id="editActorsMembersModal" ng-init="editActorMembersCtrl.initView()" class="process-details">\n\n    <div class="modal-header">\n        <h1 class="modal-title">{{editActorMembersCtrl.title | translate | stringTemplater:[editActorMembersCtrl.actor.displayName]}}</h1>\n    </div>\n    <div class="modal-body">\n        <h2>{{\'{} mapped\' | translate | stringTemplater:[editActorMembersCtrl.currentMemberLabel]}}</h2>\n        <p class="members">\n      <span ng-repeat="member in editActorMembersCtrl.members" class="tag label label-default member">\n          {{member.label}} <i ng-click="editActorMembersCtrl.removeMember(member)" class="glyphicon glyphicon-remove"></i>\n      </span>\n            <span ng-click="editActorMembersCtrl.removeAll()" class="tag label label-danger" ng-if="!!editActorMembersCtrl.members.length"> {{\'Remove all\' | translate}}</span>\n        </p>\n        <p class="text-muted" ng-if="!editActorMembersCtrl.members.length">\n            {{\'No mapping\' | translate}}\n        </p>\n        <div ng-if="!editActorMembersCtrl.isMembershipEdit()">\n            <h3>{{\'Add\' | translate}}</h3>\n            <p>\n                <actors-select-box local-lang="editActorMembersCtrl.localLang"\n                                   selected-members="editActorMembersCtrl.newMembers"\n                                   already-mapped-actors-ids="editActorMembersCtrl.mappedIds"\n                                   type="{{editActorMembersCtrl.memberType}}"></actors-select-box>\n            </p>\n        </div>\n        <div ng-if="editActorMembersCtrl.isMembershipEdit()">\n            <h3>{{\'Create a new membership\' | translate}}</h3>\n            <p>\n                <actors-select-box local-lang="editActorMembersCtrl.localLangRole"\n                                   selected-members="editActorMembersCtrl.newMembers.membership.role"\n                                   already-mapped-actors-ids="editActorMembersCtrl.mappedIds"\n                                   type="ROLE" selection-mode="single"></actors-select-box>\n                <span style="clear:both">{{\' of \' | translate }}</span>\n                <actors-select-box local-lang="editActorMembersCtrl.localLangGroup"\n                                   selected-members="editActorMembersCtrl.newMembers.membership.group"\n                                   already-mapped-actors-ids="editActorMembersCtrl.mappedIds"\n                                   type="GROUP" selection-mode="single"></actors-select-box>\n            </p>\n        </div>\n        <div ng-if="!!editActorMembersCtrl.membersToDelete.length">\n            <h3>{{\'{} mappings to delete\' | translate | stringTemplater:[editActorMembersCtrl.currentMemberLabel]}}</h3>\n            <p class="members">\n        <span ng-repeat="member in editActorMembersCtrl.membersToDelete" class="member label label-default">\n          {{member.label}} <i ng-click="editActorMembersCtrl.reenableMember(member)" class="glyphicon glyphicon-remove"></i>\n        </span>\n                <span ng-click="editActorMembersCtrl.reenableAll()" class="label label-success" ng-if="editActorMembersCtrl.membersToDelete.length>0"> {{\'Enable all\' | translate}}</span>\n            </p>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <a ng-if="editActorMembersCtrl.hasModificationToApply()" class="btn btn-primary" ng-click="editActorMembersCtrl.apply()">{{\'Apply\' | translate }}</a>\n        <a ng-click="editActorMembersCtrl.cancel()" class="btn btn-default">{{\'Cancel\'|translate}}</a>\n    </div>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/information.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/information.html",'<div id="process-details-information">\n  <h2 class="SubHeading">{{\'General\' | translate}}</h2>\n  <div class="panel panel-default">\n    <div class="panel-body">\n      <div class="col-md-12 row">\n        <div class="metatags-label form-group">{{ \'Configuration state\' | translate}}\n          <b>{{::processInformationCtrl.process.configurationState}}</b>\n        </div>\n        <div class="metatags-label  form-group">\n          {{ \'Activation state\' | translate}}&nbsp;\n              <toggle-button on="Enabled" off="Disabled" process-id="{{::processInformationCtrl.process.id}}" initial-state="{{::processInformationCtrl.process.activationState === \'ENABLED\'}}" enable-toggle="processInformationCtrl.isProcessResolved()"></toggle-button>\n        </div>\n        <div class="metatags-label form-group">\n            {{ \'Updated on\' | translate}}\n            <b >{{::processInformationCtrl.parseAndFormat(processInformationCtrl.process.last_update_date)}}</b>\n        </div>\n      </div>\n      <div class="col-md-12 row">\n\n        <p ng-if="processInformationCtrl.process.description" >{{processInformationCtrl.process.description}}</p>\n        <p class="text-muted" ng-if="!processInformationCtrl.process.description" >{{\'No description.\' | translate}}</p>\n      </div>\n      <div class="col-md-12 row">\n        <div class="col-md-12 row categories">\n          <div class="col-md-2 row metatags-label">\n          {{\'Categories\' | translate}} <button class="btn btn-primary" ng-click="processInformationCtrl.openProcessCategoryManagementModal()"><span class="glyphicon glyphicon-pencil"></span></button>\n          </div>\n          <div class="col-md-10 bootstrap-tags">\n            <bonitags tags-suggestion="processInformationCtrl.categories" tags-selection="processInformationCtrl.selectedCategories" read-only></bonitags>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div ng-if="processInformationCtrl.process.id">\n  <monitoring-status process=\'processInformationCtrl.process\'></monitoring-status>\n\n  <process-manager-mapping process=\'processInformationCtrl.process\'></process-manager-mapping>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/manage-category-mapping-modal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/manage-category-mapping-modal.html",'<div id="manage-categories-modal" class="process-details">\n    <div class="modal-header header">\n        <h3 class="modal-title">{{\'Manage Categories\'| translate }}</h3>\n    </div>\n    <div class="modal-body body">\n        <bonitags tags-suggestion="manageCategoryMappingInstanceCtrl.tags" tags-selection="manageCategoryMappingInstanceCtrl.selectedTags" tag-class="label-default editable"></bonitags>\n    <hr>\n        {{\'Use Arrow up and Arrow down keys to browse among existing categories.\' | translate}} <br>\n        {{\'Enter a new category name and press "Enter" key to create a new category and assign it to the current process.\' | translate}}\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-primary" ng-click="manageCategoryMappingInstanceCtrl.updateCategories()">{{ \'Save\' | translate }}</button>\n        <button class="btn btn-default close_popup" ng-click="manageCategoryMappingInstanceCtrl.cancel()">{{ \'Cancel\' | translate }}</button>\n    </div>\n\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/menu.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/menu.html",'<div id="process-details" class="process-details">\n  <div class="col-md-12 actions">\n    <div class="col-md-2">\n        <a id="processDetails-back" class="btn btn-default" ng-click="processMenuCtrl.goBack()">{{\'Back\' | translate}}</a>\n    </div>\n    <div class="col-md-10 text-right">\n      <start-for process="processMenuCtrl.process"></start-for>&nbsp;\n      <button id="processDetails-deleteProcess"\n              type="button"\n              class="btn btn-default"\n              ng-disabled="processMenuCtrl.process.activationState === \'ENABLED\'"\n              ng-click="processMenuCtrl.deleteProcess()">\n          {{\'Delete\' | translate}}\n      </button>\n    </div>\n  </div>\n  <div class="col-md-12">\n    <h1>{{processMenuCtrl.process.displayName}} ({{processMenuCtrl.process.version}})</h1>\n  </div>\n  <div class="col-md-12" style="padding-top: 10px;">\n    <div ng-if="processMenuCtrl.processResolutionProblems.length" style=" padding-bottom: 0px;" class="panel panel-danger slide">\n      <div class="panel-heading"><span class="glyphicon glyphicon-exclamation-sign"></span> {{ \'The Process cannot be enabled\' | translate }}</div>\n      <div class="panel-body">\n        <div class="col-md-12">\n          <ul>\n            <li ng-repeat="problem in processMenuCtrl.processResolutionProblems">\n              {{problem.message | translate | stringTemplater: problem.args}}\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="col-sm-3 col-md-3 col-lg-2">\n    <div class="list-group">\n      <a class="list-group-item" ng-repeat="item in processMenuCtrl.menuContent" ng-class="{active: processMenuCtrl.includesCurrentState(item.state) }" ui-sref="{{item.defaultDestinationState || item.state}}" ui-sref-opts="{location:false}">{{item.name | translate}}<span ng-if="processMenuCtrl.hasResolutionProblem(item.resolutionLabel)" ng-class="{\'text-danger\': !processMenuCtrl.includesCurrentState(item.state) }" class="glyphicon glyphicon-exclamation-sign"></span> </a>\n    </div>\n  </div>\n  <div class="col-sm-9 col-md-9 col-lg-10">\n    <div class="col-md-12">\n      <ui-view></ui-view>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/params.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/params.html",'<div id="process-details-params">\n  <h2 class="SubHeading">{{\'Parameters\' | translate}}</h2>\n  <div ng-if="!processParamsCtrl.parameters.length">\n    {{ \'The current process has no parameters defined.\' | translate}}\n  </div>\n  <div ng-if="!!processParamsCtrl.parameters.length">\n    <table class="table table-striped">\n        <thead>\n            <tr>\n                <th>{{\'Name\' | translate}}</th>\n                <th>{{\'Description\' | translate}}</th>\n                <th>{{\'Type\' | translate}}</th>\n                <th>{{\'Value\' | translate}}</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr ng-repeat="parameter in processParamsCtrl.parameters">\n              <td>{{parameter.name}}</td>\n              <td>{{parameter.description}}</td>\n              <td>{{parameter.type}}</td>\n              <td ng-if="!processParamsCtrl.showActions">{{parameter.value}}</td>\n              <td ng-if="processParamsCtrl.showActions" class="xeditable">\n                <div ng-switch="parameter.type">\n                  <div ng-switch-when="java.lang.Boolean" class="form-group">\n                    <a href="" editable-select="parameter.value" onbeforesave="processParamsCtrl.updateParameter(parameter, $data)"  e-ng-options="s.value as s.value for s in processParamsCtrl.booleanValues">{{ parameter.value || \'No Value\' | translate}}</a>\n                  </div>\n                  <div ng-switch-default class="form-group">\n                    <a href="" editable-text="parameter.value" e-style="width: 400px;" onbeforesave="processParamsCtrl.updateParameter(parameter, $data)" >{{ parameter.value || \'No Value\' | translate}}</a>\n                  </div>\n                </div>\n              </td>\n            </tr>\n        </tbody>\n    </table>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/admin/processes/details/process-connectors.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/admin/processes/details/process-connectors.html",'<div id="process-details-connectors">\n  <h2 class="SubHeading">{{\'Connectors\' | translate}}</h2>\n  <div ng-if="!processConnectorsCtrl.processConnectors.length">\n    {{ \'The current process has no connectors defined.\' | translate}}\n  </div>\n  <div ng-if="!!processConnectorsCtrl.processConnectors.length">\n    <table class="table table-hover processConnectorsList">\n      <thead>\n        <tr data-headers>\n          <th>{{\'Type\' | translate}}</th>\n          <th>{{\'Implementation version\' | translate}}</th>\n          <th>{{\'Class name\' | translate}}</th>\n          <th ng-if="processConnectorsCtrl.showActions">{{\'Actions\' | translate}}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="processConnector in processConnectorsCtrl.processConnectors">\n          <td>{{processConnector.definition_id}}</td>\n          <td>{{processConnector.impl_version}}</td>\n          <td>{{processConnector.classname}}</td>\n          <td ng-if="processConnectorsCtrl.showActions"><edit-process-connector-implementation-link process-connector="processConnector" process="processConnectorsCtrl.process"></edit-process-connector-implementation-link></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/user/cases/list/archived-cases-list-filters.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/cases/list/archived-cases-list-filters.html",'<div id="case-filters" class="panel panel-default">\n\n  <div class="panel-heading title">{{ \'Filters\' | translate }}</div>\n  <div class="panel-body">\n    <div class="col-md-3 button-filter"> {{ \'Process name\' | translate }}\n      <div class="btn-group" dropdown id="case-app-name-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle ">{{selectedFilters.selectedApp | translate}}<span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterUserCtrl.selectApp(defaultUserFilters.appName)"><a>{{defaultUserFilters.appName | translate}}</a></li>\n          <li ng-if="appNames &amp;&amp; appNames.length>0" class="divider"></li>\n          <li ng-repeat="appName in appNames" ng-click="filterUserCtrl.selectApp(appName)"><a>{{appName}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">{{\'Started by\' | translate}}\n      <div class="btn-group" dropdown id="case-app-startedby-filter">\n          <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle">{{caseStatesUserValues[selectedFilters.selectedStartedBy] | translate}} <span class="caret"></span></button>\n          <ul class="dropdown-menu" role="menu">\n              <li ng-click="filterUserCtrl.selectCaseStartedBy(defaultUserFilters.startedBy)"><a>{{defaultUserFilters.startedBy | translate}}</a></li>\n              <li class="divider"></li>\n              <li ng-click="filterUserCtrl.selectCaseStartedBy(\'Me\')"><a>{{\'Me\' | translate}}</a></li>\n          </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">\n    </div>\n    <div class="col-md-3 button-filter">\n      <form role="form" name="searchForm" novalidate ng-submit="filterUserCtrl.submitSearch()">\n          <div class="input-group">\n            <input type="text" class="form-control" ng-model="selectedFilters.currentSearch" name="searchField" id="case-list-search" placeholder="{{ \'Search...\' | translate }}">\n            <span ng-click="filterUserCtrl.submitSearch()" class="input-group-addon pointer"><span class="glyphicon glyphicon-search"></span></span>\n          </div>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/user/cases/list/cases-list-filters.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/cases/list/cases-list-filters.html",'<div id="case-filters" class="panel panel-default">\n  <div class="panel-heading title">{{\'Filters\' | translate}}</div>\n  <div class="panel-body">\n    <div class="col-md-3 button-filter">{{\'Process name\' | translate}}\n      <div class="btn-group" dropdown id="case-app-name-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle">{{selectedFilters.selectedApp | translate}}<span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterUserCtrl.selectApp(defaultUserFilters.appName)"><a>{{defaultUserFilters.appName | translate}}</a></li>\n          <li ng-if="appNames &amp;&amp; appNames.length>0" class="divider"></li>\n          <li ng-repeat="appName in appNames" ng-click="filterUserCtrl.selectApp(appName)"><a>{{appName}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3 button-filter">{{\'Started by\' | translate}}\n      <div class="btn-group" dropdown id="case-app-startedby-filter">\n        <button type="button" dropdown-toggle class="btn btn-primary dropdown-toggle">{{caseStatesUserValues[selectedFilters.selectedStartedBy] | translate}} <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-click="filterUserCtrl.selectCaseStartedBy(defaultUserFilters.startedBy)"><a>{{defaultUserFilters.startedBy | translate}}</a></li>\n          <li class="divider"></li>\n          <li ng-click="filterUserCtrl.selectCaseStartedBy(\'Me\')"><a>{{\'Me\' | translate}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-3" style="float:right">\n      <form role="form" name="searchForm" novalidate ng-submit="filterUserCtrl.submitSearch()">\n        <div class="input-group">\n          <input type="text" class="form-control" ng-model="selectedFilters.currentSearch" name="searchField" id="case-list-search" placeholder="{{ \'Search...\' | translate }}">\n          <span ng-click="filterUserCtrl.submitSearch()" class="input-group-addon pointer"><span class="glyphicon glyphicon-search"></span></span>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/user/cases/list/cases-list.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/cases/list/cases-list.html",'<div>\n\n  <div ng-switch on="archivedTabName">\n    <archived-case-user-filters ng-switch-when="true"> </archived-case-user-filters>\n    <active-case-user-filters ng-switch-default> </active-case-user-filters>\n  </div>\n  <div class="panel panel-default">\n\n    <div class="panel-heading title">{{ \'Case list\' | translate }}  <span ng-click="caseUserCtrl.reinitCases()" tooltip="{{ \'Refresh\' | translate}}" tooltip-animation="false" tooltip-popup-delay="300" class="case-list-refresh glyphicon glyphicon-repeat"></span></div>\n    <div class="panel-body">\n        <div ng-show="cases.length">\n        <div class="col-md-12">\n          <table ng-if="!archivedTabName" bonitable bo-storable="user-cases-list" on-storage-loaded="caseUserCtrl.loadContent()" bo-repeatable  on-sort="caseUserCtrl.updateSortField(sortOptions)" sort-options="sortOptions" resizable-column="$columns" resize-selector="tr th.case-column" class="table table-striped table-hover table-responsive">\n            <thead>\n              <tr>\n                <th colspan="{{$columns.length+2}}">\n                  <div class="pull-right table-buttons">\n                    <table-settings class="pull-right" page-size="pagination.itemsPerPage" sizes="pageSizes" columns="$columns" update-page-size="caseUserCtrl.changeItemPerPage(size)"></table-settings>\n                    <span  ng-if="pagination.total" id="cases-results-size-top" class="pull-right">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n                  </div>\n                </th>\n              </tr>\n              <tr data-headers>\n                <th class="text-right case-column" bo-sorter="id" bo-sorter-title-asc="{{\'sort by ID ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by ID descending\' | translate}}">{{\'ID\' | translate}}</th>\n                <th class="case-column" bo-sorter="name" bo-sorter-title-asc="{{\'sort by Process name ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Process name descending\' | translate}}">{{\'Process name\' | translate}}</th>\n                <th class="case-column" visible="false">{{\'Version\' | translate}}</th>\n                <th bo-sorter="startDate" class="case-column" bo-sorter-title-asc="{{\'sort by Start date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Start date descending\' | translate}}">{{\'Start date\' | translate}}</th>\n                <th class="case-column">{{\'Started by\' | translate}}</th>\n                <th class="text-right case-column">{{\'Available tasks\' | translate}}</th>\n                <th bo-sorter="index1" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()"><span id="infoPopover" class="glyphicon glyphicon-info-sign" popover="{{\'To personalize the display of search keys (and columns in general), use the table settings button on the right. You can search on up to 5 search keys.\' | translate}}" popover-trigger="mouseenter"></span> {{\'Search Key 1\' | translate}}</th>\n                <th bo-sorter="index2" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 2\' | translate}}</th>\n                <th bo-sorter="index3" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 3\' | translate}}</th>\n                <th bo-sorter="index4" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 4\' | translate}}</th>\n                <th bo-sorter="index5" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 5\' | translate}}</th>\n                <th data-ignore class="text-center">{{\'Actions\' | translate}}</th>\n\n              </tr>\n            </thead>\n            <tbody>\n\n            <tr ng-repeat="case in cases" id="caseId-{{::case.id}}" class="case-row" ng-class="{\'info\' : case.selected}">\n              <td class="text-right case-detail">\n                  <a id="case-detail-link-{{case.id}}"\n                     bonita-href="{ token: \'casemoredetails\', id: case.id, prependToken: false }"\n                     href="">\n                      {{case[\'ID\']}}\n                  </a>\n              </td>\n              <td class="case-detail">{{::case[\'Process name\']}}</td>\n              <td class="case-detail">{{::case[\'Version\']}}</td>\n              <td class="case-detail">{{::caseUserCtrl.parseAndFormat(case[\'Start date\'])}}</td>\n              <td class="case-detail" title="{{\'username:\' | translate}} {{::case[\'Started by\'] || (\'System\' | translate)}}">{{::case[\'Started by fullname\'] || (\'System\' | translate)}}</td>\n              <td class="case-detail text-right">\n                <a ng-if="case[\'Available tasks\'] > 0"\n                   id="task-list-btn-{{::case.id}}"\n                   bonita-href="{ token: \'tasklistinguser\', case: case.ID, prependToken: false }"\n                   tooltip="{{\'Show available tasks in task list for case\' | translate }} {{::case.id}}"\n                   tooltip-popup-delay="500"\n                   tooltip-animation="false"\n                   tooltip-append-to-body="true"\n                   href=""\n                   class="open-link">\n                  {{::case[\'Available tasks\']}}\n                </a>\n                <span ng-if="case[\'Available tasks\'] === 0">0</span>\n              </td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="1"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="2"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="3"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="4"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="5"></search-index></td>\n              <td class="case-link text-center">\n                <a id="case-overview-btn-{{::case.id}}"\n                   tooltip="{{\'View case overview\' | translate }}"\n                   tooltip-popup-delay="500" tooltip-animation="false"\n                   href=""\n                   bonita-href="{ token: \'DisplayCaseForm\', name: case.processDefinitionId.name, version: case.processDefinitionId.version, processDefinitionId: case.processDefinitionId.id, id: case.id, prependToken: false }"\n                   class="open-link">\n                  <span class="glyphicon glyphicon-eye-open"></span>\n                </a>\n                <a id="task-list-btn-{{::case.id}}"\n                   tooltip="{{\'Show available tasks in task list for case\' | translate }} {{::case.ID}}"\n                   tooltip-popup-delay="500"\n                   tooltip-animation="false"\n                   tooltip-append-to-body="true"\n                   bonita-href="{ token: \'tasklistinguser\', case: case.ID, prependToken: false, filter: \'todo\' }"\n                   href=""\n                   class="open-link">\n                  <span class="glyphicon glyphicon-list"></span>\n                </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n\n          <table ng-if="archivedTabName" bonitable bo-storable="archived-user-cases-list" on-storage-loaded="caseUserCtrl.loadContent()" bo-repeatable on-sort="caseUserCtrl.updateSortField(sortOptions)" sort-options="sortOptions" resizable-column="$columns" resize-selector="tr th.case-column" class="table table-striped table-hover table-responsive">\n            <thead>\n              <tr>\n                <th colspan="{{$columns.length+2}}">\n                  <div class="pull-right table-buttons">\n                    <table-settings class="pull-right" page-size="pagination.itemsPerPage" sizes="pageSizes" columns="$columns"  update-page-size="caseUserCtrl.changeItemPerPage(size)"></table-settings>\n                       <span ng-if="pagination.total" id="cases-results-size-top" class="pull-right">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n                  </div>\n                </th>\n              </tr>\n              <tr data-headers>\n                <th class="text-right case-column" bo-sorter="sourceObjectId" bo-sorter-title-asc="{{\'sort by ID ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by ID descending\' | translate}}">{{\'ID\' | translate}}</th>\n                <th class="case-column" bo-sorter="name" bo-sorter-title-asc="{{\'sort by Process name ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Process name descending\' | translate}}">{{\'Process name\' | translate}}</th>\n                <th class="case-column" visible="false">{{\'Version\' | translate}}</th>\n                <th bo-sorter="startDate" class="case-column" bo-sorter-title-asc="{{\'sort by Start date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by Start date descending\' | translate}}">{{\'Start date\' | translate}}</th>\n                <th class="case-column" >{{\'Started by\' | translate}}</th>\n                <th bo-sorter="endDate" class="case-column" bo-sorter-title-asc="{{\'sort by End date ascending\' | translate}}" bo-sorter-title-desc="{{\'sort by End date descending\' | translate}}">{{\'End date\' | translate}}</th>\n                <th bo-sorter="index1" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()"><span id="infoPopover" class="glyphicon glyphicon-info-sign" popover="{{\'To personalize the display of search keys (and columns in general), use the table settings button on the right. You can search on up to 5 search keys.\' | translate}}" popover-trigger="mouseenter"></span> {{\'Search Key 1\' | translate}}</th>\n                <th bo-sorter="index2" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 2\' | translate}}</th>\n                <th bo-sorter="index3" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 3\' | translate}}</th>\n                <th bo-sorter="index4" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 4\' | translate}}</th>\n                <th bo-sorter="index5" visible="false" class="case-column" remove-column="{{!caseUserCtrl.displayKeys()}}" ng-hide="!caseUserCtrl.displayKeys()">{{\'Search Key 5\' | translate}}</th>\n\n                <th data-ignore class="text-center">{{\'Actions\' | translate}}</th>\n              </tr>\n            </thead>\n            <tbody>\n            <tr ng-repeat="case in cases" id="caseId-{{::case.id}}" class="case-row" ng-class="{\'info\' : case.selected}">\n              <td class="case-detail text-right">\n                  <a id="case-detail-link-{{case.id}}"\n                     bonita-href="{ token: \'archivedcasemoredetails\', id: case.id, prependToken: false }"\n                     href="">\n                      {{case[\'ID\']}}\n                  </a>\n              </td>\n              <td class="case-detail">{{::case[\'Process name\']}}</td>\n              <td class="case-detail">{{::case[\'Version\']}}</td>\n              <td class="case-detail">{{::caseUserCtrl.parseAndFormat(case[\'Start date\'])}}</td>\n              <td class="case-detail" title="{{\'username:\' | translate}} {{::case[\'Started by\'] || (\'System\' | translate)}}">{{::case[\'Started by fullname\'] || (\'System\' | translate)}}</td>\n              <td class="case-detail">{{::caseUserCtrl.parseAndFormat(case[\'End date\'])}}</td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="1"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="2"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="3"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="4"></search-index></td>\n              <td class="case-detail" ng-hide="!caseUserCtrl.displayKeys()"><search-index case="case" index="5"></search-index></td>\n              <td class="case-link text-center">\n                <a id="case-overview-btn-{{::case.id}}"\n                  tooltip="{{\'View case overview\' | translate }}"\n                  tooltip-popup-delay="500" tooltip-animation="false"\n                  bonita-href="{ token: \'DisplayCaseForm\', name: case.processDefinitionId.name, version: case.processDefinitionId.version, processDefinitionId: case.processDefinitionId.id, id: case.id, sourceObjectId: case.sourceObjectId, prependToken: false }"\n                  href=""\n                  class="open-link">\n                  <span class="glyphicon glyphicon-eye-open"></span>\n                </a>\n                <a id="task-list-btn-{{::case.id}}"\n                   tooltip="{{\'Show available tasks in task list for archived case\' | translate }} {{::case.ID}}"\n                   tooltip-popup-delay="500"\n                   tooltip-animation="false"\n                   tooltip-append-to-body="true"\n                   bonita-href="{ token: \'tasklistinguser\', case: case.ID, prependToken: false, filter: \'done\' }"\n                   href=""\n                   class="open-link">\n                  <span class="glyphicon glyphicon-list"></span>\n                </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class="col-md-12">\n          <div class="pull-right" ng-if="pagination.total">\n            <span id="cases-results-size-bottom" class="pull-left">{{ \'{}-{} of {}\' | translate | stringTemplater:[currentFirstResultIndex, currentLastResultIndex, pagination.total]}}</span>\n            <pagination id="cases-results-pages" ng-if="pagination.total > pagination.itemsPerPage" ng-click="caseUserCtrl.searchForCases()" boundary-links="true" total-items="pagination.total" ng-model="pagination.currentPage" items-per-page="pagination.itemsPerPage " previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" max-size="5"></pagination>\n           </div>\n        </div>\n      </div>\n      <div ng-show="loading">\n        <p class="text-muted"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>&nbsp;{{ \'Loading...\' | translate}}</p>\n      </div>\n      <div ng-show="!loading &amp;&amp; cases &amp;&amp; cases.length===0">\n        <p class="text-muted animated fadeIn">{{ \'No cases to display\' | translate }}</p>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/user/cases/list/cases.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/cases/list/cases.html",'<div id="case-list" class="container">\n  <h1 id="case-title">{{\'Cases\' | translate }}</h1>\n\n  <div>\n    <ul class="nav nav-tabs" role="tablist">\n      <li role="presentation" ng-repeat="caseState in casesStates" ng-class="{\'active\' : state.is(caseState.state)}"><a class="title" href="" bonita-href="{\'token\' : currentToken, \'_tab\' : caseState.tabName}" id="{{:: caseState.htmlAttributeId}}">{{:: caseState.title}}</a></li>\n    </ul>\n    <div ui-view=\'case-list\' id="case-list-tab-content"></div>\n  </div>\n</div>\n')}]),angular.module("portalTemplates/user/tasks/list/comments/comments.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/comments/comments.html",'<section class="Comments">\n    <header class="Comments-header" translate>\n        Case comments\n    </header>\n\n    <div class="Comments-content" scroll-bottom="vm.comments">\n        <div class="Comment" ng-repeat="comment in vm.comments">\n            <img class="Comment-icon" ng-src="../theme/{{comment.userId.icon}}" alt="Author" onerror="this.style.display=\'none\'"/>\n            <div class="Comment-header">\n                {{ comment.userId.firstname + \' \' + comment.userId.lastname }} <span class="text-muted">{{ comment.postDate | moment:\'lll\' }}</span>\n            </div>\n            <div class="Comment-content">{{ comment.content }}</div>\n        </div>\n        <div ng-if="vm.comments.length == 0" class="text-muted" translate>No comment on this case yet. To add one, use the input field at the bottom of this panel</div>\n    </div>\n\n    <footer class="Comments-footer">\n        <form name="CaseCommentsForm" class="CommentForm" ng-class="{ \'text-muted\': !vm.isCurrentCaseOpened() }" ng-submit="vm.addComment(vm.newComment)">\n        <div class="form-group" ng-class="{\'has-error\': CaseCommentsForm.$error.maxlength }">\n            <textarea id="comment" class="form-control"\n                      placeholder="{{ \'New comment\' | translate }}"\n                      ng-model="vm.newComment"\n                      ng-maxlength="255"\n                      ng-required="true"\n                      ng-disabled="!vm.isCurrentCaseOpened()">\n            </textarea>\n            <span class="help-block CommentForm-help" translate>Maximum size 255 characters</span>\n        </div>\n        <button type="submit" class="btn btn-default" ng-disabled="CaseCommentsForm.$invalid" translate>Add</button>\n        <span ng-if="!vm.isCurrentCaseOpened()" class="CommentForm-disabledMsg" translate>The case is archived. You cannot add comments anymore</span>\n    </form>\n    </footer>\n\n</section>\n')}]),angular.module("portalTemplates/user/tasks/list/common/directive/bonita-iframe-viewer.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/common/directive/bonita-iframe-viewer.html",'<div class="Viewer-wrapper">\n  <iframe\n    id="bonitaframe"\n    class="Viewer-frame"\n    seamless\n    width="100%" height="100%"\n    frameborder="0"></iframe>\n  <div class="Viewer-overlay" ng-if="!isEditable"></div>\n</div>\n')}]),angular.module("portalTemplates/user/tasks/list/details/task-details-modal.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/details/task-details-modal.html",'<div class="modal-body">\n    <button type="button" class="pull-right close Modal-dismiss" title="{{ \'Close\' | translate }}" aria-label="{{ \'Close\' | translate }}" ng-click="modal.cancel()" >\n        <span>&times;</span>\n    </button>\n    <task-details current-task="modal.currentTask"\n                  refresh-count="modal.updateCount()">\n    </task-details>\n</div>\n<div class="modal-footer">\n    <button type="button" class="btn btn-primary" title="{{ \'Close\' | translate }}" ng-click="modal.cancel()" translate>Close</button>\n</div>\n')}]),angular.module("portalTemplates/user/tasks/list/details/task-details.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/details/task-details.html",'<div ng-if="showToolbar" class="pull-right TaskDetailsPanel-toolbar" role="group">\n    <button ng-if="!isEditable() && isAssignable()" class="Toolbar-button"\n            id="ButtonTakeDetails"\n            ng-click="onTakeReleaseTask()"\n            title="{{ \'Make this task personal: only I will be able to do it\' | translate }}">\n        <i class="icon-assigned"></i>\n        <span class="sr-only" translate>Take</span>\n    </button>\n    <button ng-if="isEditable() && isAssignable()" class="Toolbar-button"\n            id="ButtonReleaseDetails"\n            ng-click="onTakeReleaseTask()"\n            title="{{ \'Make this task available to other team members again\' | translate }}">\n        <i class="icon-unassigned"></i>\n        <span class="sr-only" translate>Release</span>\n    </button>\n\n    <button class="Toolbar-button Resize-full" ng-click="openDetailsPopup()"\n            title="{{ \'Open in a popup\' | translate }}">\n        <i class="glyphicon glyphicon-resize-full"></i>\n        <span class="sr-only" translate>Open in a popup</span>\n    </button>\n</div>\n\n<tabset class="TaskDetails">\n  <tab id="form-tab" heading="{{ \'Form\' | translate }}"\n       active="tab.form.active"\n       title="{{ \'Task form\' | translate }}"\n       select="selectTab(\'form\')">\n    <p class="alert alert-info TaskInfo" ng-if="hideForm()" translate>\n      This task is completed.\n    </p>\n\n    <div class="TaskForm" ng-if="!hideForm()">\n        <div class="FormOverlay-message" ng-if="!isEditable() && !isInactive()">\n            <p class="FormOverlay-text" translate>To fill out the form, you need to take this task. This means you will be the only one able to do it. To make it available to the team again, release it.</p>\n            <button id="ButtonTakeDetailsOverlay"\n                    class="FormOverlay-button btn btn-primary btn-sm"\n                    ng-click="onTakeReleaseTask()"\n                    title="{{ \'Assign to me. Only I will be able to do it\' | translate }}">\n                <i class="icon-assigned">&nbsp;</i>\n                <translate>Take</translate>\n            </button>\n        </div>\n      <bonita-iframe-viewer class="FormViewer"\n                            tabindex="0"\n                            ng-if="!isInactive() && hasForm && !loading"\n                            is-editable="isEditable()"\n                            frame-url="formUrl">\n      </bonita-iframe-viewer>\n      <no-form class="FormViewer"\n               ng-if="!hasForm && !loading"\n               current-task="currentTask"\n               editable="isEditable()"\n               inactive="isInactive()">\n      </no-form>\n    </div>\n  </tab>\n\n\n  <tab id="comments-tab"\n       heading="{{ \'Comments\' | translate }}"\n       title="{{ \'Case comments\' | translate }}"\n       active="tab.comments.active"\n       select="selectTab(\'comments\')">\n      <comments ng-if="tab.comments.loaded" case="currentCase"></comments>\n  </tab>\n\n  <tab id="case-tab"\n       ng-if="hasOverview"\n       heading="{{ \'Overview\' | translate }}"\n       title="{{ \'Case overview\' | translate }}"\n       active="tab.context.active"\n       select="selectTab(\'context\')">\n      <bonita-iframe-viewer\n        ng-if="tab.context.loaded && !isInactive()"\n        class="CaseViewer"\n        frame-url="overviewUrl"\n        is-editable="true">\n      </bonita-iframe-viewer>\n  </tab>\n</tabset>\n')}]),angular.module("portalTemplates/user/tasks/list/details/task-no-form.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/details/task-no-form.html",'<div class="Viewer-wrapper" ng-if="!inactive">\n        <h4>{{currentTask.displayName || currentTask.name}}</h4>\n        <p translate>No form is needed. You can enter a comment and confirm.</p>\n        <form role="form">\n          <div class="form-group">\n            <label for="task-comment" translate>Comment:</label>\n            <textarea ng-model="currentTask.comment" id="task-comment" class="form-control"></textarea>\n          </div>\n          <button ng-click="onExecuteTask()" class="btn btn-primary center-block" translate>Submit</button>\n        </form>\n        <div class="Viewer-overlay" ng-if="!editable"></div>\n      </div>\n')}]),angular.module("portalTemplates/user/tasks/list/filters/task-filters.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/filters/task-filters.html",'<ul class="TaskFilters nav nav-pills nav-stacked">\n  \x3c!-- <a href="#" > is not good for a11n but it\'s a tradeoff for being themable\n     that\'s why we use bottstrap markup--\x3e\n  <li role="presentation" ng-class="{\'active\':TASK_FILTERS.TODO===taskStatus}">\n    <a href="" id="todo-tasks"\n       title="{{ \'Show all the tasks I can do: both personal tasks and tasks available to other team members\' | translate }}"\n       ng-click="setStatusTaskFilter(TASK_FILTERS.TODO)">\n      <span class="badge pull-right" ng-show="count.TODO>0">{{count.TODO}}</span>\n      <translate>To do</translate>\n    </a>\n  </li>\x3c!-- tasks to do --\x3e\n  <li role="presentation" ng-class="{\'active\':TASK_FILTERS.MY_TASK===taskStatus}">\n    <a href="" id="my-tasks"\n       title="{{ \'Show my personal tasks: the ones I took and the ones assigned to me, automatically or by a process manager\' | translate }}"\n       ng-click="setStatusTaskFilter(TASK_FILTERS.MY_TASK)">\n      <span class="badge pull-right" ng-show="count.MY_TASK>0">{{count.MY_TASK}}</span>\n      <translate>My tasks</translate>\n    </a>\n  </li>\x3c!-- my tasks --\x3e\n  <li role="presentation" ng-class="{\'active\':TASK_FILTERS.DONE===taskStatus}">\n    <a href="" id="done-tasks"\n       title="{{ \'Show the tasks that I have done\' | translate }}"\n       ng-click="setStatusTaskFilter(TASK_FILTERS.DONE)" >\n      <translate>Done tasks</translate>\n    </a>\n  </li> \x3c!-- done tasks --\x3e\n</ul>\n')}]),angular.module("portalTemplates/user/tasks/list/table/task-table.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/table/task-table.html",'\x3c!-- tasks listing --\x3e\n<div class="alert alert-noresult" ng-if="tasks.length === 0">\n  <span ng-if="isNoTaskFoundVisible()" translate>\n    We couldn\'t find what you are looking for.\n  </span>\n  <span ng-if="isNoTaskAvailableMessageVisible()" translate>\n    All done. Good job!\n  </span>\n  <span ng-if="isNoMyTaskMessageVisible()" translate>\n    Your personal task list is empty. You can take a task from the <a href="#" ng-click="changeFilter(TASK_FILTERS.TODO)">To do</a> list.\n  </span>\n  <span ng-if="isNoDoneTaskMessageVisible()" translate>\n    No done task yet.\n  </span>\n</div>\n<div bonitable\n  on-sort="sort(options)"\n  sort-options="sortOption"\n  bo-repeatable\n  repeatable-config="columnSettings">\n  <div class="GroupAction clearfix" ng-show="tasks.length > 0">\n    <div class="GroupAction-button pull-left" ng-show="canDoGroupAction()">\n      <button id="btn-group-assigntome" class="btn btn-primary" type="button" title="{{ \'Assign to me. Only I will be able to do it\' | translate }}"\n         ng-disabled="!canTake($selectedItems)" ng-if="request.taskFilter !== TASK_FILTERS.MY_TASK" ng-click="takeTasks($selectedItems)"><i class="icon-assigned">&nbsp;</i><translate>Take</translate>\n      </button>\n      <button id="btn-group-unassign" class="btn btn-default"  type="button" title="{{ \'Unassign. This will make it available to team again\' | translate }}"\n        ng-disabled="!canRelease($selectedItems)" ng-if="request.taskFilter !== TASK_FILTERS.POOL_TASK" ng-click="releaseTasks($selectedItems)"><i class="icon-unassigned">&nbsp;</i><translate>Release</translate>\n      </button>\n    </div>\n    <div class="PaginationInfo pull-right">\n      \x3c!-- pagination --\x3e\n      <span class="PaginationInfo-summary">\n        {{getPaginationStatus()}}\n      </span>\n      <pagination\n        class="PaginationInfo-pagination"\n        ng-show="request.pagination.total >= request.pagination.numberPerPage"\n        total-items="request.pagination.total"\n        ng-model="request.pagination.currentPage"\n        items-per-page="request.pagination.numberPerPage"\n        max-size="5"\n        boundary-links="false"\n        ng-change="refresh()"\n        previous-text="&lsaquo;" next-text="&rsaquo;"\n        rotate="false">\n      </pagination>\n      <table-settings\n        columns="$columns"\n        page-size="request.pagination.numberPerPage" sizes="pageSizes"\n        update-page-size="pageSizeHandler(size)"\n        update-visibility="visibilityHandler(field, $columns)"\n        ></table-settings>\n      </table-settings>\n    </div>\n  </div>\n  <div class="table-responsive TaskTable" ng-hide="tasks.length === 0">\n    <table class="table table-hover table-striped TaskTable" ng-class="{\'TaskTable-filterDone\': TASK_FILTERS.DONE === request.taskFilter}">\n      <thead>\n        <tr>\n          <th data-ignore class="Cell--checkbox" ng-if="canDoGroupAction()">\n            <div bo-selectall></div>\n          </th>\n          <th data-ignore class="Cell--assignee">\n            <i class="icon-assigned" title="{{ \'Available or My tasks\' | translate }}"></i>\n          </th>\x3c!-- assigned icon --\x3e\n          <th class="text-right">{{\'Task Id\' | translate }}</th>\n          <th bo-sorter="displayName">{{ \'Task name\' | translate }}</th>\n          <th>{{ \'Description\' | translate }}</th>\n          <th bo-sorter="rootCaseId" class="text-right">{{ \'Case\' | translate }}</th>\n          <th>{{ \'Process name\' | translate }}</th>\n          <th bo-sorter="reachedStateDate" visible="false" class="text-right">{{ \'Last update\' | translate }}</th>\n          <th class="text-right">{{\'Assigned on\' | translate }}</th>\n          <th bo-sorter="dueDate" class="text-right TaskTable-dueDateHeader">{{ \'Due date\' | translate }}</th>\n          <th bo-sorter="priority">{{ \'Priority\' | translate}}</th>\n          <th data-ignore class="RowActions" ng-if="mode!==\'mid\'"></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class="Line"\n            ng-repeat="task in tasks"\n            ng-click="onClickTask(task)"\n            ng-mouseover="showTaskButtons(task)"\n            ng-mouseleave="hideTaskButtons(task)"\n            ng-class="{\'info\':task === currentTask, \'TaskTable-line--overdue\': isOverdue(task)}"\n            tabindex="0">\n\n          <td class="Cell--checkbox" ng-if="canDoGroupAction()">\n            <input type="checkbox" bo-selector="task" ng-click="onCheckBoxChange($event, $index)">\n          </td>\n\n          <td class="TaskTable-icon">\n            <i class="icon-assigned" title="{{ \'Only I can do this task\' | translate }}" ng-if="user.user_id===task.assigned_id"></i>\n          </td>\n\n          <td class="text-right TaskTable-id">{{::task.id}}</td>\n          <td class="TaskTable-displayName" title="{{::task.displayName}}">{{::task.displayName}}</td>\n          <td class="TaskTable-displayDescription" title="{{::task.displayDescription}}">{{::task.displayDescription}}</td>\n          <td class="text-right Cell--sortable TaskTable-caseId">{{::task.caseId}}</td>\n          <td class="TaskTable-processName">{{::task.rootContainerId.displayName}}</td>\n          <td class="text-right TaskTable-lastUpdateDate" title="{{::task.last_update_date|moment:\'LLL\'}}">{{::task.last_update_date|moment:\'MMM DD LT\'}}</td>\n          <td class="text-right TaskTable-assignedDate" title="{{::task.assigned_date|moment:\'LLL\'}}">{{::task.assigned_date|moment:\'MMM DD LT\'}}</td>\n          <td class="text-right Cell--sortable TaskTable-dueDate" title="{{::getDueDateTitle(task)}}">{{::task.dueDate|moment:\'MMM DD LT\'}}</td>\n          <td class="TaskTable-priority">{{::getPriority(task.priority)}}</td>\n          <td class="Cell--with-actions TaskTable-actions" ng-switch on="mode" ng-if="mode!==\'mid\'">\n            <button class="btn btn-default" type="button"\n                    ng-switch-when="max"\n                    ng-if="request.taskFilter !== TASK_FILTERS.DONE"\n                    ng-show="task.btnVisible"\n                    title="{{ \'Open the task to perform it\' | translate }}">\n              <i class="glyphicon glyphicon-edit"></i>\n              <span class="sr-only" translate>Open the task to perform it</span>\n            </button>\n            <a class="btn btn-xs btn-default" type="button"\n               ng-switch-when="min"\n               ng-click="goToDetail(\'details\')"\n               title="{{ \'View this task\' | translate }}" translate>\n              View task\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="GroupAction clearfix" ng-show="tasks.length > 0">\n    <div class="PaginationInfo pull-right" >\n      \x3c!-- pagination --\x3e\n      <span class="PaginationInfo-summary">\n        {{getPaginationStatus()}}\n      </span>\n      <pagination\n        class="PaginationInfo-pagination"\n        ng-show="request.pagination.total >= request.pagination.numberPerPage"\n        total-items="request.pagination.total"\n        ng-model="request.pagination.currentPage"\n        items-per-page="request.pagination.numberPerPage"\n        max-size="5"\n        boundary-links="false"\n        ng-change="refresh()"\n        previous-text="&lsaquo;" next-text="&rsaquo;"\n        rotate="false">\n      </pagination>\n    </div>\n  </div>\n</div>\n\n')}]),angular.module("portalTemplates/user/tasks/list/tasks-list.html",[]).run(["$templateCache",function(a){"use strict";a.put("portalTemplates/user/tasks/list/tasks-list.html",'\x3c!-- Reset style for the page. Dirty but avoid having to break all other pages --\x3e\n<style>\n    html, body, body #content {\n        height: 100%;\n        margin: 0;\n    }\n</style>\n<toast></toast>\n<div class="TaskListPage" ng-cloak task-app form-spy spy-submit="app.onFormSubmited(message)"\n     ng-class="{\n      \'TaskListPage--small\':app.smallScreen,\n      \'TaskListPage--withMenu\':!app.smallScreen && app.showMenu}">\n    <div class="OffcanvasMenu navbar">\n        <button ng-if="!app.smallScreen && app.showMenu" title="{{ \'Hide Menu\' | translate }}"\n                class="FilterToggle" ng-click="app.toggleFilters()">\n            <span class="glyphicon glyphicon-menu-left"></span>\n            <span class="sr-only" translate>Hide menu</span>\n        </button>\n        <button ng-if="!app.smallScreen && !app.showMenu" title="{{ \'Show Menu\' | translate }}"\n                class="FilterToggle FilterToggle-expend" ng-click="app.toggleFilters()">\n            <span class="glyphicon glyphicon-menu-right"></span>\n            <span class="sr-only" translate>Show menu</span>\n        </button>\n        <task-filters filter="app.request.taskFilter"\n                      filters="app.TASK_FILTERS"\n                      count="app.count"\n                      filter-change="app.changeFilter(filter)">\n        </task-filters>\n    </div>\n    <div class="TaskList" ng-if="!error">\n        <div class="TaskList-filters panel panel-default">\n            <div class="panel-heading title ng-binding" translate>Filters</div>\n            <div class="panel-body">\n               <div class="row">\n                <div class="col-md-7 button-filter ng-binding" ng-hide="app.request.taskFilter === app.TASK_FILTERS.DONE">\n                    {{ \'Process\' | translate }}\n                    <div class="btn-group dropdown Filter-process" dropdown="">\n                        <button dropdown-toggle type="button"\n                                class="btn btn-primary"\n                                title="{{\'Process:\' | translate }} {{ app.request.process.displayName + (app.request.process.version ? \' \' + app.request.process.version : \'\') }}"\n                                ng-disabled="app.request.taskFilter === app.TASK_FILTERS.DONE || !app.processes || app.processes.length === 0">\n                            <div class="ProcessList-label">\n                                {{app.request.process.displayName + (app.request.process.version?"\n                                "+app.request.process.version:"")}}\n                                <span class="caret"></span>\n                            </div>\n                        </button>\n                        <ul class="dropdown-menu">\n                            <li ng-repeat="p in app.processes">\n                                <a ng-click="app.setProcess(p)"\n                                   ng-class="{\'active\':p.id === app.request.process.id}"\n                                   class="processOptionLink">\n                                    {{p.displayName+"&nbsp;"+p.version}}\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                  </div>\n                  <div class="col-md-5" ng-class="{\'col-md-offset-7\': app.request.taskFilter === app.TASK_FILTERS.DONE}">\n                    <form class="form-inline btn-group pull-right">\n                      {{ \'Case\' | translate }}\n                      <div class="form-group Filter-process">\n                        <input type="text" ng-model="app.request.caseId" class="form-control TaskFilter-caseIdInput" id="case" name="case" placeholder="{{\'Case ID\' | translate}}"\n                             ng-model-options="{updateOn:\'blur\'}"\n                             ng-change="app.searchTask()" tooltip-template="\'tooltip-case-filter.html\'" tooltip-placement="right" tooltip-popup-delay="500" tooltip-animation="false" tooltip-append-to-body="true">\n                      </div>\n                      <script type="text/ng-template" id="tooltip-case-filter.html">\n                        <span translate>Type in a case id and <br/> press enter to search for <br/> human task of a specific case</span>\n                      <\/script>\n                    </form>\n                </div>\n              </div>\n             <div class="row">\n                <div class="col-md-12">\n                    <form role="form" name="searchForm" class="SearchBox" novalidate="" ng-submit="app.searchTask()">\n                        <div class="input-group TaskList--paddingTop">\n                            <input class="form-control SearchBox-input" id="search"\n                                   input-focus\n                                   placeholder="{{ \'Search...\' | translate }}"\n                                   ng-model="app.request.search"\n                                   ng-model-options="{updateOn:\'keyup\', debounce:{\'default\':250, \'blur\':0} }"\n                                   ng-change="app.searchTask()">\n                            <span ng-click="app.searchTask()" class="input-group-addon pointer">\n                                <span class="glyphicon glyphicon-search"></span>\n                            </span>\n                        </div>\n                        <span class="help-block pull-right" translate>In task name column</span>\n                    </form>\n                </div>\n              </div>\n            </div>\n        </div>\n        <div class="TaskList-table panel panel-default">\n            <div class="panel-heading title ng-binding">\n                <span translate>Task list</span>\n                <button class="TaskList-refresh" style="background: transparent; border: none" ng-click="app.updateAll()"\n                        ng-class="{ \'u-spin TaskList-loadingIcon\': app.loadingTasks }" title="{{ \'Refresh data\' | translate }}">\n                    <i class="glyphicon glyphicon-repeat"></i>\n                </button>\n                <span ng-show="app.loadingTasks" class="TaskList-loadingText">{{ \'Loading...\' | translate }}</span>\n            </div>\n            <div class="panel-body">\n                <task-table tasks="app.tasks"\n                           current-task="app.currentTask"\n                           request="app.request"\n                           user="app.user"\n                           mode="app.getMode(app.showDetails, app.smallScreen)"\n                           page-sizes="app.PAGE_SIZES"\n                           refresh="app.updateAll()"\n                           select-task="app.selectTask(task)"\n                           do-task="app.showTaskDetailsPopup()"\n                           counters="app.count"\n                           filter="app.filter">\n                </task-table>\n            </div>\n        </div>\n    </div>\n\n    <div class="TaskDetailsPanel" id="details" ng-class="{\'TaskDetailsPanel--collapsed\':!app.showDetails}">\n        <button ng-if="!app.showDetails" class="SizeBar-expand"\n                ng-click="app.toggleDetails()"\n                title="{{\'Show panel\' | translate}}">\n            <span class="glyphicon glyphicon-menu-left"></span>\n            <span class="sr-only" translate>Show panel</span>\n        </button>\n        <button class="SizeBar-reduce"\n                ng-if="app.showDetails"\n                ng-click="app.toggleDetails()"\n                title="{{ \'Hide panel\' | translate}}">\n            <span class="glyphicon glyphicon-menu-right"></span>\n            <span class="sr-only" translate>Hide panel</span>\n        </button>\n\n        <div class="TaskDetailsPanel-content" ng-if="app.smallScreen || app.showDetails">\n\n            <div ng-if="app.tasks.length === 0" class="TaskDetailsPanel-content--empty" translate>\n                This is the task details panel. No information to display\n            </div>\n\n            <task-details ng-if="app.tasks.length"\n                    current-task="app.currentTask"\n                    refresh="app.refresh()"\n                    open-details-popup="app.showTaskDetailsPopup()">\n            </task-details>\n        </div>\n    </div>\n</div>\n')}]),function(){"use strict";angular.module("com.bonitasoft.features.admin",["com.bonitasoft.features.admin.monitoring","com.bonitasoft.features.admin.license","com.bonitasoft.features.admin.processVisu","com.bonitasoft.features.admin.cases.list","com.bonitasoft.features.admin.processes","com.bonitasoft.features.admin.bdm.accessControl","com.bonitasoft.features.admin.bdm.accessControl.validationStatus"])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.bdm.accessControl",["ui.bootstrap","angularFileUpload","com.bonitasoft.common.resources","ui.router","gettext","org.bonitasoft.common.directives.tenantResourceStatus"])}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a){"OK"===a.executionStatus?b.save({bdmAccessControlUpload:q.filePath.replace("<pre>","").replace("</pre>","")}).$promise.then(j,k):q.openBDMAccessControlInstall(a)}function i(){q.isInstallSuccessful=!1,q.isDeleteSuccessful=!1}function j(){q.isInstallSuccessful=!0,g(function(){q.isInstallSuccessful=!1},1e4),q.onAccessControlUpdate()}function k(){q.isTechnicalError=!0,q.isInstallSuccessful=!1,l(),q.openBDMAccessControlInstall()}function l(){q.error=d("Access control has not been updated. System was not able to validate the provided BDM access control file for technical reasons. You can try again later.")}function m(a){return q.isTechnicalError=!0,n(a,401,"InvalidSessionException")?(q.error=d("Access control has not been updated because your session expired. Please log back in again and retry."),void q.openBDMAccessControlInstall()):n(a,400,"InvalidXMLException")?(q.error=d("Access control has not been updated because the format is invalid. You can edit the BDM access control file in Bonita Studio and validate it before trying again."),void q.openBDMAccessControlInstall()):(l(),void q.openBDMAccessControlInstall())}function n(a,b,c){return a.status===b&&a.data.cause.exception.indexOf(c)>-1}function o(){q.isDeleteSuccessful=!0,g(function(){q.isDeleteSuccessful=!1},1e4),q.onAccessControlUpdate()}function p(a){f.error("An Error occurred during BDM access control deletion",a),q.isTechnicalError=!0,q.isDeleteSuccessful=!1,q.error=d("An Error occurred during BDM access control deletion."),q.openBDMAccessControlInstall()}var q=this;q.isDeleteSuccessful=!1,q.isInstallSuccessful=!1,q.openBDMAccessControlInstall=function(a){e.open({templateUrl:"features-sp/admin/bdm/access-control/popup/install-access-control-popup.html",controller:"InstallAccessControlPopupCtrl",controllerAs:"InstallAccessControlPopupCtrl",installBDMAccessControl:b,resolve:{validationResult:function(){return a},technicalError:function(){return q.error},filePath:function(){return q.filePath}}}).result.then(function(a){q.isInstallSuccessful=!0,q.isInstallWithWarnings=a.isInstallWithWarnings,q.onAccessControlUpdate()})},q.callValidationService=function(b){q.filePath=b,a.save({bdmAccessControlUpload:q.filePath.replace("<pre>","").replace("</pre>","")}).$promise.then(h,m)},q.openBDMAccessControlDelete=function(){i(),e.open({templateUrl:"features-sp/admin/bdm/access-control/popup/delete-access-control-popup.html",controller:"DeleteAccessControlPopupCtrl",controllerAs:"deleteAccessControlPopupCtrl"}).result.then(function(){c.delete().then(o,p)})},q.openBDMAccessControlUpload=function(){i(),e.open({templateUrl:"features-sp/admin/bdm/access-control/popup/add-access-control-popup.html",controller:"AddAccessControlPopupCtrl",controllerAs:"AddAccessControlPopupCtrl"}).result.then(function(a){q.callValidationService(a)})}}angular.module("com.bonitasoft.features.admin.bdm.accessControl").controller("AccessControlCtrl",a),a.$inject=["validateBDMAccessControl","installBDMAccessControl","bdmAccessControlAPI","gettext","$modal","$log","$timeout"]}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.bdm.accessControl").directive("accessControl",function(){return{restrict:"E",controller:"AccessControlCtrl",controllerAs:"vm",templateUrl:"features-sp/admin/bdm/access-control/access-control.html",scope:{isBdmInstalled:"=",accessControlStatus:"=",onAccessControlUpdate:"=",isAccessControlInstalled:"="},bindToController:!0}})}(),function(){"use strict";function a(a,b,c,d){var e=this;e.errorUpload=function(){a.isTechnicalError=!0,a.error=d("Access control has not been uploaded. System was not able to upload the provided BDM access control file for technical reasons. You can try again later.")},e.successUpload=function(b,c){b=b||{file:{}},a.isUploadSuccess=!0,a.fileName=b.file.name,a.filePath=c||""},a.uploader=new c({autoUpload:!0,url:"../portal/bdmAccessControlUpload",onSuccessItem:e.successUpload,onErrorItem:e.errorUpload}),e.closeModalSuccess=function(){b.close(a.filePath)}}angular.module("com.bonitasoft.features.admin.bdm.accessControl").controller("AddAccessControlPopupCtrl",a),a.$inject=["$scope","$modalInstance","FileUploader","gettext"]}(),function(){"use strict";function a(a){var b=this;b.delete=function(){a.close()},b.cancel=function(){a.dismiss("cancel")}}angular.module("com.bonitasoft.features.admin.bdm.accessControl").controller("DeleteAccessControlPopupCtrl",a),a.$inject=["$modalInstance"]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){b.close({isInstallWithWarnings:!0})}function h(){a.installNotSuccessfull=!0}var i=this;a.validationResult=c,a.technicalError=d,a.isTechnicalError=void 0!=d,a.filePath=f,i.cancel=function(){b.dismiss("cancel")},i.closeModalSuccess=function(){b.close()},i.installBdmAccessControl=function(){if(!a.filePath)return h(),null;e.save({bdmAccessControlUpload:a.filePath.replace("<pre>","").replace("</pre>","")}).$promise.then(g,h)},i.isDisplayStatus=function(){return i.isBeforeInstall()&&!a.isTechnicalError},i.isBeforeInstall=function(){return!a.installNotSuccessfull}}angular.module("com.bonitasoft.features.admin.bdm.accessControl").controller("InstallAccessControlPopupCtrl",a),a.$inject=["$scope","$modalInstance","validationResult","technicalError","installBDMAccessControl","filePath"]}();var ValidationStatusCodeEnum={BDM_ACCESS_CONTROL_ATTRIBUTES_DUPLICATION_ERROR:"BDM_ACCESS_CONTROL_ATTRIBUTES_DUPLICATION_ERROR",BDM_ACCESS_CONTROL_STATIC_PROFILES_DUPLICATION_ERROR:"BDM_ACCESS_CONTROL_STATIC_PROFILES_DUPLICATION_ERROR",BDM_ACCESS_CONTROL_RULE_NAME_DUPLICATION_ERROR:"BDM_ACCESS_CONTROL_RULE_NAME_DUPLICATION_ERROR",BDM_ACCESS_CONTROL_UNKNOWN_BUSINESS_OBJECT_REFERENCE:"BDM_ACCESS_CONTROL_UNKNOWN_BUSINESS_OBJECT_REFERENCE",BDM_ACCESS_CONTROL_UNKNOWN_ATTRIBUTE_REFERENCE:"BDM_ACCESS_CONTROL_UNKNOWN_ATTRIBUTE_REFERENCE",BDM_ACCESS_CONTROL_BDM_NOT_INSTALLED:"BDM_NOT_INSTALLED",BDM_ACCESS_CONTROL_NON_COMPOSED_OBJECT_REFERENCED_IN_COMPOSITION:"BDM_ACCESS_CONTROL_NON_COMPOSED_OBJECT_REFERENCED_IN_COMPOSITION",BDM_ACCESS_CONTROL_FIRST_LEVEL_RULES_ON_COMPOSED_OBJECT:"BDM_ACCESS_CONTROL_FIRST_LEVEL_RULES_ON_COMPOSED_OBJECT",BDM_ACCESS_CONTROL_INCONSISTENT_NAME_IN_FILE:"BDM_ACCESS_CONTROL_INCONSISTENT_NAME_IN_FILE",BDM_ACCESS_CONTROL_BUSINESS_OBJECT_WITHOUT_RULE:"BDM_ACCESS_CONTROL_BUSINESS_OBJECT_WITHOUT_RULE",BDM_ACCESS_CONTROL_UNKNOWN_PROFILE_REFERENCE:"BDM_ACCESS_CONTROL_UNKNOWN_PROFILE_REFERENCE",BDM_ACCESS_CONTROL_ZERO_ATTRIBUTE_GRANTED:"BDM_ACCESS_CONTROL_ZERO_ATTRIBUTE_GRANTED",BDM_ACCESS_CONTROL_BUSINESS_OBJECT_WITH_EMPTY_RULES:"BDM_ACCESS_CONTROL_BUSINESS_OBJECT_WITH_EMPTY_RULES",BDM_ACCESS_CONTROL_ZERO_PROFILE_GRANTED:"BDM_ACCESS_CONTROL_ZERO_PROFILE_GRANTED"},contextKeyAccessControlEnum={BUSINESS_OBJECT_NAME_KEY:"businessObjectName",ACCESS_RULE_NAME_KEY:"accessRuleName",ATTRIBUTE_NAME_KEY:"attributeName",PROFILE_NAME_KEY:"profileName"};+function(){"use strict";angular.module("com.bonitasoft.features.admin.bdm.accessControl.validationStatus",["ui.bootstrap","gettext","angular.filter"])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.bdm.accessControl.validationStatus").filter("contextValue",function(){return function(a,b){return a&&b===contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY?a.substr(a.lastIndexOf(".")+1):a}})}(),function(){"use strict";function a(a,b){this.getLastLevelInformationOfContext=function(a,c){return a.map(function(a){return b(a[c],c)}).join()}}angular.module("com.bonitasoft.features.admin.bdm.accessControl.validationStatus").controller("ContextCtrl",a),a.$inject=["$scope","contextValueFilter"]}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.bdm.accessControl.validationStatus").directive("validationStatusContext",function(){return{restrict:"E",controller:"ContextCtrl",controllerAs:"contextCtrl",templateUrl:"features-sp/admin/bdm/access-control/validationStatus/context/context.html",scope:{datas:"=",levels:"="},bindToController:!0}})}(),function(){"use strict";function a(a,b){a.getStatus=function(a){var c={message:"",contextPattern:[],details:[]};switch(a){case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_ATTRIBUTES_DUPLICATION_ERROR:c.message=b("In the following objects, the displayed rules reference attributes that are duplicated:"),c.details.push(b("This prevents the correct execution of the rules.")),c.details.push(b("They must be fixed in the xml file in order to install.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY,contextKeyAccessControlEnum.ACCESS_RULE_NAME_KEY,contextKeyAccessControlEnum.ATTRIBUTE_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_STATIC_PROFILES_DUPLICATION_ERROR:c.message=b("In the following objects, the displayed rules reference profiles that are duplicated:"),c.details.push(b("This prevents the correct execution of the rules.")),c.details.push(b("They must be fixed in the xml file in order to install.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY,contextKeyAccessControlEnum.ACCESS_RULE_NAME_KEY,contextKeyAccessControlEnum.PROFILE_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_RULE_NAME_DUPLICATION_ERROR:c.message=b("In the following objects, the displayed rules have the same name and apply to the same object:"),c.details.push(b("Rule names should be unique.")),c.details.push(b("Those rule names must be fixed in order to install.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY,contextKeyAccessControlEnum.ACCESS_RULE_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_UNKNOWN_BUSINESS_OBJECT_REFERENCE:c.message=b("The following business objects are referenced in the displayed rules but they do not exist in the deployed BDM:"),c.details.push(b("This prevents the correct execution of the rules.")),c.details.push(b("Those rules must be fixed or you need to update the BDM on the platform in order to install.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_UNKNOWN_ATTRIBUTE_REFERENCE:c.message=b("In the following objects, the displayed rules reference attributes that do not exist in the deployed BDM:"),c.details.push(b("This prevents the correct execution of the rules.")),c.details.push(b("Those rules must be fixed or you need to update the BDM on the platform in order to install.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY,contextKeyAccessControlEnum.ACCESS_RULE_NAME_KEY,contextKeyAccessControlEnum.ATTRIBUTE_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_BDM_NOT_INSTALLED:c.message=b("There is no Business Data Model installed. Install a BDM and then install the Access Control rules.");break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_NON_COMPOSED_OBJECT_REFERENCED_IN_COMPOSITION:c.message=b("The following objects are linked to other objects with a composition relationship in the access control file, but they are not so in the BDM:"),c.details.push(b("This access control file cannot be installed with current BDM.")),c.details.push(b("Make both BDM and access control file consistent in order to install.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_FIRST_LEVEL_RULES_ON_COMPOSED_OBJECT:c.message=b("The following objects are linked to other objects with a composition relationship but they also have direct rules defined:"),c.details.push(b('Rules on objects that compose others must be defined at their "parent" object level.')),c.details.push(b("This must be fixed in the file in order to install.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_INCONSISTENT_NAME_IN_FILE:c.message=b("In the following objects, the object name and its name in the attribute wrapper are inconsistent:"),c.details.push(b("This prevents the correct execution of the rules.")),c.details.push(b("Those rules must be fixed in order to install.")),c.contextPattern.push(contextKeyAccessControlEnum.ACCESS_RULE_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_BUSINESS_OBJECT_WITHOUT_RULE:c.message=b("The following business objects have no access control rules defined:"),c.details.push(b("They will not be accessible by anyone.")),c.details.push(b("However, you can still install this file.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_UNKNOWN_PROFILE_REFERENCE:c.message=b("In the following objects, the displayed rules grant access to profiles that are not installed on the current platform:"),c.details.push(b("Business objects or attributes will not be visible to the people in those profiles.")),c.details.push(b("However, you can still install this file and then install the missing profiles.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY,contextKeyAccessControlEnum.ACCESS_RULE_NAME_KEY,contextKeyAccessControlEnum.PROFILE_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_ZERO_ATTRIBUTE_GRANTED:c.message=b("In the following objects, the displayed rules do not grant access to any attribute:"),c.details.push(b("Those business objects will not be accessible through those rules.")),c.details.push(b("However, you can still install this file.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY,contextKeyAccessControlEnum.ACCESS_RULE_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_BUSINESS_OBJECT_WITH_EMPTY_RULES:c.message=b("In the following objects, the displayed rules are empty:"),c.details.push(b("Those business objects will not be accessible by anyone.")),c.details.push(b("However, you can still install this file.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY);break;case ValidationStatusCodeEnum.BDM_ACCESS_CONTROL_ZERO_PROFILE_GRANTED:c.message=b("In the following objects, the displayed rules do not grant access to any profiles:"),c.details.push(b("Those business objects will not be accessible by anyone.")),c.details.push(b("However, you can still install this file.")),c.contextPattern.push(contextKeyAccessControlEnum.BUSINESS_OBJECT_NAME_KEY,contextKeyAccessControlEnum.ACCESS_RULE_NAME_KEY);break;default:c.message=b("Other issue."),c.details.push(b("You can consult the logs for more information."))}return c},a.getContextInformations=function(a){var b=[];return a.forEach(function(a){b.push(a.context)}),b}}angular.module("com.bonitasoft.features.admin.bdm.accessControl.validationStatus").controller("ValidationStatusCtrl",a),a.$inject=["$scope","gettext"]}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.bdm.accessControl.validationStatus").directive("validationStatus",function(){return{restrict:"E",controller:"ValidationStatusCtrl",controllerAs:"validationStatusCtrl",templateUrl:"features-sp/admin/bdm/access-control/validationStatus/validationStatus.html",scope:{data:"=",icon:"@",type:"@"}}})}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.cases.list.caseVisu",["org.bonitasoft.common.i18n","org.bonitasoft.common.directives.bonitaHref","com.bonitasoft.features.admin.processVisu"]).directive("caseVisu",function(){return{restrict:"E",scope:{isSupervisor:"&"},templateUrl:"features-sp/admin/cases/list/caseVisuDirective.html",link:function(a,b,c){a.caseId=c.caseId,a.processId=c.processId,a.profileToken=a.isSupervisor()?"pm":"admin"}}})}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.cases.list",["com.bonitasoft.features.admin.cases.list.caseVisu","com.bonitasoft.features.admin.cases.list.searchIndex"])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.cases.list.searchIndex",[]).directive("searchIndex",function(){return{scope:{case:"=",index:"@"},restrict:"E",templateUrl:"features-sp/admin/cases/list/search-index.html",replace:!0}})}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.license",["com.bonitasoft.features.admin.license.monitoring"])}(),function(){"use strict";function a(a,b){function c(){a.get("../API/platform/license").then(function(a){e.license=a.data||{},e.license.remainingInstances=e.license.caseCounterLimit-e.license.caseCounter,e.license.consumedPercentage=Math.floor(100*e.license.caseCounter/e.license.caseCounterLimit),e.license.consumedPercentage=e.license.consumedPercentage>100?100:e.license.consumedPercentage,e.license.licenseExpirationTimestamp=e.license.licenseExpirationTimestamp,e.isloggedOnPlatform=!0})}function d(){a.post("../platformloginservice",b({redirect:!1,username:e.username,password:e.password}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(){e.isloggedOnPlatform=!0,c()},function(a){403===a.status?e.$invalidCredentials=!0:e.$errors=!0})}var e=this;e.isloggedOnPlatform=!1,e.login=d,new Clipboard(".copytoclipboard").on("success",function(a){a.clearSelection()}),c()}angular.module("com.bonitasoft.features.admin.license.monitoring",["ui.router","ui.bootstrap","org.bonitasoft.common.directives.bootstrap-form-control"]).config(["$stateProvider",function(a){a.state("bonita.licenseMonitoring",{url:"/admin/license",templateUrl:"features-sp/admin/license/monitoring/license-monitoring.html",controller:"LicenseMonitoringCtrl",controllerAs:"LicenseMonitoringCtrl"})}]).controller("LicenseMonitoringCtrl",a),a.$inject=["$http","$httpParamSerializer"]}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.monitoring",["ui.router","com.bonitasoft.common.alert","com.bonitasoft.features.admin.monitoring.data","com.bonitasoft.features.admin.processVisu","com.bonitasoft.features.admin.processVisu.bpmn2json","angular.filter","org.bonitasoft.services.topurl","org.bonitasoft.common.i18n","ngStorage","org.bonitasoft.bonitable","org.bonitasoft.bonitable.sortable","org.bonitasoft.common.directives.bonitaHref","org.bonitasoft.services.topurl"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.rule(function(a,b){if(0===b.path().indexOf("/pm"))return b.url().replace(/^\/pm/,"/admin")}),a.state("bonita.monitoring",{url:"/admin/monitoring?supervisor_id",templateUrl:"features-sp/admin/monitoring/monitoring.html",controller:"monitoringCtrl",controllerAs:"monitoringCtrl",resolve:{featureActive:["FeatureManager","$q","featureList",function(a,b,c){if(!a.isMonitoringFeatureActivated())return b.reject()}]}})}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.monitoring").controller("monitoringCtrl",["$scope","manageTopUrl","$interval","$timeout","i18nService","MonitoringData","Alert","$state","$stateParams","ProcessVisuAPI","$log","$sessionStorage","$localStorage","gettextCatalog",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.addOrReplaceParam("_id","");var o=this,p=i.supervisor_id;o.pageProfileToken=p?"pm":"admin";var q=b.getCurrentProfile()||"0",r={},s={},t="monitoring";!function(){r[t+q]={filterProcess:f.getSearchOptions().filterProcess,filterFailedCases:f.getSearchOptions().filterFailedCases,ordering:f.getSearchOptions().ordering},s[t+q]={nbPerPage:f.getSearchOptions().nbPerPage,refreshFrequenceSelected:f.getSearchOptions().refreshFrequenceSelected},o.$sessionStorage=l.$default(r)[t+q],o.$localStorage=m.$default(s)[t+q],f.getSearchOptions().nbPerPage=o.$localStorage.nbPerPage,f.getSearchOptions().refreshFrequenceSelected=o.$localStorage.refreshFrequenceSelected,f.getSearchOptions().filterProcess=o.$sessionStorage.filterProcess,f.getSearchOptions().filterFailedCases=o.$sessionStorage.filterFailedCases,f.getSearchOptions().ordering=o.$sessionStorage.ordering}();var u;g.reset();var v=e.getKey("monitoring.processList.empty"),w=e.getKey("monitoring.processList.error");e.getKey("processVisu.tooltip.error"),e.getKey("monitoring.processVisu.loading");o.filteredProcesses=[],o.getSearchOptions=function(){return f.getSearchOptions()},o.processFilter=function(a){if(angular.isDefined(o.getSearchOptions().filterProcess.displayName)&&a.displayName!==o.getSearchOptions().filterProcess.displayName)return!1;if(angular.isDefined(o.getSearchOptions().filterProcess.version)&&a.version!==o.getSearchOptions().filterProcess.version)return!1;switch(o.getSearchOptions().filterFailedCases){case"All":return!0;case"Healthy":return 0===a.nbFailedCases&&a.nbHealthyCases>0;case"With failures":return a.nbFailedCases>0}},o.getTotalProcesses=function(){return o.filteredProcesses.length},o.getStartIndexOfPage=function(){return 0===o.filteredProcesses.length?0:(o.getSearchOptions().page-1)*o.getSearchOptions().nbPerPage+1},o.getEndIndexOfPage=function(){var a=o.getSearchOptions().page*o.getSearchOptions().nbPerPage;return Math.min(a,o.getTotalProcesses())},o.getOrderByPredicates=function(){if(!o.getSearchOptions().ordering||!o.getSearchOptions().ordering.property)return"-nbFailedCases";var a=o.getSearchOptions().ordering;return(a.direction?"":"-")+a.property},o.processes=[],o.selectProcess=function(a){o.getSearchOptions().filterProcess.displayName!==a&&(o.getSearchOptions().page=1),o.getSearchOptions().filterProcess.displayName=a,o.$sessionStorage.filterProcess.displayName=a,o.selectVersion()},o.selectVersion=function(a){o.getSearchOptions().filterProcess.version!==a&&(o.getSearchOptions().page=1),o.getSearchOptions().filterProcess.version=a,o.$sessionStorage.filterProcess.version=a},o.selectState=function(a){o.getSearchOptions().filterFailedCases!==a&&(o.getSearchOptions().page=1),o.getSearchOptions().filterFailedCases=a,o.$sessionStorage.filterFailedCases=a},o.selectPage=function(a){o.getSearchOptions().nbPerPage=a,o.getSearchOptions().page=1,o.$localStorage.nbPerPage=a},o.getLabelProcessFiltered=function(){return void 0===o.$sessionStorage.filterProcess.displayName?"All":o.$sessionStorage.filterProcess.displayName},o.getLabelVersionFiltered=function(){return void 0===o.$sessionStorage.filterProcess.version?"All":o.$sessionStorage.filterProcess.version};var x=function(a){o.noDataText=w,o.loadingInProgress=!1,k.error("getProcess",a)},y=function(){o.loadingInProgress=!0,o.noDataText=v,o.totalOpenCases="...",o.totalFailedCases="...",o.totalHealthyCases="...";var a={supervisorId:p};f.loadData(a).then(function(){o.totalOpenCases=f.getTotalOpenCases(),o.processes=f.getProcesses(a),o.totalFailedCases=f.getTotalFailedCases(),o.totalHealthyCases=o.totalOpenCases-o.totalFailedCases,o.loadingInProgress=!1},function(a){x(a),g.addAlert(g.ALERT_TYPE.danger,e.getKey("monitoring.processList.http.error"))})};o.sortProcess=function(a){o.getSearchOptions().ordering.property=a.property,o.getSearchOptions().ordering.direction=a.direction},o.updateTimeout=function(a){c.cancel(u),f.getSearchOptions().refreshFrequenceSelected=a,o.$localStorage.refreshFrequenceSelected=a,""!==f.getSearchOptions().refreshFrequenceSelected.value&&(u=c(y,6e4*parseInt(f.getSearchOptions().refreshFrequenceSelected.value,10)))},o.loadContent=function(){y(),o.updateTimeout(o.$localStorage.refreshFrequenceSelected)},o.getProcessSateTooltip=function(a){return"disabled"===a.activationState?n.getString("Disabled, no new case can be started"):n.getString("Process enabled")},a.$on("$destroy",function(){c.cancel(u)})}]).filter("offset",function(){return function(a,b){return b=parseInt(b,10),a.slice(b)}})}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.monitoring.data",["org.bonitasoft.common.resources.store"]).factory("MonitoringData",["processAPI","$q","manageTopUrl","store",function(a,b,c,d){var e=[],f=0,g=0,h="openCases",i="failedCases",j={page:1,nbPerPage:10,ordering:{property:"nbFailedCases",direction:!1},filterProcess:{displayName:void 0,version:void 0},filterFailedCases:"All",refreshFrequenceSelected:{label:"5 min.",value:"5"}},k=function(a){var b=parseInt(a[h],10),c=parseInt(a[i],10);if(isNaN(b)||isNaN(c))throw'"'+b+'" or "'+c+'" is not a number - '+a.name+" "+a.id;f+=b,g+=c;var d={id:a.id,displayName:a.displayName,version:a.version,nbOpenCases:b,nbFailedCases:c,nbHealthyCases:b-c,activationState:a.activationState.toLowerCase()};e.push(d)};return{loadData:function(b){e=[],f=0,g=0;var c=[];return b&&b.supervisorId&&c.push("supervisor_id="+b.supervisorId),d.load(a,{n:[h,i],f:c}).then(function(a){f=0,g=0,angular.forEach(a,function(a){k(a)})})},getProcesses:function(){return e},getTotalOpenCases:function(){return f},getTotalFailedCases:function(){return g},getSearchOptions:function(){return j}}}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processVisu.bpmn2json",[]).factory("bpmn2json",[function(){function a(a,b,c){var e=a.find("[bpmnElement="+b+"]");if(0===e.length){var f=a.find("[processRef="+b+"]").attr("id");e=a.find("[bpmnElement="+f+"]")}var g=e.find("dc\\:Bounds, Bounds"),h={name:c&&c.attr("name")},i={width:Number(g.attr("width")),height:Number(g.attr("height")),x:Number(g.attr("x")),y:Number(g.attr("y"))};return i.label=d(e.find("di\\:BPMNLabel, BPMNLabel"),h,i),i}function b(a,b,c,e){var f=[],g=b.attr("id"),h=a.find("[bpmnElement="+g+"]"),i=0,j=0,k="",l=b.closest("model\\:process").attr("name"),m={name:b.attr("name")};[].forEach.call(h.find("> [x]"),function(a){var b=angular.element(a),d=b.attr("x"),e=b.attr("y")+c;d=parseInt(d.substring(0,d.indexOf(".")+3)),e=parseInt(e.substring(0,e.indexOf(".")+3))+c,f.push({x:d,y:e}),""===k?(k="M"+d+" "+e,i=d,j=e):k+=" L"+d+" "+e});var n={conditional:!1,default:-1!==e.indexOf(g),path:k,pathDetails:f,process:l,x:i,y:j};return n.label=d(h.find("di\\:BPMNLabel, BPMNLabel"),m,n),n}function c(a,b,c){var d=[],e=b.attr("id"),f=a.find("[bpmnElement="+e+"]"),g=0,h=0,i="",j=b.closest("model\\:process").attr("name");b.attr("name");return[].forEach.call(f.find("> [x]"),function(a){var b=angular.element(a),e=b.attr("x"),f=b.attr("y")+c;e=parseInt(e.substring(0,e.indexOf(".")+3)),f=parseInt(f.substring(0,f.indexOf(".")+3))+c,d.push({x:e,y:f}),""===i?(i="M"+e+" "+f,g=e,h=f):i+=" L"+e+" "+f}),{path:i,pathDetails:d,process:j,x:g,y:h}}function d(a,b){if(a.length){var c=angular.element(a).find("[x]");c.length&&(b.x=~~c.attr("x")+c.attr("width")/2,b.y=~~c.attr("y")-c.attr("height"))}return b}function e(b,c){var d=[];return b.find("model\\:process, model").each(function(e,f){var g=angular.element(f),h=g.attr("id"),i=a(b,h,g),j=g.attr("name"),k={name:j,id:h,type:"process",boundaries:[],hasLane:g.find("model\\:lane, lane").length>0,process:j,width:i.width,height:i.height,x:i.x,y:i.y+c};d.push(k)}),d}function f(b){return-1*a(b,b.find("model\\:process, process").eq(0).attr("id")).y}function g(b,c){var d=b.find("model\\:lane, lane"),e=[];return d.each(function(d,f){var g=angular.element(f),h=g.attr("id"),i=a(b,h),j=g.attr("name"),k=g.closest("model\\:process").attr("name"),l={name:j,id:h,type:"lane",boundaries:[],process:k,width:i.width,height:i.height,x:i.x,y:i.y+c};e.push(l)}),e}function h(a){if(a.children().filter("model\\:multiInstanceLoopCharacteristics").length>0){if("true"===a.find("model\\:multiInstanceLoopCharacteristics, multiInstanceLoopCharacteristics").attr("isSequential"))return"multiInstance-sequential";if("false"===a.find("model\\:multiInstanceLoopCharacteristics, multiInstanceLoopCharacteristics").attr("isSequential"))return"multiInstance"}else if(a.children().filter("model\\:standardLoopCharacteristics").length>0)return"loop";return""}function i(a,b){var c=a.get(0).localName.toLowerCase();if(j(c)&&(c=c.substr(r.length)),"laneset"!==c&&"iospecification"!==c&&"dataobject"!==c&&"documentation"!==c)return c.indexOf("event")>-1&&(c=m(c,a,b)),c}function j(a){return k(a,r)}function k(a,b){return 0===a.indexOf(b)}function l(a){return-1===s.indexOf(a)}function m(a,b,c){if(b.children().length>0){for(var d=b.children().get(0).localName,e=0,f=!1;void 0!==b.children().get(e)&&!f;){var g=b.children().get(e).localName;j(g)&&l(g)&&(a+="-"+g.substr(r.length),f=!0),e++}f||k("documentation",d)||(a+="-"+d)}return"boundaryevent-timerEventDefinition"===a&&(a+="-"+b.attr("cancelActivity")),"intermediatecatchevent-eventDefinitionRef"===a&&0===c.find('[id="'+b.children()[0].innerText+'"]').length&&(a="intermediatecatchevent-messageEventDefinition"),a.toLowerCase()}function n(a,b){angular.forEach(a,function(a){angular.forEach(b,function(b){b.id===a.id&&b.boundaries.push(a)})})}function o(d,e){var f,g,j=d.find("model\\:process > *, model\\:subprocess > *"),k=[],l=[],m=[],o=[],p=[],q=[],r=[];return j.each(function(j,n){var s=angular.element(n),t="",u=s.attr("id");f=!1,g=!1;var v=i(s,d);if(void 0!==v){v.indexOf("event")>-1&&(v.indexOf("boundaryevent")>-1?f=!0:g=!0);var w=a(d,u,s),x=s.closest("model\\:process").attr("name");if(s.attr("default")&&k.push(s.attr("default")),"sequenceflow"===v)l.push(b(d,s,e,k));else if("association"===v)m.push(c(d,s,e));else if("textannotation"===v){var y={type:v,id:u,height:w.height,width:w.width,x:w.x,y:w.y+e,process:x,text:s.text().trim()};o.push(y)}else{var z={type:v,id:u,boundaries:[],height:w.height,width:w.width,x:w.x,y:w.y+e,process:x,label:w.label};t=h(s),""!==t&&(z.loop=t),g?p.push(z):f?(z.id=s.attr("attachedToRef"),q.push(z)):r.push(z)}}}),n(q,r),{events:p,edges:l,associations:m,textAnnotations:o,activities:r}}function p(a){var b=angular.element($.parseXML(a)),c=f(b),d=o(b,c);return d.pools=e(b,c),d.lanes=g(b,c),d}var q={},r="model:",s=["documentation"];return q.bpmn={from:function(a,b){return p(a,b)}},{parse:function(a){return q.bpmn.from(a,name)}}}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.caseVisu",[]).factory("caseVisuAPI",["caseInfoAPI",function(a){return{addAdditionalInformationsToNodes:function(b,c){return a.get({id:b}).$promise.then(function(a){var b={};return angular.forEach(c,function(a){"activity"!==a.svgtype&&"event"!==a.svgtype||(b[a.label.name]=a)}),angular.forEach(a.flowNodeStatesCounters,function(a,c){b.hasOwnProperty(c)&&(b[c].nbcFailed=a.failed||0,b[c].nbcReady=(a.ready||0)+(a.waiting||0),b[c].nbcExecuted=a.completed||0,b[c].nbcCancelled=(a.cancelled||0)+(a.skipped||0)+(a.aborted||0),b[c].nbcInProgress=(a.executing||0)+(a.completing||0)+(a.initializing||0))}),c})}}}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processVisu",["org.bonitasoft.common.i18n","com.bonitasoft.common.alert","com.bonitasoft.common.resources","ui.router","com.bonitasoft.features.admin.caseVisu","com.bonitasoft.features.admin.caseVisu.showkey","com.bonitasoft.features.admin.processVisu.bpmn2json"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.rule(function(a,b){if(0===b.path().indexOf("/pm"))return b.url().replace(/^\/pm/,"/admin")}),a.state("bonita.processVisu",{url:"/admin/monitoring/:compoundId",templateUrl:"features-sp/admin/processVisu/processVisu.html",controller:"processVisuCtrl",controllerAs:"ctrl",resolve:{featureActive:["FeatureManager","$q","featureList",function(a,b,c){if(!a.isMonitoringFeatureActivated())return b.reject()}]}})}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processVisu").factory("ProcessVisuAPI",["$http","$q","bpmn2json","processAPI",function(a,b,c,d){function e(a){var b={startevent:{type:"StartEvent"},"startevent-messageeventdefinition":{type:"StartMessageEvent"},"startevent-timereventdefinition":{type:"StartTimerEvent"},"startevent-signaleventdefinition":{type:"StartSignalEvent"},"startevent-erroreventdefinition":{type:"StartErrorEvent"},"boundaryevent-timereventdefinition-true":{type:"BoundaryTimerEvent"},"boundaryevent-timereventdefinition-false":{type:"NonInterruptingBoundaryTimerEvent"},"boundaryevent-signaleventdefinition":{type:"BoundarySignalEvent"},"boundaryevent-erroreventdefinition":{type:"IntermediateCatchErrorEvent"},"boundaryevent-messageeventdefinition":{type:"BoundaryMessageEvent"},"intermediatethrowevent-linkeventdefinition":{type:"ThrowLinkEvent"},intermediatethrowevent:{type:"IntermediateThrowMessageEvent"},"intermediatethrowevent-messageeventdefinition":{type:"IntermediateThrowMessageEvent"},"intermediatethrowevent-signaleventdefinition":{type:"ThrowSignalEvent"},"intermediatecatchevent-linkeventdefinition":{type:"CatchLinkEvent"},"intermediatecatchevent-messageeventdefinition":{type:"IntermediateCatchMessageEvent"},intermediatecatchevent:{type:"IntermediateCatchMessageEvent"},"intermediatecatchevent-eventdefinitionref":{type:"BoundarySignalEvent"},"intermediatecatchevent-timereventdefinition":{type:"IntermediateCatchTimerEvent"},endevent:{type:"EndEvent"},"endevent-terminateeventdefinition":{type:"EndTerminatedEvent"},"endevent-erroreventdefinition":{type:"EndErrorEvent"},"endevent-signaleventdefinition":{type:"EndSignalEvent"},"endevent-messageeventdefinition":{type:"EndMessageEvent"},usertask:{type:"Task"},receivetask:{type:"ReceiveTask",decorator:"enveloppe-vide"},sendtask:{type:"SendTask",decorator:"enveloppe-pleine"},task:{type:"Activity"},subprocess:{type:"SubProcessEvent"},servicetask:{type:"ServiceTask",decorator:"serviceTask"},scripttask:{type:"ScriptTask",decorator:"scriptTask"},callactivity:{type:"CollapsableSubprocess"},parallelgateway:{type:"ANDGateway"},exclusivegateway:{type:"XORGateway"},inclusivegateway:{type:"GatewayOr"}};if(angular.isDefined(b[a.type])){var c=b[a.type].type;angular.isDefined(b[a.type].decorator)&&(a.decorator=b[a.type].decorator),a.type=c}}function f(a){"Task"===a.type||"ReceiveTask"===a.type||"SendTask"===a.type||"Activity"===a.type||"ServiceTask"===a.type||"ScriptTask"===a.type||"CollapsableSubprocess"===a.type?a.textPosition={x:0,y:0,relative:!0}:a.textPosition={x:a.x+a.width/2,y:a.y-3,relative:!1}}var g=[],h=function(b){g[b]=a.get("../API/bpm/diagram/"+b).then(function(a){var b=c.parse(a.data);return angular.forEach(b,function(a){angular.forEach(a,function(a){angular.forEach(a.boundaries,function(a){e(a)}),e(a),f(a)})}),b})};return{getDiagram:function(a){return angular.isDefined(g[a])?g[a]:(h(a),g[a])},getProcessById:function(a){return d.get({id:a}).$promise.then(function(a){return a},function(a){return b.reject(a)})}}}])}(),function(){"use strict";var a=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(a){angular.isDefined(C)?A.title=j.getKey("processVisu.case.title",{caseId:C,processName:a.displayName,processVersion:a.version}):A.title=a.displayName+" ("+a.version+")",A.showProcessDiagramOfProgress(B,a.name)}function p(){k.history.back()}function q(a){angular.forEach(a,function(a){a.nbFailed&&(a.nbFailed=null),a.nbOpen&&(a.nbOpen=null),a.nbcCancelled&&(a.nbcCancelled=null),a.nbcExecuted&&(a.nbcExecuted=null),a.nbcFailed&&(a.nbcFailed=null),a.nbcInProgress&&(a.nbcInProgress=null),a.nbcReady&&(a.nbcReady=null)})}function r(a){return y=a,b.getDiagram(y).then(function(a){return e(function(){return a},200)},function(a){return i.error("Error on getting the diagram of process ! - ",a),d.reject(a)})}function s(a){var b=[];return b.push(f.search({page:0,c:0,f:["processId="+y,"name="+a.label.name,"state=failed"]}).$promise.then(function(b){angular.isDefined(b.resource)&&angular.isDefined(b.resource.pagination)&&(a.nbFailed=b.resource.pagination.total)})),b.push(f.search({page:0,c:0,f:["processId="+y,"name="+a.label.name,"state=pending"]}).$promise.then(function(b){angular.isDefined(b.resource)&&angular.isDefined(b.resource.pagination)&&(a.nbcReady=b.resource.pagination.total)})),b.push(f.search({page:0,c:0,f:["processId="+y,"name="+a.label.name,"state=ongoing"]}).$promise.then(function(b){angular.isDefined(b.resource)&&angular.isDefined(b.resource.pagination)&&(a.nbcInProgress=b.resource.pagination.total)})),"multiInstance"!==a.loop&&"multiInstance-sequential"!==a.loop&&"loop"!==a.loop||b.push(f.search({page:0,c:0,f:["processId="+y,"name="+a.label.name,"state=ongoing","parentActivityInstanceId=0"]}).$promise.then(function(b){a.nbcInProgress-=b.resource.pagination.total})),d.all(b).then(function(){return a},function(){return a})}function t(a){return angular.isUndefined(a.groupSvg)?a:(a.groupSvg.addClass("clickable"),a.groupSvg.click(function(){void 0!==x&&(x.groupSvg.removeClass("activityClicked"),x=void 0),a.groupSvg.addClass("activityClicked"),x=a}),a)}function u(b,e){a.removeAlert(z),z=a.addAlert(a.ALERT_TYPE.success,j.getKey("processVisu.drawing.inprogress")),A.loading=!0,A.loaded=!1,angular.isDefined(A.snap)&&A.snap.attr("display","none"),A.getDiagramOfProcess(b).then(function(a){return c.drawDiagram(a,e)},function(a){404===a.status&&(A.notFound=!0),d.reject(a)}).then(A.initSVG).then(A.addAdditionalInformationToDiagram).then(function(){return a.removeAlert(z),d.when()}).then(null,function(b){a.removeAlert(z),z=a.addAlert(a.ALERT_TYPE.danger,j.getKey("processVisu.drawing.error")),i.error("Error during draw BPMN :",b),A.resizeSvgComponent()}).finally(function(){A.loading=!1})}function v(a){A.resetNodeCounters(a),angular.isDefined(C)&&C>0?n.addAdditionalInformationsToNodes(C,a).then(function(a){angular.forEach(a,function(a){c.drawAdditionalInformations(a),t(a)})}):angular.forEach(a,function(a){"activity"===a.svgtype&&(s(a).then(c.drawAdditionalInformations),t(a))})}function w(a){return A.resizeSvgComponent(a),A.initZoomSVG(),A.snap.attr("display","inline"),A.loaded=!0,d.when(a)}var x,y,z,A=this;if(h.compoundId){var B=h.compoundId.split("-")[0],C=h.compoundId.split("-")[1],D=l.search();angular.isDefined(D.diagramOnly)&&(A.diagramOnly=!0,m.withoutFooter=!0),A.loaded=!1,A.loading=!1,A.snap=void 0,A.withCaseCountersKey=angular.isDefined(C),A.showMonitoring=p,A.resetNodeCounters=q,A.getDiagramOfProcess=r,A.getFlowNodeInfoFromFlowNodeAPI=s,A.applyStyleForActivity=t,A.showProcessDiagramOfProgress=u,A.receiveProcess=o,A.initSVG=w,A.addAdditionalInformationToDiagram=v,a.reset(),angular.isDefined(B)&&b.getProcessById(B).then(o)}};a.prototype.resetZoom=function(){var a=15,b=$("#svg-container"),c=$("#bpmn-diagram"),d=this.calculateZoomLevel(b.width()-a,c.width()),e=$(".panzoom");e.panzoom("zoom",d),e.panzoom("pan",0,40/d,{relative:!1})},a.prototype.calculateZoomLevel=function(a,b){return Math.min(a/b,1)},a.prototype.initZoomSVG=function(){var a=15,b=$("#svg-container"),c=$("#bpmn-diagram"),d=this.calculateZoomLevel(b.width()-a,c.width()),e=$(".panzoom").panzoom({$zoomIn:$(".zoom-in"),$zoomOut:$(".zoom-out"),$zoomRange:$(".zoom-range"),cursor:"move",maxScale:1.5,minScale:d/2,focal:{clientX:0,clientY:0},increment:.2,animate:!0,duration:300,easing:"ease-in-out"});e.panzoom("zoom",d),e.on("panzoomchange",function(a,b,c){var d=$(b.elem),e=d.parent(),f=parseFloat(c[0]),g=d.find("#bpmn-diagram").width(),h=d.find("#bpmn-diagram").height(),i=100,j=(1+(f-1)/2)*g,k=(1+(f-1)/2)*h,l=f*i,m=c[4],n=c[5],o=(1+(f-1)/2)*e.width(),p=(1+(f-1)/2)*e.height();j<-1*m+l&&d.panzoom("pan",i,0,{relative:!0}),o<m+l&&d.panzoom("pan",-1*i,0,{relative:!0}),k<-1*n+l&&d.panzoom("pan",0,i,{relative:!0}),p<n+l&&d.panzoom("pan",0,-1*i,{relative:!0})}),e.panzoom("pan",0,40/d,{relative:!0}),e.parent().on("mousewheel.focal",function(a){a.preventDefault();var b=a.delta||a.originalEvent.wheelDelta,c=b?b<0:a.originalEvent.deltaY>0;e.panzoom("zoom",c,{increment:.2,focal:a})})},a.prototype.resizeSvgComponent=function(a){if(this.snap=new Snap("#bpmn-diagram"),angular.isDefined(a))for(var b=0;b<a.length;b++)"process"===a[b].type&&this.snap.attr("style","width: "+(a[b].x+a[b].width+41)+"px; height: "+a[b].height+"px;")},angular.module("com.bonitasoft.features.admin.processVisu").controller("processVisuCtrl",["Alert","ProcessVisuAPI","ProcessVisuDrawer","$q","$timeout","flowNodeAPI","$state","$stateParams","$log","i18nService","$window","$location","$scope","caseVisuAPI",a])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processVisu").factory("ProcessVisuDrawer",["$q","$log","$compile","$rootScope",function(a,b,c,d){function e(a,b,c){var d=50,e=50,f=a.getBBox().width,g=a.getBBox().height,h=15;if(angular.isDefined(c)&&$(c.groupSvg.node).find("svg").length>0){var i=$(c.groupSvg.node).find("svg")[0].getAttribute("viewBox").split(" "),j=(i[2]-i[0])/c.width;f/=j,d=c.width-20,e=c.height*j-h-10}a.attr({text:b,"text-anchor":"middle",y:h});for(var k=f/b.length,l=b.split(" "),m=0,n=[],o=0;o<l.length;o++){var p=l[o].length;if(m+p*k>d&&o>0&&(n.push("\n"),m=0),p*k>d){var q=new RegExp(".{1,"+Math.floor(d/k)+"}","g"),r=l[o].match(q).join("\n");n.push(r),m=r[r.length-1].length}else m+=(p+1)*k,n.push(l[o]+" ")}var s=n.join("");if(s=s.split("\n"),s.length*g>e&&(s=s.slice(0,Math.floor(e/g)),s.length>0)){var t=s[s.length-1];s[s.length-1]=t.substr(0,t.length-3)+"..."}return a.attr({text:s}),a.selectAll("tspan").attr({dy:"1em",x:"50%"}),a}function f(a,b,c,d,e){var f,g,h,i;f=numeral(a).format("0a"),g=30*f.length/4+10,h=c.rect(b.x-10,b.y-6,g,15,3,3),h.addClass("label "+d),i=c.text(b.x-10+g/2,b.y+5,f),i.addClass("label-text"),h.append(c.text(0,0,"")),c.add(h),c.add(i),c.addClass(e)}function g(a,b,c,d,e){var f,g,h,i;f=numeral(a).format("0a"),g=30*f.length/4+10,h=c.rect(b.x+b.width-10,b.y-6,g,15,3,3),h.addClass("label "+d),i=c.text(b.x+b.width-10+g/2,b.y+5,f),i.addClass("label-text"),h.append(c.text(0,0,"")),c.add(h),c.add(i),c.addClass(e)}function h(a,b,c,d,e){var f,g,h,i;f=numeral(a).format("0a"),g=30*f.length/4+10,h=c.rect(b.x+10-g,b.y+b.height-11,g,15,3,3),h.addClass("label "+d),i=c.text(b.x+10-g/2,b.y+b.height,f),i.addClass("label-text"),h.append(c.text(0,0,"")),c.add(h),c.add(i),c.addClass(e)}function i(a,b,c,d,e){var f,g,h,i;f=numeral(a).format("0a"),g=30*f.length/4+10,h=c.rect(b.x+b.width-10,b.y+b.height-11,g,15,3,3),h.addClass("label "+d),i=c.text(b.x+b.width-10+g/2,b.y+b.height,f),i.addClass("label-text"),h.append(c.text(0,0,"")),c.add(h),c.add(i),c.addClass(e)}function j(a,b,c,d,e){var f,g,h,i;f=numeral(a).format("0a"),g=30*f.length/4+10,h=c.rect(b.x+b.width-10,b.y+b.height/2-8,g,15,3,3),h.addClass("label "+d),i=c.text(b.x+b.width-10+g/2,b.y+b.height/2+3,f),i.addClass("label-text"),h.append(c.text(0,0,"")),c.add(h),c.add(i),c.addClass(e)}function k(b,c){return angular.isDefined(c.nbFailed)&&c.nbFailed>0&&g(c.nbFailed,c,b,"label-failed","hasFailedCases"),angular.isDefined(c.nbOpen)&&c.nbOpen>0&&i(c.nbOpen,c,b,"label-open","hasOpenCases"),c.nbcReady>0&&(c.nbcFailed>0||c.nbcExecuted>0)?c.state="isReady":c.nbcFailed>0&&c.nbcExecuted>0?c.state="hasFailedCases":c.nbcReady>0?c.state="isReady":c.nbcExecuted>0?c.state="isDone":c.nbcFailed>0&&(c.state="hasFailedCases"),angular.isDefined(c.state)&&b.addClass(c.state),c.nbcExecuted>0&&h(c.nbcExecuted,c,b,"label-executed","hasExecutedCases"),c.nbcReady>0&&i(c.nbcReady,c,b,"label-ready","hasReadyCases"),c.nbcFailed>0&&g(c.nbcFailed,c,b,"label-failed","hasFailedCases"),c.nbcCancelled>0&&f(c.nbcCancelled,c,b,"label-cancelled","hasCancelledCases"),c.nbcInProgress>0&&j(c.nbcInProgress,c,b,"label-inProgress","hasInProgressCases"),a.when(c)}function l(a,b,c){var d,e,f=5;if(a.pathDetails[0].x>a.pathDetails[1].x?(d={x:a.pathDetails[0].x-f,y:a.pathDetails[0].y+f},e={x:a.pathDetails[0].x-3*f,y:a.pathDetails[0].y-f}):a.pathDetails[0].x<a.pathDetails[1].x?(d={x:a.pathDetails[0].x+f,y:a.pathDetails[0].y-f},e={x:a.pathDetails[0].x+3*f,y:a.pathDetails[0].y+f}):a.pathDetails[0].y>a.pathDetails[1].y?(d={x:a.pathDetails[0].x-f,y:a.pathDetails[0].y-f},e={x:a.pathDetails[0].x+f,y:a.pathDetails[0].y-3*f}):a.pathDetails[0].y<a.pathDetails[1].y&&(d={x:a.pathDetails[0].x+f,y:a.pathDetails[0].y+f},e={x:a.pathDetails[0].x-f,y:a.pathDetails[0].y+3*f}),d&&e){var g=c.line(d.x,d.y,e.x,e.y);$(g.node).attr("class","default-edge-strike"),b.add(g)}}function m(a,b,c){var d,e=a.pathDetails[0],f=16,g=10;a.pathDetails[1].x>a.pathDetails[0].x?d=c.polygon([e.x,e.y,e.x+f/2,e.y-g/2,e.x+f,e.y,e.x+f/2,e.y+g/2,e.x,e.y]):a.pathDetails[1].x<a.pathDetails[0].x?d=c.polygon([e.x,e.y,e.x-f/2,e.y-g/2,e.x-f,e.y,e.x-f/2,e.y+g/2,e.x,e.y]):a.pathDetails[1].y>a.pathDetails[0].y?d=c.polygon([e.x,e.y,e.x+g/2,e.y+f/2,e.x,e.y+f,e.x-g/2,e.y+f/2,e.x,e.y]):a.pathDetails[1].y<a.pathDetails[0].y&&(d=c.polygon([e.x,e.y,e.x+g/2,e.y-f/2,e.x,e.y-f,e.x-g/2,e.y-f/2,e.x,e.y])),d.attr("class","conditional-diamond"),b.add(d)}var n="features-sp/admin/processVisu/studioSVG/figures/",o="features-sp/admin/processVisu/studioSVG/filters/",p="features-sp/admin/processVisu/studioSVG/decoration/",q={drawProcess:function(b,c,d){var e=d,f=c.group(),g=c.rect(b.x,b.y,b.width,b.height);$(g.node).attr("class","participant");var h=new Snap.Matrix,i=c.text(0,0,b.name),j=i.node.getBBox();if(h.translate(b.x+25-j.width/2,b.y+b.height/2),h.rotate(270,j.width/2,j.height/2),i.transform(h),f.add(g),f.add(i),e.add(f),!1===b.hasLane){var k={name:" ",x:b.x+25,y:b.y,width:b.width-25,height:b.height};this.drawLane(k,c,d)}return a.when(b)},drawLane:function(b,c,d){var e=d,f=c.group(),g=c.rect(b.x,b.y,b.width,b.height);$(g.node).attr("class","lane");var h=new Snap.Matrix,i=c.text(0,0,b.name),j=i.node.getBBox();return h.translate(b.x+25-j.width/2,b.y+b.height/2),h.rotate(270,j.width/2,j.height/2),i.transform(h),f.add(g),f.add(i),e.add(f),a.when(b)},drawFromStudio:function(f,g,h,i){var j=a.defer(),k=i;return Snap.load(n+g.type+".svg",function(i){try{var l=h.group();l.attr("tooltip",g.label.name),l.attr("tooltip-append-to-body",!0),l.attr("tooltip-animation",!1),l.attr("tooltip-popup-delay",300),l.compile=c(l.node)(d.$new());var m=i.select("svg");if(g.groupSvg=l,"SubProcessEvent"===g.type){var o=m.attr("width"),q=m.attr("height");l.attr({transform:"translate("+g.x+","+g.y+") scale("+g.width/o+", "+g.height/q+")"})}else m.attr({x:g.x,y:g.y,width:g.width,height:g.height,scale:1});l.addClass(f),l.addClass(g.type);var r;"SubProcessEvent"===g.type?(r=h.text(g.x,g.y,g.label.name),k.add(r),l.add(m)):!0===g.textPosition.relative?(r=h.text(g.textPosition.x,g.textPosition.y,g.label.name),l.add(m.append(r)),e(r,g.label.name,g)):(r=h.text(g.label.x,g.label.y,g.label.name),l.add(m,r));var s=[];if(g.decorator){var t=a.defer();s.push(t),Snap.load(p+g.decorator+".svg",function(a){var b=a.select("svg");b.attr({x:g.x+4,y:g.y+4,width:20}),l.add(b),t.resolve()})}if(g.loop){var u=a.defer();s.push(u),Snap.load(p+g.loop+".svg",function(a){var b=a.select("svg"),c=19;"CollapsableSubprocess"===g.type?b.attr({x:g.x+g.width/2-1.5*c-5,y:g.y+g.height-c}):b.attr({x:g.x+g.width/2-c/2,y:g.y+g.height-c}),l.add(b),u.resolve()})}for(var v=g.boundaries,w=v.length,x=function(a){var b,c=a.select("svg");c.attr({x:this.nodeBoundaryEvent.x,y:this.nodeBoundaryEvent.y,width:this.nodeBoundaryEvent.width,height:this.nodeBoundaryEvent.height}),b=this.pos<=0?h.text(this.nodeBoundaryEvent.x+this.nodeBoundaryEvent.width+5,this.nodeBoundaryEvent.y+this.nodeBoundaryEvent.height/2+10,this.nodeBoundaryEvent.name):h.text(this.nodeBoundaryEvent.x+this.nodeBoundaryEvent.width+5,this.nodeBoundaryEvent.y+this.nodeBoundaryEvent.height/2,this.nodeBoundaryEvent.name),l.add(c,b),c.addClass("boundary"),c.addClass(this.nodeBoundaryEvent.type),this.deferredBoundaryEvents.resolve()},y=0;y<w;y++){var z=g.y,A=v[y];z-=A.y;var B=a.defer();s.push(B),Snap.load(n+v[y].type+".svg",x,{nodeBoundaryEvent:A,pos:z,deferredBoundaryEvents:B})}a.all(s).then(function(){k.add(l),j.resolve(g)})}catch(a){b.error(a,g),j.reject(a)}}),j.promise},drawEdge:function(b,c,d){var e=d,f=c.group(),g=c.path(b.path);return f.attr("class","edge-group"),"messageFlow"===b.type&&$(g.node).attr("stroke-dasharray","5,5"),b.default&&b.pathDetails.length>1&&l(b,f,c),$(g.node).attr("class","edge"),$(g.node).attr("style","marker-end: url(#markerArrow)"),f.add(g),b.conditional&&m(b,f,c),b.label&&f.add(c.text(b.label.x,b.label.y,b.label.name)),e.add(f),a.when(b)},drawAdditionalInformations:function(a){if(angular.isDefined(a.groupSvg))return k(a.groupSvg,a)},drawDiagram:function(b,c){var d=[],e=new Snap("#bpmn-diagram"),f=e.group();return Snap.load(o+"activityHaloFilters.svg",function(a){a.selectAll("filter").forEach(function(a){e.add(a)})}),angular.forEach(b.pools,function(a){a.name===c&&(d.push(q.drawProcess(a,e,f)),f.attr("transform","translate(0 -"+a.y+")"))}),angular.forEach(b.lanes,function(a){a.process===c&&d.push(q.drawLane(a,e,f))}),angular.forEach(b.edges,function(a){a.process===c&&d.push(q.drawEdge(a,e,f))}),angular.forEach(b.activities,function(a){a.process===c&&(a.svgtype="activity",d.push(q.drawFromStudio("activities",a,e,f)))}),angular.forEach(b.events,function(a){a.process===c&&(a.svgtype="event",d.push(q.drawFromStudio("events",a,e,f)))}),a.all(d)}};return q}])}(),function(){"use strict";var a=angular.module("com.bonitasoft.features.admin.caseVisu.showkey",["org.bonitasoft.common.i18n","ui.bootstrap"]);a.directive("visuShowKey",function(){return{restrict:"E",replace:!0,scope:{processKey:"@"},templateUrl:"features-sp/admin/processVisu/visuShowKey.html",controller:"showKeyCtrl",controllerAs:"keyCtrl"}}),a.controller("modalKeyCtrl",["$scope","i18nService","$modalInstance","processKey",function(a,b,c,d){this.cancelledLabel=b.getKey("processVisu.key.cancelled"),this.doneLabel=b.getKey("processVisu.key.completed"),this.failedLabel=b.getKey("processVisu.key.failed"),this.pendingLabel=b.getKey("processVisu.key.ongoing"),this.readyLabel=b.getKey("processVisu.key.pending"),this.showOnlyProcessKeys="true"===d,this.x=8*Math.max(this.doneLabel.length,this.cancelledLabel.length)+30,this.y=30,this.close=function(){c.dismiss()}}]),a.controller("showKeyCtrl",["$scope","$modal",function(a,b){this.openKeyModal=function(){b.open({templateUrl:"features-sp/admin/processVisu/modalKeyContent-tpl.html",controller:"modalKeyCtrl",controllerAs:"ctrl",size:"lg",resolve:{processKey:function(){return a.processKey}}})}}]),angular.forEach(["x","y","transform"],function(b){var c="ng"+b[0].toUpperCase()+b.slice(1);a.directive(c,function(){return function(a,d,e){e.$observe(c,function(a){e.$set(b,a)})}})})}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes.details.commons",[]).service("ProcessDetailsSPService",["store","customPageAPI","processAPI","formMappingAPI",function(a,b,c,d){var e={},f={},g={};return e.getFormPages=function(a){return f[a]},e.getProcessesFormPages=function(a){return g[a]},e.updateFormPages=function(c){return(_.isNumber(c)||_.isString(c))&&a.load(b,{o:"displayName ASC",f:"contentType=processPage"}).then(function(a){return _.isArray(f[c])||(f[c]=[]),f[c].length=0,[].push.apply(f[c],a.filter(function(a){return!a.processDefinitionId||a.processDefinitionId===c})),f[c]}).then(function(a){return _.isArray(g[c])||(g[c]=[]),g[c].length=0,[].push.apply(g[c],a.filter(function(a){return angular.isDefined(a)&&a.processDefinitionId===c})),g[c]})},e.retrieveFormMapping=function(b){return a.load(d,{f:["processDefinitionId="+b]})},e}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes.details",["ui.router","ui.bootstrap","gettext","org.bonitasoft.services.topurl","org.bonitasoft.common.directives.bonitaHref","org.bonitasoft.common.directives.toggleButton","org.bonitasoft.common.resources","com.bonitasoft.services.process.design","org.bonitasoft.features.admin.processes.details","com.bonitasoft.features.admin.processes.details.commons","com.bonitasoft.features.admin.processes.monitoringStatus","com.bonitasoft.features.admin.processes.details.startFor","com.bonitasoft.features.admin.processes.details.forms","com.bonitasoft.features.admin.processes.details.scripts","com.bonitasoft.features.admin.processes.details.processManagers","com.bonitasoft.features.admin.processes.details.editConnectorImplementation"]).config(["$stateProvider","$provide","FORMS_STATE_NAME","SCRIPTS_STATE_NAME",function(a,b,c,d){b.decorator("menuContent",["$delegate","gettext",function(a,b){return a.push({name:b("Forms"),resolutionLabel:"form mapping",state:c,defaultDestinationState:c+".mappings"}),a.push({name:b("Scripts"),state:d}),a}]);var e={formPages:["$stateParams","ProcessDetailsSPService",function(a,b){return b.updateFormPages(a.processId)}],formMappings:["$stateParams","ProcessDetailsSPService",function(a,b){return b.retrieveFormMapping(a.processId)}]};a.state(c,{url:"/forms",abstract:!0,templateUrl:"features-sp/admin/processes/details/forms/forms.html",controller:"FormsCtrl",controllerAs:"formsCtrl",resolve:e}).state(d,{url:"/scripts",templateUrl:"features-sp/admin/processes/details/scripts/scripts.html",controller:"ScriptsCtrl",controllerAs:"scriptsCtrl",resolve:{design:["ProcessDesignService","$stateParams",function(a,b){return a.retrieveDesignPromise(b.processId).then(a.findExpressionFromDesign)}]}})}]).run(["editableOptions",function(a){a.theme="bs3"}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes.details.editConnectorImplementation",["ui.bootstrap","ui.router","angular-growl","angularFileUpload","org.bonitasoft.bonitable","org.bonitasoft.bonitable.selectable","org.bonitasoft.bonitable.repeatable","org.bonitasoft.bonitable.sortable","org.bonitasoft.bonitable.settings","org.bonitasoft.common.resources.store","org.bonitasoft.common.i18n"]).controller("EditConnectorImplementationCtrl",["$scope","$modalInstance","store","processConnectorAPI","FileUploader","growl","process","processConnector","i18nService","$state",function(a,b,c,d,e,f,g,h,i,j){var k=this;k.successUpload=function(b,c){b=b||{file:{}},a.isUploadSuccess=!0,a.fileName=b.file.name,a.filePath=c||""},k.errorUpload=function(){throw new Error(i.getKey("processDetails.connector.upload.error"))},a.uploader=new e({autoUpload:!0,url:"../portal/fileUpload",onSuccessItem:k.successUpload,onErrorItem:k.errorUpload}),k.saveDefinition=function(){d.update({id:g.id+"/"+h.definition_id+"/"+h.definition_version,process_id:g.id,definition_id:h.definition_id,definition_version:h.definition_version,implementation:a.filePath}).$promise.then(function(){f.success("connector "+h.definition_id+" "+h.definition_version+" was sucessfully updated"),k.closeModal(),j.reload()},function(a){f.error("connector "+h.definition_id+" "+h.definition_version+" was not sucessfully updated"),f.error("Message: "+a.data.message)})},k.closeModal=function(){b.close()}}]).directive("editProcessConnectorImplementationLink",function(){return{controller:"EditConnectorModalController",controllerAs:"editConnectorModalController",restrict:"E",template:'<button class="btn btn-primary" ng-click="editConnectorModalController.editConnectorImplementationModal()"><span class="glyphicon glyphicon-pencil"></span></button>',scope:{processConnector:"=",process:"="}}}).controller("EditConnectorModalController",["$scope","$modal",function(a,b){this.editConnectorImplementationModal=function(){b.open({templateUrl:"features-sp/admin/processes/details/edit-process-connector-implementation.html",controller:"EditConnectorImplementationCtrl",controllerAs:"editConnectorImplementationCtrl",size:"lg",resolve:{process:function(){return a.process},processConnector:function(){return a.processConnector}}}).result.then(function(){a.$emit("process.refresh"),a.$emit("process.connectors.refresh")},function(){a.$emit("process.connectors.refresh")})}}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes.forms.list",["ui.bootstrap","ui.router","org.bonitasoft.common.i18n","angularFileUpload","org.bonitasoft.common.filters.stringTemplater","org.bonitasoft.common.directives.bootstrap-form-control"]).controller("FormListCtrl",["ProcessDetailsSPService","process","$modal",function(a,b,c){var d=this;d.processForms=a.getProcessesFormPages(b.id),d.updateForm=function(d){c.open({templateUrl:"features-sp/admin/processes/details/forms/form-uploader.html",controller:"FormUploadModalCtrl",controllerAs:"formUploadModalCtrl",resolve:{process:function(){return b},form:function(){return d}}}).result.then(function(){a.updateFormPages(b.id)},angular.noop)}}]).controller("FormUploadModalCtrl",["$scope","process","form","$modalInstance","FileUploader","customPageAPI","growl","i18nService",function(a,b,c,d,e,f,g,h){function i(a,b){a(b).$promise.then(d.close,function(a){g.error(h.getKey("processDetails.forms.add.error")),g.error("Message: "+a.data.message)})}var j=this;j.form=c,j.confirmPermissionsPage=!1,j.successUpload=function(a,b){j.fileItem=a||{file:{}},j.uploadingResult=j.extractObjectFromServletResponse(b),j.isUploadSuccess=!0,j.fileName=a.file.name,j.filePath=b||""},j.extractObjectFromServletResponse=function(a){var b={},c=a.split("::");if(c&&3===c.length){var d=c[c.length-1],e=d.match(/^\[(.+)\]$/);null!==e?b.permissions=e[1].split(",").map(function(a){return a.replace('"',"")}):b.error=j.convertExceptionIntoMessage(d,c)}return b},j.convertExceptionIntoMessage=function(a,b){if(b[b.length-2].length>50)return h.getKey("processDetails.forms.upload.error.filename.length");var c=h.getKey("processDetails.forms.upload.error.file.structure");return{AlreadyExistsException:h.getKey("processDetails.forms.upload.error.name.already.exists"),InvalidPageTokenException:h.getKey("processDetails.forms.upload.error.filename.invalid"),CompilationFailedException:h.getKey("processDetails.forms.upload.error.compilation"),InvalidPageZipContentException:c,InvalidPageZipMissingPropertiesException:c,InvalidPageZipMissingIndexException:c,InvalidPageZipInconsistentException:c,InvalidPageZipMissingAPropertyException:c}[a]},j.errorUpload=function(){throw new Error("Cannot upload the file")},j.uploader=new e({autoUpload:!0,url:"../portal/pageUpload?process="+b.id+"&action="+(angular.isDefined(c)?"edit":"add"),onSuccessItem:j.successUpload,onErrorItem:j.errorUpload}),j.cancel=function(){d.dismiss()},j.createPage=function(){i(f.save,{pageZip:j.filePath,formError:"",processDefinitionId:b.id})},j.updatePage=function(){i(f.update,{id:c.id,pageZip:j.filePath,processDefinitionId:b.id})}}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes.forms.mappings",["ui.bootstrap","ui.router","org.bonitasoft.common.resources.store","xeditable","gettext","com.bonitasoft.features.admin.processes.details.commons"]).controller("FormMappingCtrl",["$scope","$filter","$q","process","formMappingAPI","customPageAPI","ProcessDetailsSPService","formMappings","$log","gettextCatalog",function(a,b,c,d,e,f,g,h,i,j){function k(a){return g.getFormPages(d.id).reduce(function(b,c){return Number(c.id)===Number(a)?c.displayName:b},j.getString("No Mapping"))}var l=this,m={INTERNAL:"Internal",URL:"Url",LEGACY:"Legacy"};l.formPagesResult=[],l.findPageNameForGivenPageId=k,l.showTarget=function(a){return m[a]?m[a]:"Target is not set"},l.showCaption=function(a,b){a.displayCaption=b},l.isTargetNoneWithoutContract=function(a){return"NONE"===a.target&&!a.formRequired},l.getPageMappingText=function(a){return a.pageName?a.pageName:"NONE"!==a.target?j.getString("Undefined"):"PROCESS_OVERVIEW"!==a.type&&l.isTargetNoneWithoutContract(a)?j.getString("No form expected"):j.getString("No form mapped")},g.getFormPages(d.id).forEach(function(a){l.formPagesResult.push({name:a.displayName,pageId:a.id})});var n=_.first(h.filter(function(a){return"PROCESS_START"===a.type})),o=_.first(h.filter(function(a){return"PROCESS_OVERVIEW"===a.type})),p=h.filter(function(a){return"TASK"===a.type});l.taskMappingPagination={currentPage:1,numberPerPage:10,total:p&&p.pagination&&p.pagination.total},n.pageName=n.pageId&&l.findPageNameForGivenPageId(n.pageId)||n.url,p.forEach(function(a){a.pageName=a.pageId&&l.findPageNameForGivenPageId(a.pageId)||a.url}),o.pageName=o.pageId&&l.findPageNameForGivenPageId(o.pageId)||o.url,l.startMapping=n,l.taskMapping=p,l.overviewMapping=o,l.updateMapping=function(b,c){var d;if(!c){if(angular.isUndefined(b))return j.getString("Form cannot be empty");if("PROCESS_OVERVIEW"===b.type)return j.getString("Case overview cannot be empty");d={}}return d||l.formPagesResult.filter(function(a){return a.name===c}).forEach(function(a){d={pageId:a.pageId},b.pageId=a.pageId}),d||(d={url:c}),e.update({id:b.id},d).$promise.then(function(){angular.equals(d,{})&&(b.target="NONE"),a.$emit("process.refresh")},function(a){return i.error("error updating parameter : ",a),a.data.message})}}]).filter("dateInMillis",function(){return function(a){return Date.parse(a)}})}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes.details.forms",["ui.bootstrap","ui.router","org.bonitasoft.common.resources.store","xeditable","gettext","com.bonitasoft.features.admin.processes.forms.mappings","com.bonitasoft.features.admin.processes.forms.list"]).constant("FORMS_STATE_NAME","bonita.processesDetails.forms").config(["$stateProvider","FORMS_STATE_NAME",function(a,b){a.state(b+".mappings",{url:"",views:{"forms-content":{templateUrl:"features-sp/admin/processes/details/forms/forms-mapping.html",controller:"FormMappingCtrl",controllerAs:"formMappingCtrl"}}}).state(b+".list",{url:"/list",views:{"forms-content":{templateUrl:"features-sp/admin/processes/details/forms/forms-list.html",controller:"FormListCtrl",controllerAs:"formListCtrl"}}})}]).controller("FormsCtrl",["$state",function(a){var b=this;b.state=a,b.isCurrentState=function(b){return a.is(b)}}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes.monitoringStatus",["org.bonitasoft.common.i18n","ui.bootstrap","org.bonitasoft.service.token","com.bonitasoft.features.admin.processVisu","org.bonitasoft.common.directives.bonitaHref"]).directive("monitoringStatus",function(){return{restrict:"E",replace:!0,scope:{process:"="},templateUrl:"features-sp/admin/processes/details/monitoring-status.html",controller:"MonitoringStatusCtrl",controllerAs:"monitoringCtrl"}}).controller("MonitoringStatusCtrl",["$scope","ProcessVisuAPI","i18nService","TokenExtensionService",function(a,b,c,d){var e=this;e.process=a.process,e.pageProfileToken=d.tokenExtensionValue}])}(),function(){"use strict";angular.module("org.bonitasoft.features.admin.processes.editProcessManagersMapping",["ui.bootstrap","ui.router","angular-growl","org.bonitasoft.common.i18n","org.bonitasoft.common.resources.store","org.bonitasoft.features.admin.mappings","org.bonitasoft.common.actors.selectbox"]).controller("EditProcessManagersMappingCtrl",["$scope","$http","$modalInstance","store","processSupervisorAPI","userAPI","groupAPI","roleAPI","managerProfile","MANAGER_FILTER","process","growl","$q","i18nService","$filter","defaultLocalLang","MAPPING_PROFILES","MappingService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(){return E.managerType===q.MEMBERSHIP}function t(){return E.newManagers.list.length||!!E.managersToDelete.length||E.newManagers.membership.group.list.length&&E.newManagers.membership.role.list.length}function u(){c.dismiss()}function v(a){var c=[];return a.forEach(function(a){a.user_deletion_id=a.user_id,a.role_deletion_id=a.role_id,a.group_deletion_id=a.group_id,_.isObject(a.user_id)&&(a.user_deletion_id=a.user_id.id),_.isObject(a.role_id)&&(a.role_deletion_id=a.role_id.id),_.isObject(a.group_id)&&(a.group_deletion_id=a.group_id.id),c.push(b({url:"../API/bpm/processSupervisor",method:"DELETE",data:[k.id+"/"+a.user_deletion_id+"/"+a.role_deletion_id+"/"+a.group_deletion_id]}))}),c}function w(){var a=[];return E.newManagers.list.forEach(function(b){var c={process_id:k.id};c[_.first(i.deploy.deploy)]=b.id,a.push(E.processSupervisorAPISave(c))}),a}function x(){if(1===E.newManagers.membership.role.list.length&&1===E.newManagers.membership.group.list.length)return e.save({role_id:E.newManagers.membership.role.list[0].id,group_id:E.newManagers.membership.group.list[0].id,process_id:k.id}).$promise}function y(a){E.managers.splice(E.managers.indexOf(a),1),E.managersToDelete.push(a)}function z(a){E.managersToDelete.splice(E.managersToDelete.indexOf(a),1),E.managers.push(a)}function A(a){return e.save(a).$promise}function B(){E.managers.forEach(function(a){E.managersToDelete.push(a)}),E.managers.length=0}function C(){E.managersToDelete.forEach(function(a){E.managers.push(a)}),E.managersToDelete.length=0}function D(){var a=[];a=a.concat(w()),a=a.concat(x()),a=a.concat(v(E.managersToDelete)),m.all(a).then(c.close,E.cancel)}var E=this;E.managerType=i.name,E.managers={},E.newManagers={list:[],membership:{role:{list:[]},group:{list:[]}}},E.mappedIds=[],E.managersToDelete=[],E.constant=q,E.localLang=angular.copy(p),E.localLang.nothingSelected=n.getKey("processDetails.actors."+i.type+".selectHelper"),E.localLangRole=angular.copy(p),E.localLangRole.nothingSelected=n.getKey("processDetails.actors.memberships.selectRoleHelper"),E.localLangGroup=angular.copy(p),E.localLangGroup.nothingSelected=n.getKey("processDetails.actors.memberships.selectGroupHelper"),E.currentManagerLabel=n.getKey("processDetails.actors."+i.type+".label"),E.searchMemberParams=r.getSearchMemberParams(E.managerType),E.searchMemberParams.filters=j[E.managerType],E.processSupervisorAPISave=A,E.reenableMember=z,E.removeMember=y,E.removeAll=B,E.reenableAll=C,E.apply=D,E.cancel=u,E.isMembershipEdit=s,E.hasModificationToApply=t,E.searchMemberParams.filters=E.searchMemberParams.filters.concat("process_id="+k.id),r.loadMembers(E.managerType,E.searchMemberParams,E.mappedIds,e).then(function(a){E.managers=a})}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes.details.processManagers",["org.bonitasoft.features.admin.processes.editProcessManagersMapping","ui.bootstrap","org.bonitasoft.common.resources","org.bonitasoft.features.admin.mappings"]).constant("MANAGERS_PER_CELL",5).service("ProcessManagerMappingService",["processSupervisorAPI","MANAGER_FILTER","ACTOR_PROFILES",function(a,b,c){var d={};return d.getProcessManagers=function(c,d,e){var f=["process_id="+d];return f=f.concat(b[c.name]),a.search({p:0,c:e,f:f,d:c.deploy.deploy}).$promise},d.loadProcessManagerProfilesMapping=function(a,b){var e={};return angular.forEach(c,function(c){d.getProcessManagers(c,a,b).then(function(a){e[c.type]=a})}),e},d}]).controller("ProcessManagersMappingCtrl",["$http","$scope","$modal","MANAGER_FILTER","MANAGERS_PER_CELL","ACTOR_PROFILES","ProcessManagerMappingService","growl","i18nService","$log",function(a,b,c,d,e,f,g,h,i,j){var k=this,l=b.process;k.managersPerCell=e,k.processManagers=g.loadProcessManagerProfilesMapping(l.id,e),k.editMapping=function(a){c.open({templateUrl:"features-sp/admin/processes/details/process-manager/edit-process-managers-mapping.html",controller:"EditProcessManagersMappingCtrl",controllerAs:"editProcessManagersMappingCtrl",size:"lg",resolve:{process:function(){return l},managerProfile:function(){return f[a]},defaultLocalLang:["i18nService",function(a){return{selectAll:a.getKey("multiSelect.selectAll"),selectNone:a.getKey("multiSelect.selectNone"),reset:a.getKey("multiSelect.reset"),search:a.getKey("multiSelect.search.helper")}}]}}).result.then(function(a){a=_.compact(a),h.success(i.getKey("processDetails.pm.mapping.update.success",{nbMapping:a.length}))},function(a){angular.isDefined(a)&&_.isArray(a)&&(j.error("Actor mapping errors",a),h.error(i.getKey("processDetails.pm.mapping.update.error",{nbMapping:a.length})))}).finally(function(){g.getProcessManagers(f[a],l.id,e).then(function(b){k.processManagers[a]=b})})}}]).directive("processManagerMapping",function(){return{scope:{process:"="},controller:"ProcessManagersMappingCtrl",controllerAs:"processManagersMappingCtrl",restrict:"E",templateUrl:"features-sp/admin/processes/details/process-manager/process-managers-mapping.html",replace:!0}})}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes.details.scripts",["org.bonitasoft.common.i18n","com.bonitasoft.services.process.design","com.bonitasoft.common.resources","ui.ace","ui.bootstrap","angular-growl","ui.tree"]).constant("SCRIPTS_STATE_NAME","bonita.processesDetails.scripts").filter("containsGroovyExpression",function(){return function(a){function b(a){return angular.isDefined(a)&&!_.isNull(a)&&("TYPE_CONSTANT"===a.expressionType&&"scripting-groovy-script"===a.connectorId||"TYPE_READ_ONLY_SCRIPT"===a.expressionType||_.isArray(a.children)&&_.some(a.children,b))}return _.isArray(a)&&a.filter(b)}}).filter("filterDisplayableElement",function(){return function(a){return _.isArray(a)&&a.filter(function(a){return a.show})}}).controller("ScriptsCtrl",["design","$modal","process","$scope","ProcessDesignService",function(a,b,c,d,e){function f(a,b){return b.show=_.isArray(b.children)&&b.children.reduce(function(b,c){return j.showMatchingElements(a,c)||b},!1)||!_.isArray(b.children)&&j.checkNativeMatchesTextFilter(b,a),b.show}function g(a,b){return!b||!(!_.isString(b)||!_.values(a).filter(_.isString).filter(function(a){return a.match(b)}).length)}function h(a){a.show=!0,_.isArray(a.children)&&a.children.forEach(h)}function i(){j.textFilter?j.design.forEach(j.showMatchingElements.bind(j,j.textFilter)):j.design.forEach(h)}var j=this;j.design=[a],j.hasContent=function(a){return angular.isDefined(a)&&!_.isNull(a)&&angular.isDefined(a.content)&&!_.isNull(a.content)},j.showMatchingElements=f,j.checkNativeMatchesTextFilter=g,j.updateTreeElementDisplayOnSearchFilterChange=i,j.showAllElements=h,j.findIconFromType=e.findIconFromType,d.$watch("scriptsCtrl.textFilter",i),j.editScript=function(a){b.open({templateUrl:"features-sp/admin/processes/details/scripts/edit-script.html",controller:"EditScriptCtrl",controllerAs:"editScriptCtrl",backdrop:!1,size:"lg",resolve:{script:function(){return a},processId:function(){return c.id}}})}}]).controller("EditScriptCtrl",["script","processScriptAPI","$log","growl","$modalInstance","processId","i18nService",function(a,b,c,d,e,f,g){var h=this;h.script=a;var i=a.content;h.contentHasChange=function(a){a&&a[0]&&a[0].data&&a[0].data.text!==i&&(h.contentHasChanged=!0)},h.cancelEdit=function(){a.content=i,e.dismiss()},h.saveScript=function(){var i={scriptId:a.id,id:a.id,processId:f,processDefinitionId:f,content:h.script.content};b.update(i).$promise.then(function(){d.success(g.getKey("processDetails.scripts.update.success")),e.close()},function(a){c.error("impossible to update script content",a),d.error(g.getKey("processDetails.scripts.update.error"))})},h.loadEditor=function(a){h.contentHasChanged=!1,a.setShowPrintMargin(!1),a.getSession().setUndoManager(new ace.UndoManager)}}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes.details.startFor",["ui.bootstrap","org.bonitasoft.common.resources","isteven-multi-select","org.bonitasoft.common.i18n","org.bonitasoft.service.debounce"]).directive("startFor",function(){return{scope:{process:"="},controller:"startForModalCtrl",controllerAs:"startForModalCtrl",restrict:"E",template:'<button id="btn-start-for" ng-click="startForModalCtrl.selectUserModal(startForModalCtrl.process)" ng-disabled="startForModalCtrl.process.activationState !== \'ENABLED\'" type="button" class="btn btn-success">{{\'Start for\' | translate}}</button>',replace:!0}}).controller("startForModalCtrl",["$scope","$modal",function(a,b){var c=this;c.process=a.process,c.selectUserModal=function(a){b.open({templateUrl:"features-sp/admin/processes/details/startForModal.html",controller:"StartForModalInstanceCtrl",controllerAs:"startForModalInstanceCtrl",size:"sm",resolve:{process:function(){return a}}})}}]).controller("StartForModalInstanceCtrl",["$scope","userAPI","formMappingAPI","processInstantiationAPI","process","growl","i18nService","manageTopUrl","$modalInstance","$window","debounce",function(a,b,c,d,e,f,g,h,i,j,k){var l=this;l.localLang={search:g.getKey("processDetails.startFor.user.helper"),nothingSelected:g.getKey("processDetails.startFor.label")},l.selectedUsers=[],l.suggestedUsers=[],l.searchUsers=function(a){angular.isUndefined(a)||a.keyword&&l.previousSearchTerm===a.keyword||(l.previousSearchTerm=a.keyword,k(function(){b.search({p:0,c:20,s:a&&a.keyword,o:"firstname,lastname",f:["enabled=true","process_id="+e.id]}).$promise.then(function(a){l.suggestedUsers=a.data.map(function(a){return{displayName:a.firstname+" "+a.lastname,id:a.id}})})},300))},l.searchUsers({});var m=function(a,b){d.save({processId:a,userId:b}).$promise.then(function(a){var b=function(){l.redirectToCase(a.caseId)};f.success(g.getKey("processDetails.start.success",{caseId:a.caseId}),{ttl:1500,onclose:b})},function(){growlOptions.onclose=void 0,f.error(g.getKey("processDetails.start.error"))})};l.ok=function(){c.search({p:0,c:1,f:["processDefinitionId="+e.id,"type=PROCESS_START"]}).$promise.then(function(a){if(a.resource.pagination.total>0&&"NONE"===a.data[0].target)m(e.id,l.selectedUsers[0].id);else{var b="../portal/resource/process/"+encodeURI(e.name)+"/"+encodeURI(e.version)+"/content/?id="+e.id+"&user="+l.selectedUsers[0].id;j.location.href=b}i.close()})},l.cancel=function(){i.dismiss("cancel")},l.redirectToCase=function(a){var b,c=h.getCurrentPageToken();"processlistingadmin"===c||"processmoredetailsadmin"===c?b=h.getUrlToTokenAndId(a,"casemoredetailsadmin"):"processlistingpm"!==c&&"processmoredetailspm"!==c||(b=h.getUrlToTokenAndId(a,"casemoredetailspm")),b&&(j.parent.location.hash=b)}}])}(),function(){"use strict";angular.module("com.bonitasoft.features.admin.processes",["com.bonitasoft.features.admin.processes.details"])}(),function(){"use strict";angular.module("com.bonitasoft.common.alert",["ui.bootstrap"]).factory("Alert",["$timeout",function(a){var b=[],c=function(a){0<=a&&a<b.length&&(b[a]=[])};return{ALERT_TYPE:{success:"success",warning:"warning",danger:"danger"},getAlerts:function(){return b},addAlert:function(d,e,f){var g=angular.isDefined(f)?f:7e3;b.push({type:d,text:e});var h=b.length-1;return b[h].promiseTimeout=a(function(){c(h)},g),h},removeAlert:function(d){0<=d&&d<b.length&&(a.cancel(b[d].promiseTimeout),c(d))},reset:function(){angular.forEach(b,function(b,d){a.cancel(b.promiseTimeout),c(d)})}}}]).controller("AlertCtrl",["$scope","Alert",function(a,b){a.closeMessage=function(a){b.removeAlert(a)},a.alerts=b.getAlerts()}])}(),function(){"use strict";var a="../API/",b=angular.module("com.bonitasoft.common.resources",["ngResource","org.bonitasoft.common.resources"]);!function(c){angular.forEach(c,function(c,d){b.factory(d,["$resource",function(b){return _.isArray(c)?b(a+_.first(c)+"/:id"+_.tail(c).join(),{id:"@id"}):b(a+c+"/:id",{id:"@id"})}])})}({archivedFlowNodeAPI:"bpm/archivedFlowNode",caseInfoAPI:"bpm/caseInfo",flowNodeAPI:"bpm/flowNode",processDesignAPI:["bpm/process","/design"],processSupervisorAPI:"bpm/processSupervisor"}),b.factory("processScriptAPI",["$http","$resource",function(b,c){return c(a+"bpm/process/:processId/expression/:scriptId/",{processId:"@processId",scriptId:"@scriptId"},{update:{transformRequest:function(a){return delete a.processId,delete a.scriptId,angular.toJson(a)},method:"PUT"}})}]),b.factory("validateBDMAccessControl",["$resource",function(a){return a("../services/bdmAccessControl/validation",{bdmAccessControlUpload:"@bdmAccessControlUpload"})}]),b.factory("installBDMAccessControl",["$resource",function(a){return a("../services/bdmAccessControl/install",{bdmAccessControlUpload:"@bdmAccessControlUpload"})}]),b.factory("bdmAccessControlAPI",["$http",function(b){var c={};return c.delete=function(){return b({url:a+"accessControl/bdm",method:"DELETE"})},c.get=function(){return b({url:a+"accessControl/bdm",method:"GET"})},c}]),b.factory("processInstantiationAPI",["$http","$resource",function(b,c){return c(a+"bpm/process/:processId/instantiation",{processId:"@processId",user:"@userId"})}])}(),function(){"use strict";angular.module("com.bonitasoft.services.process.design",["org.bonitasoft.common.resources"]).value("pathToIcons","features-sp/admin/processVisu/studioSVG/").value("iconList",{process:"icons/Pool.gif",activities:"icons/process.png",activity:"icons/Activity.gif",transition:"icons/SequenceFlow.gif",gateway:"icons/Gateway.gif",startEvent:"icons/StartEvent.gif",endEvent:"icons/EndEvent.gif",intermediateCatchEvent:"icons/IntermediateEvent.gif",intermediateThrowEvent:"icons/IntermediateEvent.gif",document:"icons/Document.gif",data:"icons/Data.gif",businessData:"icons/Data.gif",connector:"icons/connector.png",expression:"icons/groovy.png",operation:"icons/Operation.gif",boundaryEvent:"icons/BoundaryEvent.gif",event:"icons/Event.gif",catchTimerEvent:"icons/IntermediateCatchTimerEvent.gif",catchSignalEvent:"icons/IntermediateCatchSignalEvent.gif",catchErrorEvent:"icons/IntermediateErrorCatchEvent.gif",catchMessageEvent:"icons/IntermediateCatchMessageEvent.gif",correlationKey:"icons/CorrelationKey.gif",correlation:"icons/Correlation.gif",loop:"decoration/loop.svg"}).service("ProcessDesignService",["processDesignAPI","pathToIcons","iconList",function(a,b,c){function d(a,b,c,d){return angular.isArray(b)&&angular.isArray(a)&&_.compact(b).forEach(function(b){b.type=d,angular.isUndefined(c)?e(a,b):_.isFunction(c)?a.push(c(b)):e(a,b[c],{type:d})}),a}function e(a,b,c){if(!angular.isArray(a))throw new Error("first parameter to fill with expression is not an array");b&&(b.type="expression"),a.push(f.isExpression(b)&&angular.extend(b,c))}var f={};return f.retrieveDesignPromise=function(b){return a.get({id:b}).$promise.then(function(a){var b=angular.isDefined(a.data)?a.data:a;return angular.isDefined(b.$promise)&&delete b.$promise,angular.isDefined(b.processContainer)&&delete b.processContainer,angular.isDefined(b.gateways)&&delete b.gateways,b})},f.getScriptFromDesign=function(a){return _.uniq(f.traverseDesignForProperty(a,function(a,b){return"script"===b||a&&"GROOVY"===a.interpreter}))},f.traverseDesignForProperty=function(a,b){var c=[];if(!_.isObject(a))return c;if(!_.isFunction(b))throw new TypeError("you must provide a function as second argument");return angular.forEach(a,function(d,e){b(d,e,a)?c.push(d):_.isObject(d)&&[].push.apply(c,f.traverseDesignForProperty(d,b)),delete a.key}),c},f.isExpression=function(a){return angular.isDefined(a)&&!_.isNull(a)},f.addExpressions=d,f.findExpressionFromDesign=function(a){var b=[];return a.type="process",angular.isUndefined(a)?b:(d(b,a.stringIndexValues),d(b,a.context,"expression","expression"),b.push(f.findFromFlowElementContainer(a.flowElementContainer)),angular.extend(a,{children:_.chain(b).compact().uniq().value()}))},f.findFromFlowElementContainer=function(a){var b=[];return a.type="activities",angular.isUndefined(a)&&!_.isNull(a)?a:(d(b,a.activities,f.findFromFlowNode,"activity"),d(b,a.transitions,"condition","transition"),d(b,a.gatewaysList,f.findFromFlowNode,"gateway"),d(b,a.startEvents,f.findFromEvent,"startEvent"),d(b,a.endEvents,f.findFromEvent,"endEvent"),d(b,a.intermediateCatchEvents,f.findFromEvent,"intermediateCatchEvent"),d(b,a.intermediateThrowEvents,f.findFromEvent,"intermediateThrowEvent"),d(b,a.documentDefinitions,"initialValue","document"),d(b,a.documentListDefinitions,"expression","document"),d(b,a.dataDefinitions,"defaultValueExpression","data"),d(b,a.businessDataDefinitions,"defaultValueExpression","businessData"),d(b,a.connectors,f.findFromConnector,"connector"),angular.extend(a,{name:"Flow element container",children:_.chain(b).compact().uniq().value()}))},f.findFromTransition=function(a){var b=[];return angular.isUndefined(a)?a:(e(b,a.condition),angular.extend(a,{children:_.chain(b).compact().uniq().value()}))},f.findFromFlowNode=function(a){var b=[];if(!angular.isUndefined(a))return e(b,a.displayName),e(b,a.defaultTransition),e(b,a.displayDescriptionAfterCompletion),e(b,a.displayDescription),e(b,a.expectedDuration),b.push(f.findFromLoopCharacteristics(a.loopCharacteristics)),d(b,a.dataDefinitions,"defaultValueExpression","data"),d(b,a.businessDataDefinitions,"defaultValueExpression","businessData"),d(b,a.operations,"rightOperand","operation"),d(b,a.boundaryEventDefinitions,f.findFromEvent,"boundaryEvent"),d(b,a.connectors,f.findFromConnector,"connector"),angular.extend(a,{children:_.chain(b).compact().uniq().value()})},f.findFromEventTrigger=function(a){var b=[];return angular.isUndefined(a)?a:(e(b,a.targetProcess),e(b,a.targetFlowNode),e(b,a.timerExpression),d(b,a.dataDefinitions,"defaultValueExpression","data"),d(b,a.operations,"rightOperand","operation"),d(b,a.correlations,"key","correlationKey"),d(b,a.correlations,"value","correlation"),angular.extend(a,{children:_.chain(b).compact().uniq().value()}))},f.findFromEvent=function(a){var b=[];if(!angular.isUndefined(a))return a=f.findFromFlowNode(a),d(b,a.timerEventTriggerDefinitions,f.findFromEventTrigger,"catchTimerEvent"),d(b,a.messageEventTriggerDefinitions,f.findFromEventTrigger,"catchMessageEvent"),d(b,a.signalEventTriggerDefinitions,f.findFromEventTrigger,"catchSignalEvent"),d(b,a.errorEventTriggerDefinitions,f.findFromEventTrigger,"catchErrorEvent"),d(b,a.eventTriggers,f.findFromEventTrigger),[].push.apply(a.children,_.chain(b).compact().uniqBy("id").value()),a},f.findFromConnector=function(a){var b=[];return angular.isUndefined(a)?a:(angular.forEach(a.inputs,function(c){e(b,c,{connectorId:a.connectorId})}),angular.forEach(a.outputs,function(c){e(b,c.rightOperand,{connectorId:a.connectorId})}),angular.extend(a,{children:_.chain(b).compact().uniq().value()}))},f.findFromLoopCharacteristics=function(a){var b=[];return angular.isUndefined(a)||_.isNull(a)?a:(e(b,a.loopCondition,{type:"loop"}),e(b,a.loopMax,{type:"loop"}),e(b,a.completionCondition,{type:"loop"}),e(b,a.loopCardinality,{type:"loop"}),angular.extend(a,{children:_.chain(b).compact().uniq().value()}))},f.findIconFromType=function(a){return b+c[a]},f}])}(),function(){"use strict";window.console||(window.console={log:angular.noop,error:angular.noop,debug:angular.noop,warn:angular.noop}),window.console.debug||(window.console.debug=window.console.log),window.navigator.userAgent.indexOf("IE")>-1&&(document.body.className+=" isBrowser-ie"),angular.module("com.bonitasoft.portal",["org.bonitasoft.portal","org.bonitasoft.common.resources.store","com.bonitasoft.features.admin"]).config(["bonitaProvider",function(a){a.stateResolve.featureList="FeatureManagerResolver"}]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.rule(function(a,b){if(0===b.path().indexOf("/pm"))return b.url().replace(/^\/pm/,"/admin")})}])}();