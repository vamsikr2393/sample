<div id="process-details-form-mapping"><h3>{{'Case' | translate}}</h3><table class="table table-striped"><thead><tr><th></th><th>{{'Form' | translate}}</th></tr></thead><tbody><tr><td>{{'Instantiation' | translate}}</td><td class="xeditable" ng-class="{'xeditable-nullable': formMappingCtrl.startMapping.target === 'NONE'}"><span ng-if="!formMappingCtrl.startMapping.formRequired" class="glyphicon glyphicon-info-sign" popover="{{'No contract has been defined. The form or URL specified here must only start the case and not send any data.' | translate}}" popover-trigger="mouseenter"></span> <span ng-if="formMappingCtrl.startMapping.formRequired" class="glyphicon glyphicon-info-sign" popover="{{'If you do not specify a form or a URL, the case must be started programmatically.' | translate}}" popover-trigger="mouseenter"></span> <span ng-if="formMappingCtrl.startMapping.target === 'LEGACY'">{{'Legacy' | translate}}</span> <span ng-if="formMappingCtrl.startMapping.target !== 'LEGACY'" editable-text="formMappingCtrl.startMapping.pageName" e-style="width: 550px;" e-typeahead="formPage.name for formPage in formMappingCtrl.formPagesResult | filter:$viewValue | limitTo:25" e-placeholder="{{formMappingCtrl.isTargetNoneWithoutContract(formMappingCtrl.startMapping) && 'You can specify an imported form or a URL' || 'Specify an imported form or a URL' | translate}}" onbeforesave="formMappingCtrl.updateMapping(formMappingCtrl.startMapping, $data)" onshow="formMappingCtrl.showCaption(formMappingCtrl.startMapping, true)" onhide="formMappingCtrl.showCaption(formMappingCtrl.startMapping, false)">{{formMappingCtrl.getPageMappingText(formMappingCtrl.startMapping)}}</span> <span ng-show="formMappingCtrl.startMapping.displayCaption"><br>{{'If no form is needed, leave the field empty and apply' | translate}}</span></td></tr><tr><td>{{'Overview' | translate}}</td><td class="xeditable" ng-class="{'xeditable-nullable': formMappingCtrl.overviewMapping.target === 'NONE'}"><span ng-if="formMappingCtrl.overviewMapping.target === 'LEGACY'">{{'Legacy' | translate}}</span> <span ng-if="formMappingCtrl.overviewMapping.target !== 'LEGACY'" editable-text="formMappingCtrl.overviewMapping.pageName" e-typeahead="formPage.name for formPage in formMappingCtrl.formPagesResult | filter:$viewValue | limitTo:25" e-style="width: 550px;" e-placeholder="{{'Specify an imported form or a URL' | translate}}" onbeforesave="formMappingCtrl.updateMapping(formMappingCtrl.overviewMapping, $data)">{{formMappingCtrl.getPageMappingText(formMappingCtrl.overviewMapping)}}</span></td></tr></tbody></table><hr/><h3>{{'Tasks' | translate}}</h3><div ng-if="!formMappingCtrl.taskMapping.length">{{ 'The current process has no tasks defined.' | translate}}</div><div ng-if="!!formMappingCtrl.taskMapping.length"><table class="table table-striped"><thead><tr><th class="mapping-column"></th><th class="mapping-column">{{'Form' | translate}}</th></tr></thead><tbody><tr ng-repeat="mapping in formMappingCtrl.taskMapping"><td>{{mapping.task}}</td><td class="xeditable" ng-class="{'xeditable-nullable': mapping.target === 'NONE'}"><span ng-if="!mapping.formRequired" class="glyphicon glyphicon-info-sign" popover="{{'No contract has been defined. The form or URL specified here must only execute the task and not send any data.' | translate}}" popover-trigger="mouseenter"></span> <span ng-if="mapping.formRequired" class="glyphicon glyphicon-info-sign" popover="{{'If you do not specify a form or a URL, the task must be executed programmatically.' | translate}}" popover-trigger="mouseenter"></span> <span ng-if="mapping.target === 'LEGACY'">{{'Legacy' | translate}}</span> <span ng-if="mapping.target !== 'LEGACY'" e-style="width: 550px;" e-placeholder="{{formMappingCtrl.isTargetNoneWithoutContract(mapping) && 'You can specify an imported form or a URL' || 'Specify an imported form or a URL' | translate}}" editable-text="mapping.pageName" e-typeahead="formPage.name for formPage in formMappingCtrl.formPagesResult | filter:$viewValue | limitTo:25" onbeforesave="formMappingCtrl.updateMapping(mapping, $data)" onshow="formMappingCtrl.showCaption(mapping, true)" onhide="formMappingCtrl.showCaption(mapping, false)">{{formMappingCtrl.getPageMappingText(mapping)}}</span> <span ng-show="mapping.displayCaption"><br>{{'If no form is needed, leave the field empty and apply' | translate}}</span></td></tr></tbody></table><div ng-if="formMappingCtrl.taskMappingPagination.total > formMappingCtrl.taskMappingPagination.numberPerPage"><pagination ng-click="formMappingCtrl.navigateTaskFormMapping()" boundary-links="true" total-items="formMappingCtrl.taskMappingPagination.total" ng-model="formMappingCtrl.taskMappingPagination.currentPage" items-per-page="formMappingCtrl.taskMappingPagination.numberPerPage" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" max-size="5"></pagination></div></div><hr/><div class="col-md-12"><p>{{'Before you can update a form mapping, you need to add the new form. To add it for this process only, upload it from the Form list tab' | translate }} <a href="" ui-sref="bonita.processesDetails.forms.list" ui-sref-opts="{location:false}" class="glyphicon glyphicon-download-alt"></a>.<br><br>{{'To add it at tenant level, so it can be used in more than one process or task, add the form as a resource' | translate}} <a href="" bonita-href="{token:'pagelisting'}" class="glyphicon glyphicon-download-alt"></a>.</p></div></div>